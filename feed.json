{
    "version": "https://jsonfeed.org/version/1",
    "title": "è—å™¨äºèº«",
    "subtitle": "å¾…æ—¶è€ŒåŠ¨",
    "icon": "https://gality.cn/images/favicon.ico",
    "description": "å®‰å…¨æ‚è®° & æ—¥å¸¸éšæ„Ÿ",
    "home_page_url": "https://gality.cn",
    "items": [
        {
            "id": "https://gality.cn/misc/trail-and-error/include-error/",
            "url": "https://gality.cn/misc/trail-and-error/include-error/",
            "title": "â€œC/C++æ‰¾ä¸åˆ°å¤´æ–‡ä»¶â€è§£å†³æ–¹æ¡ˆå¤§å…¨",
            "date_published": "2025-01-25T10:08:21.000Z",
            "content_html": "<div class=\"note primary no-icon\">\n<p>åœ¨ç¼–å†™ c/c++ é¡¹ç›®æ—¶ç»å¸¸ä¼šé‡è§å¤´æ–‡ä»¶æ‰¾ä¸åˆ°çš„é—®é¢˜ï¼Œå¦‚æœæ˜¯ä½¿ç”¨ IDE è¿›è¡Œå¼€å‘çš„è¯ï¼Œå¤šåŠæ˜¯å› ä¸ºæ²¡æœ‰åœ¨ IDE ä¸­é…ç½®å¥½ include pathï¼Œå‘½ä»¤è¡Œç¼–è¯‘çš„è¯åˆ™æ˜¯æ²¡æœ‰ç»™å¥½ç¼–è¯‘å‚æ•°ï¼Œè¿™é‡Œç»™å‡º â€œæ‰¾ä¸åˆ°å¤´æ–‡ä»¶é—®é¢˜â€ çš„è§£å†³æ–¹æ¡ˆå¤§å…¨ã€‚</p>\n<p><strong>Troubleshootingï»¿ï¼š</strong></p>\n<ol>\n<li><a href=\"#vscode-default-extension\">vscode é»˜è®¤ C++ æ’ä»¶</a>ï¼ˆ <code>C/C++</code> ã€ <code>C/C++ Extension Pack</code> ï¼‰</li>\n<li><a href=\"#vscode-clangd\">vscode clangd</a></li>\n<li><a href=\"#cmake\">CMake é¡¹ç›®</a></li>\n<li><a href=\"#shell\">å‘½ä»¤è¡Œç¼–è¯‘</a></li>\n<li><a href=\"#makefile\">Makefile</a></li>\n<li><a href=\"#clion\">CLion</a></li>\n</ol>\n</div>\n<h1 id=\"vscode-default-extension\"><a class=\"anchor\" href=\"#vscode-default-extension\">#</a> vscode default extension</h1>\n<p>åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª <code>c_cpp_properties.json</code> , ç„¶ååœ¨ includePath å±æ€§ä¸­æ·»åŠ ç›®æ ‡ç›®å½•.</p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token property\">\"configurations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Linux\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token property\">\"includePath\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>                <span class=\"token string\">\"$&#123;workspaceFolder&#125;\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>                <span class=\"token string\">\"$&#123;workspaceFolder&#125;/include\"</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token property\">\"defines\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token property\">\"compilerPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/usr/bin/clang\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token property\">\"cStandard\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"c11\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token property\">\"cppStandard\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"c++11\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token property\">\"intelliSenseMode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"linux-clang-x64\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"vscode-clangd\"><a class=\"anchor\" href=\"#vscode-clangd\">#</a> vscode clangd</h1>\n<p>clangd å¯¹ä»£ç è§£æçš„é€Ÿåº¦æ¯”å®˜æ–¹æ’ä»¶å¿«å¾ˆå¤šï¼Œä½†æ˜¯ç”¨çš„äººè¾ƒå°‘ï¼Œå¯¼è‡´å‡ºç°é—®é¢˜æ—¶èµ„æ–™æ¯”ä»·å°‘ã€‚</p>\n<p>å¦‚æœæ˜¯ CMake é¡¹ç›®è¯·å‚è€ƒä¸‹é¢ğŸ‘‡ï¼Œé CMake é¡¹ç›®æ·»åŠ  include path éœ€è¦åœ¨ <code>settings.json</code>  ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹</p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token property\">\"clangd.fallbackFlags\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token string\">\"-I$&#123;workspaceFolder&#125;/include\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token string\">\"-I$&#123;workspaceFolder&#125;\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">]</span></pre></td></tr></table></figure><h1 id=\"cmake\"><a class=\"anchor\" href=\"#cmake\">#</a> CMake</h1>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">include_directories</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/usr/src/linux-headers-6.8.0-51-generic/include\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># æ·»åŠ å¤´æ–‡ä»¶è·¯å¾„</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token property\">LINK_DIRECTORIES</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/usr/src/linux-headers-6.8.0-51-generic/lib\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># æ·»åŠ åº“è·¯å¾„</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token property\">LINK_LIBRARIES</span><span class=\"token punctuation\">(</span>test lib1 lib2<span class=\"token punctuation\">)</span> <span class=\"token comment\"># é“¾æ¥åº“ï¼Œæ— éœ€.lib åç¼€</span></pre></td></tr></table></figure><h1 id=\"shell\"><a class=\"anchor\" href=\"#shell\">#</a> shell</h1>\n<p>æ–¹æ³•ä¸€å¯¹äº gcc å’Œ clang æ˜¯é€šç”¨çš„ï¼Œæ–¹æ³•äºŒåªéœ€è¦æ›¿æ¢å¯¹åº”åº”ç”¨å³å¯ <code>gcc/g++/clang/clang++</code> ã€‚</p>\n<h2 id=\"æ–¹æ³•ä¸€ä¿®æ”¹ç¯å¢ƒå˜é‡\"><a class=\"anchor\" href=\"#æ–¹æ³•ä¸€ä¿®æ”¹ç¯å¢ƒå˜é‡\">#</a> æ–¹æ³•ä¸€ï¼šä¿®æ”¹ç¯å¢ƒå˜é‡</h2>\n<p>ï¼ˆä¸´æ—¶ä¿®æ”¹ï¼‰ç›´æ¥åœ¨å½“å‰ç»ˆç«¯ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">C_INCLUDE_PATH</span><span class=\"token operator\">=</span>/usr/local/C_IncludeDir:<span class=\"token variable\">$C_INCLUDE_PATH</span> <span class=\"token comment\"># æŠŠæŸ include ç›®å½•åŠ åˆ° C è¯­è¨€ç³»ç»Ÿç›®å½•</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CPLUS_INCLUDE_PATH</span><span class=\"token operator\">=</span>/usr/local/CppIncludeDir:<span class=\"token variable\">$CPLUS_INCLUDE_PATH</span> <span class=\"token comment\"># æŠŠæŸ include ç›®å½•åŠ åˆ° C++ è¯­è¨€ç³»ç»Ÿç›®å½•</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">LIBRARY_PATH</span><span class=\"token operator\">=</span>/usr/local/yourLibDir:<span class=\"token variable\">$LIBRARY_PATH</span> <span class=\"token comment\"># æ·»åŠ æŸé™æ€åº“ç›®å½•</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">LD_LIBRARY_PATH</span><span class=\"token operator\">=</span>/usr/local/yourLdLibDir:<span class=\"token variable\">$LD_LIBRARY_PATH</span> <span class=\"token comment\"># æ·»åŠ æŸåŠ¨æ€åº“ç›®å½•</span></pre></td></tr></table></figure><p>ï¼ˆæ°¸ä¹…ä¿®æ”¹ï¼‰å°†ä¸Šè¿°å†…å®¹æ·»åŠ åˆ°ä½¿ç”¨çš„ shell çš„é…ç½®æ–‡ä»¶ä¸­ï¼š</p>\n<ul>\n<li>zshï¼š <code>~/.zshrc</code></li>\n<li>bashï¼š <code>~/.bashrc</code></li>\n<li>æƒ³å¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼š <code>/etc/profile</code> ï¼ˆéœ€é‡æ–°ç™»å½•ï¼‰</li>\n</ul>\n<p>ä¿®æ”¹å®Œæˆåå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦ä¿®æ”¹æˆåŠŸï¼š</p>\n<ul>\n<li>Cï¼š <code>echo | gcc -v -x c -E -</code></li>\n<li>C++ï¼š <code>echo | g++ -v -x c++ -E -</code></li>\n</ul>\n<p>è¾“å‡ºç±»ä¼¼ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â¯ <span class=\"token builtin class-name\">echo</span> <span class=\"token operator\">|</span> gcc <span class=\"token parameter variable\">-v</span> <span class=\"token parameter variable\">-x</span> c <span class=\"token parameter variable\">-E</span> -</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Using built-in specs.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token assign-left variable\">COLLECT_GCC</span><span class=\"token operator\">=</span>gcc</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token assign-left variable\">OFFLOAD_TARGET_NAMES</span><span class=\"token operator\">=</span>nvptx-none:amdgcn-amdhsa</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token assign-left variable\">OFFLOAD_TARGET_DEFAULT</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Target: x86_64-linux-gnu</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Configured with: <span class=\"token punctuation\">..</span>/src/configure <span class=\"token parameter variable\">-v</span> --with-pkgversion<span class=\"token operator\">=</span><span class=\"token string\">'Ubuntu 13.3.0-6ubuntu2~24.04'</span> --with-bugurl<span class=\"token operator\">=</span>file:///usr/share/doc/gcc-13/README.Bugs --enable-languages<span class=\"token operator\">=</span>c,ada,c++,go,d,fortran,objc,obj-c++,m2 <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/usr --with-gcc-major-version-only --program-suffix<span class=\"token operator\">=</span>-13 --program-prefix<span class=\"token operator\">=</span>x86_64-linux-gnu- --enable-shared --enable-linker-build-id <span class=\"token parameter variable\">--libexecdir</span><span class=\"token operator\">=</span>/usr/libexec --without-included-gettext --enable-threads<span class=\"token operator\">=</span>posix <span class=\"token parameter variable\">--libdir</span><span class=\"token operator\">=</span>/usr/lib --enable-nls --enable-bootstrap --enable-clocale<span class=\"token operator\">=</span>gnu --enable-libstdcxx-debug --enable-libstdcxx-time<span class=\"token operator\">=</span>yes --with-default-libstdcxx-abi<span class=\"token operator\">=</span>new --enable-libstdcxx-backtrace --enable-gnu-unique-object --disable-vtable-verify --enable-plugin --enable-default-pie --with-system-zlib --enable-libphobos-checking<span class=\"token operator\">=</span>release --with-target-system-zlib<span class=\"token operator\">=</span>auto --enable-objc-gc<span class=\"token operator\">=</span>auto --enable-multiarch --disable-werror --enable-cet --with-arch-32<span class=\"token operator\">=</span>i686 --with-abi<span class=\"token operator\">=</span>m64 --with-multilib-list<span class=\"token operator\">=</span>m32,m64,mx32 --enable-multilib --with-tune<span class=\"token operator\">=</span>generic --enable-offload-targets<span class=\"token operator\">=</span>nvptx-none<span class=\"token operator\">=</span>/build/gcc-13-fG75Ri/gcc-13-13.3.0/debian/tmp-nvptx/usr,amdgcn-amdhsa<span class=\"token operator\">=</span>/build/gcc-13-fG75Ri/gcc-13-13.3.0/debian/tmp-gcn/usr --enable-offload-defaulted --without-cuda-driver --enable-checking<span class=\"token operator\">=</span>release <span class=\"token parameter variable\">--build</span><span class=\"token operator\">=</span>x86_64-linux-gnu <span class=\"token parameter variable\">--host</span><span class=\"token operator\">=</span>x86_64-linux-gnu <span class=\"token parameter variable\">--target</span><span class=\"token operator\">=</span>x86_64-linux-gnu --with-build-config<span class=\"token operator\">=</span>bootstrap-lto-lean --enable-link-serialization<span class=\"token operator\">=</span><span class=\"token number\">2</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Thread model: posix</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Supported LTO compression algorithms: zlib zstd</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>gcc version <span class=\"token number\">13.3</span>.0 <span class=\"token punctuation\">(</span>Ubuntu <span class=\"token number\">13.3</span>.0-6ubuntu2~24.04<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token assign-left variable\">COLLECT_GCC_OPTIONS</span><span class=\"token operator\">=</span><span class=\"token string\">'-v'</span> <span class=\"token string\">'-E'</span> <span class=\"token string\">'-mtune=generic'</span> <span class=\"token string\">'-march=x86-64'</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre> /usr/libexec/gcc/x86_64-linux-gnu/13/cc1 <span class=\"token parameter variable\">-E</span> <span class=\"token parameter variable\">-quiet</span> <span class=\"token parameter variable\">-v</span> <span class=\"token parameter variable\">-imultiarch</span> x86_64-linux-gnu - <span class=\"token parameter variable\">-mtune</span><span class=\"token operator\">=</span>generic <span class=\"token parameter variable\">-march</span><span class=\"token operator\">=</span>x86-64 -fasynchronous-unwind-tables -fstack-protector-strong <span class=\"token parameter variable\">-Wformat</span> -Wformat-security -fstack-clash-protection -fcf-protection <span class=\"token parameter variable\">-dumpbase</span> -</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>ignoring nonexistent directory <span class=\"token string\">\"/usr/local/include/x86_64-linux-gnu\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>ignoring nonexistent directory <span class=\"token string\">\"/usr/lib/gcc/x86_64-linux-gnu/13/include-fixed/x86_64-linux-gnu\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>ignoring nonexistent directory <span class=\"token string\">\"/usr/lib/gcc/x86_64-linux-gnu/13/include-fixed\"</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>ignoring nonexistent directory <span class=\"token string\">\"/usr/lib/gcc/x86_64-linux-gnu/13/../../../../x86_64-linux-gnu/include\"</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token comment\">#include \"...\" search starts here:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">#include &lt;...> search starts here:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre> /usr/lib/gcc/x86_64-linux-gnu/13/include</pre></td></tr><tr><td data-num=\"20\"></td><td><pre> /usr/local/include</pre></td></tr><tr><td data-num=\"21\"></td><td><pre> /usr/include/x86_64-linux-gnu</pre></td></tr><tr><td data-num=\"22\"></td><td><pre> /usr/include</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>End of search list.</pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\"># 0 \"&lt;stdin>\"</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\"># 0 \"&lt;built-in>\"</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\"># 0 \"&lt;command-line>\"</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\"># 1 \"/usr/include/stdc-predef.h\" 1 3 4</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token comment\"># 0 \"&lt;command-line>\" 2</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token comment\"># 1 \"&lt;stdin>\"</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token assign-left variable\">COMPILER_PATH</span><span class=\"token operator\">=</span>/usr/libexec/gcc/x86_64-linux-gnu/13/:/usr/libexec/gcc/x86_64-linux-gnu/13/:/usr/libexec/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/13/:/usr/lib/gcc/x86_64-linux-gnu/</pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token assign-left variable\">LIBRARY_PATH</span><span class=\"token operator\">=</span>/usr/lib/gcc/x86_64-linux-gnu/13/:/usr/lib/gcc/x86_64-linux-gnu/13/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/13/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/lib/:/lib/x86_64-linux-gnu/:/lib/<span class=\"token punctuation\">..</span>/lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/<span class=\"token punctuation\">..</span>/lib/:/usr/lib/gcc/x86_64-linux-gnu/13/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/:/lib/:/usr/lib/</pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token assign-left variable\">COLLECT_GCC_OPTIONS</span><span class=\"token operator\">=</span><span class=\"token string\">'-v'</span> <span class=\"token string\">'-E'</span> <span class=\"token string\">'-mtune=generic'</span> <span class=\"token string\">'-march=x86-64'</span></pre></td></tr></table></figure><p><code>include</code>  ä¸‹é¢çš„å°±æ˜¯ gcc/g++ æœç´¢å¤´æ–‡ä»¶çš„è·¯å¾„ï¼Œ <code>LIBRARY_PATH</code>  åæ˜¯æœç´¢åº“çš„è·¯å¾„ã€‚</p>\n<h2 id=\"æ–¹æ³•äºŒæ·»åŠ åˆ°ç¼–è¯‘å‘½ä»¤\"><a class=\"anchor\" href=\"#æ–¹æ³•äºŒæ·»åŠ åˆ°ç¼–è¯‘å‘½ä»¤\">#</a> æ–¹æ³•äºŒï¼šæ·»åŠ åˆ°ç¼–è¯‘å‘½ä»¤</h2>\n<p>å¯¹äº Cï¼š <code>gcc -I/home/user/my_include -L/home/user/my_lib -lmycustomlib main.c</code></p>\n<p>å¯¹äº C++ï¼š <code>g++ -I/home/user/my_include -L/home/user/my_lib -lmycustomlib main.cpp</code></p>\n<ul>\n<li><code>-I</code> ï¼šæŒ‡å®šå¤´æ–‡ä»¶æœç´¢è·¯å¾„  <code>/home/user/my_include</code></li>\n<li><code>-L</code> ï¼šæŒ‡å®šåº“æœç´¢è·¯å¾„  <code>/home/user/my_lib</code></li>\n<li><code>-l</code> ï¼šä½¿ç”¨  <code>-l&lt;åº“å&gt;</code>  æŒ‡å®šåº“åæ—¶ï¼Œ <code>gcc</code>  ä¼šè‡ªåŠ¨åŠ ä¸Š  <code>lib</code>  å‰ç¼€å’Œ  <code>.a</code>  æˆ–  <code>.so</code>  åç¼€ã€‚ä¾‹å¦‚ï¼š <code>-lmycustomlib</code>  å¯»æ‰¾çš„æ˜¯  <code>libmycustomlib.a</code>  æˆ–  <code>libmycustomlib.so</code> ã€‚</li>\n</ul>\n<h1 id=\"makefile\"><a class=\"anchor\" href=\"#makefile\">#</a> Makefile</h1>\n<p>è®¾ç½® <code>CPPFLAGS</code>  æˆ– <code>CFLAGS</code>  æ¥å°†ç¼–è¯‘å‘½ä»¤ä¼ é€’ç»™ç¼–è¯‘å™¨ï¼Œå‘½ä»¤å’Œç”¨æ³•ä¸ã€Œå‘½ä»¤è¡Œç¼–è¯‘çš„æ–¹æ³•äºŒã€å«ä¹‰ä¸€è‡´ï¼Œä¸€ä¸ª makefile ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight makefile\"><figcaption data-lang=\"makefile\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>CC <span class=\"token operator\">=</span> gcc</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># æ·»åŠ å¤´æ–‡ä»¶æœç´¢è·¯å¾„å’Œåº“æœç´¢è·¯å¾„</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>CPPFLAGS <span class=\"token operator\">+=</span> -Iinclude -Iinclude2 <span class=\"token comment\"># æ·»åŠ äº†ä¸¤ä¸ªå¤´æ–‡ä»¶æœç´¢è·¯å¾„</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>LDFLAGS <span class=\"token operator\">+=</span> -Llib -L/usr/local/lib -lmycustomlib <span class=\"token comment\"># æ·»åŠ äº†ä¸¤ä¸ªåº“æœç´¢è·¯å¾„å¹¶æŒ‡å®šé“¾æ¥ mycustomlib åº“</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>SRC <span class=\"token operator\">=</span> src/main.c</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>OBJ <span class=\"token operator\">=</span> main.o</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>TARGET <span class=\"token operator\">=</span> myprogram</pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># ç¼–è¯‘è§„åˆ™</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token target symbol\"><span class=\"token variable\">$</span>(TARGET)</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>OBJ<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>CC<span class=\"token punctuation\">)</span> -o <span class=\"token variable\">$@</span> <span class=\"token variable\">$^</span> <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>LDFLAGS<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token target symbol\">%.o</span><span class=\"token punctuation\">:</span> %.c</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>CC<span class=\"token punctuation\">)</span> -c <span class=\"token variable\">$&lt;</span> -o <span class=\"token variable\">$@</span> <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>CPPFLAGS<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token target symbol\">clean</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\trm -f <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>OBJ<span class=\"token punctuation\">)</span> <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>TARGET<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>å¦‚æœç¼–è¯‘è¿‡ç¨‹æœ‰é—®é¢˜æƒ³æ£€æŸ¥æœç´¢è·¯å¾„ï¼Œå¯ä»¥åœ¨  <code>Makefile</code>  çš„è§„åˆ™ä¸­æ·»åŠ   <code>-v</code>  é€‰é¡¹æŸ¥çœ‹ç¼–è¯‘å™¨çš„å®Œæ•´è·¯å¾„æœç´¢ä¿¡æ¯ï¼š</p>\n<figure class=\"highlight makefile\"><figcaption data-lang=\"makefile\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>CC<span class=\"token punctuation\">)</span> -v -o <span class=\"token variable\">$@</span> <span class=\"token variable\">$^</span> <span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>LDFLAGS<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h1 id=\"clion\"><a class=\"anchor\" href=\"#clion\">#</a> CLion</h1>\n<p>CLion é»˜è®¤ä½¿ç”¨ CMake ç®¡ç†é¡¹ç›®ï¼Œè¯·å‚è€ƒ<a href=\"#cmake\"> CMake</a> éƒ¨åˆ†</p>\n<p>å¦‚æœæ˜¯å¯¼å…¥ CLion çš„é¡¹ç›®æ²¡æœ‰ä½¿ç”¨ CMake ç®¡ç†ï¼š</p>\n<ul>\n<li>ï¼ˆç¼ºå¤±å¤´æ–‡ä»¶è¾ƒå°‘æˆ–æ˜¯ç¬¬ä¸‰æ–¹åº“ï¼‰å¯ä»¥ä½¿ç”¨ <code>#include</code>  åè·Ÿç»å¯¹è·¯å¾„çš„æ–¹å¼æ¥æ‰¾åˆ°å¯¹åº”çš„å¤´æ–‡ä»¶ã€‚</li>\n<li>ï¼ˆç¼ºå¤±å¤´æ–‡ä»¶è¾ƒå¤šï¼‰é…ç½® makefile æ¥ç®¡ç†é¡¹ç›®ã€‚</li>\n</ul>\n",
            "tags": [
                "æ‚é¡¹",
                "è¸©å‘",
                "æ‚é¡¹",
                "è¸©å‘",
                "Vscode",
                "C/C++"
            ]
        },
        {
            "id": "https://gality.cn/os/kernel/simplefs/",
            "url": "https://gality.cn/os/kernel/simplefs/",
            "title": "ä»0å¼€å§‹å®ç°æ–‡ä»¶ç³»ç»Ÿ",
            "date_published": "2025-01-25T03:55:33.000Z",
            "content_html": "<div class=\"note primary no-icon\">\n<p>âš™ï¸ ä»¥ä¸‹æ˜¯æœ¬ç¯‡æ–‡ç« æ‰€ä½¿ç”¨çš„ç¯å¢ƒï¼š</p>\n<ul>\n<li>Ubuntu Server 24.04</li>\n<li>Linux kernel 6.8.0-51-generic</li>\n<li>VSCode + GCC</li>\n<li></li>\n</ul>\n</div>\n<h1 id=\"ä¾èµ–\"><a class=\"anchor\" href=\"#ä¾èµ–\">#</a> ä¾èµ–</h1>\n<p>å› ä¸ºæ˜¯å†…æ ¸æ€çš„æ–‡ä»¶ç³»ç»Ÿï¼Œç¼–è¯‘å‡ºæ¥çš„æ–‡ä»¶ç³»ç»Ÿä¼šæ˜¯ä¸€ä¸ªå†…æ ¸æ¨¡å—ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ Linux å†…æ ¸å¤´æ–‡ä»¶ç”¨äºå¼€å‘ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> linux-headers-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-r</span><span class=\"token variable\">)</span></span></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤é»˜è®¤ä¼šå°† Linux å†…æ ¸å¤´æ–‡ä»¶ä¸‹è½½åˆ° <code>/usr/src</code>  ä¸‹ã€‚å¦‚æœæ›´æ–°è¿‡å†…æ ¸çš„è¯ï¼Œè¯¥ç›®å½•ä¸‹å¯èƒ½ä¼šå­˜åœ¨å¤šä¸ªç‰ˆæœ¬çš„ Linux å¤´æ–‡ä»¶ï¼Œä¸€å®šè¦ç¡®å®šä¸‹ç°åœ¨æ­£åœ¨è¿è¡Œç‰ˆæœ¬çš„ <code>Linux headers</code>  æ˜¯å¦æ­£ç¡®å®‰è£…äº†ã€‚</p>\n<h1 id=\"å¼€å‘ç¯å¢ƒ\"><a class=\"anchor\" href=\"#å¼€å‘ç¯å¢ƒ\">#</a> å¼€å‘ç¯å¢ƒ</h1>\n<p>ç¬”è€…ä½¿ç”¨ VSCode è¿›è¡Œå¼€å‘ï¼Œæ‰€ä»¥è¿˜éœ€è¦é¢å¤–é…ç½®ä¸‹ï¼Œå¦åˆ™ä¼šåœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡è§ä¸€å †å¤´æ–‡ä»¶æ‰¾ä¸åˆ°ã€ <code>undefined</code> ã€ <code>redefined</code>  çš„é—®é¢˜ã€‚æ–°å»º <code>.vscode</code>  ç›®å½•å¹¶åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»º <code>c_cpp_properties.json</code> ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token property\">\"configurations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Linux\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token property\">\"includePath\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token string\">\"/usr/src/linux-headers-6.8.0-51/include\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token string\">\"/usr/src/linux-headers-6.8.0-51-generic/include\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token string\">\"/usr/src/linux-headers-6.8.0-51/arch/x86/include\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token string\">\"/usr/src/linux-headers-6.8.0-51/arch/x86/include/uapi/\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token string\">\"/usr/src/linux-headers-6.8.0-51-generic/arch/x86/include/generated/uapi/\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token string\">\"/usr/include\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token property\">\"defines\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token string\">\"__KERNEL__\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token string\">\"MODULE\"</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token property\">\"compilerPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/usr/bin/gcc\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token property\">\"cStandard\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gnu11\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token property\">\"cppStandard\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"c++17\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token property\">\"intelliSenseMode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"linux-gcc-x64\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token property\">\"compilerArgs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token string\">\"-nostdinc\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token string\">\"-isystem\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token string\">\"/usr/lib/gcc/x86_64-linux-gnu/13/include\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token string\">\"-isystem\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token string\">\"/usr/include\"</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å…¶ä¸­ <code>includePath</code>  å’Œ <code>compilerArgs</code>  ä¸­çš„ <code>&quot;/usr/lib/gcc/x86_64-linux-gnu/13/include&quot;</code>  è¦è®°å¾—æ›¿æ¢æˆè‡ªå·±ç³»ç»Ÿä¸Šå¯¹åº”çš„è·¯å¾„ã€‚</p>\n<div class=\"note warning\">\n<p>Linux kernel é€šå¸¸ç”¨ GCC ç¼–è¯‘ï¼Œå¦‚æœä½¿ç”¨ vscode çš„ <code>clangd</code>  æ’ä»¶æˆ–è€…åœ¨é…ç½® intelliSense æ—¶ä½¿ç”¨ <code>clang</code>  ä½œä¸ºåç«¯ï¼Œåœ¨è§£ææ—¶å¯èƒ½ä¼šä¸è¯†åˆ«ç‰¹å®šçš„ GCC å†…æ ¸æ‰©å±•ã€‚æ‰€ä»¥å»ºè®®åœ¨è¿›è¡Œå†…æ ¸æ¨¡å—å¼€å‘æ—¶ä½¿ç”¨ vscode çš„å®˜æ–¹ C/C++ æ’ä»¶å¹¶é…ç½®ä½¿ç”¨ GCC ä½œä¸ºè¯­è¨€å¼•æ“ï¼Œå¹¶æŒ‰ä¸Šè¿°æ¨¡ç‰ˆå¯¹å·¥ä½œåŒºè¿›è¡Œé…ç½®ï¼Œä»¥é¿å…ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦ã€‚</p>\n</div>\n<h1 id=\"hello-world\"><a class=\"anchor\" href=\"#hello-world\">#</a> Hello world</h1>\n<h2 id=\"ç®€å•çš„å¼€å§‹\"><a class=\"anchor\" href=\"#ç®€å•çš„å¼€å§‹\">#</a> ç®€å•çš„å¼€å§‹</h2>\n<p>å½“æˆ‘ä»¬è‡ªå·±å®ç°äº†ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿåï¼Œè¯¥æ–‡ä»¶ç³»ç»Ÿä¼šä»¥å†…æ ¸æ¨¡å—çš„å½¢å¼å­˜åœ¨ï¼Œå¹¶å¯è¢«å†…æ ¸è½½å…¥å¹¶ä½¿ç”¨ï¼Œæ‰€ä»¥å®ç°æ–‡ä»¶ç³»ç»Ÿçš„ç¬¬ä¸€æ­¥ä»ç¼–å†™ Linux å†…æ ¸æ¨¡å—å¼€å§‹ï¼Œåˆ›å»ºä¸€ä¸ª <code>simple.c</code>  æ–‡ä»¶å¹¶å†™å…¥å¦‚ä¸‹å†…å®¹ã€‚</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// simple.c</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;linux/init.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;linux/module.h></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token function\">simplefs_init</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token function\">printk</span><span class=\"token punctuation\">(</span>KERN_ALERT <span class=\"token string\">\"Hello world from simplefs!\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">simplefs_exit</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token function\">printk</span><span class=\"token punctuation\">(</span>KERN_ALERT <span class=\"token string\">\"Goodbye from simplefs!\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token function\">module_init</span><span class=\"token punctuation\">(</span>simplefs_init<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token function\">module_exit</span><span class=\"token punctuation\">(</span>simplefs_exit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token function\">MODULE_LICENSE</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CC0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token function\">MODULE_AUTHOR</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Gality\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>è¿™æ®µä»£ç å®ç°äº†ä¸€ä¸ªç®€å•çš„ Linux å†…æ ¸æ¨¡å—ï¼Œæ¼”ç¤ºäº†å¦‚ä½•åŠ è½½å’Œå¸è½½æ¨¡å—ï¼Œå¹¶æ‰“å°å†…æ ¸æ—¥å¿—æ¶ˆæ¯ï¼Œä¸‹é¢è¿›è¡Œè¯¦ç»†çš„è§£é‡Šã€‚</p>\n<p>é¦–å…ˆæˆ‘ä»¬å¼•å…¥äº†ä¸¤ä¸ªå¿…è¦çš„å¤´æ–‡ä»¶ï¼š</p>\n<ul>\n<li><code>&lt;linux/init.h&gt;</code> ï¼šåŒ…å«äº†ä¸æ¨¡å—åˆå§‹åŒ–å’Œé€€å‡ºç›¸å…³çš„å®å’Œå‡½æ•°ï¼ˆå¦‚  <code>module_init</code>  å’Œ  <code>module_exit</code> ï¼‰ã€‚</li>\n<li><code>&lt;linux/module.h&gt;</code> : æä¾›å®šä¹‰å†…æ ¸æ¨¡å—æ‰€éœ€çš„åŸºç¡€è®¾æ–½ã€‚åŒ…å«æ¨¡å—åŠ è½½ã€å¸è½½æ‰€éœ€çš„å®å’Œç»“æ„ï¼ˆå¦‚  <code>MODULE_LICENSE</code>  å’Œ  <code>MODULE_AUTHOR</code> ï¼‰ã€‚</li>\n</ul>\n<p>æ¥ç€æˆ‘ä»¬å®šä¹‰äº†æ¨¡å—åˆå§‹åŒ–å‡½æ•° <code>simplefs_init</code> ï¼Œè¯¥å‡½æ•°éå¸¸ç®€å•ï¼Œåªä½¿ç”¨ <code>printk</code>  æ‰“å°äº†ä¸€æ¡æ—¥å¿—æ¶ˆæ¯ï¼Œè¯¥æ¶ˆæ¯çš„ä¼˜å…ˆçº§ä¸º <code>KERN_ALERT</code> ï¼Œè¡¨ç¤ºç´§æ€¥æ¶ˆæ¯ï¼Œè¯¥ä¼˜å…ˆçº§çš„æ¶ˆæ¯åœ¨å†…æ ¸æ—¥å¿—ä¸­é€šå¸¸ä¼šç”¨çº¢è‰²é«˜äº®æ˜¾ç¤ºã€‚ <code>printk</code>  å‘å†…æ ¸æ—¥å¿—ä¸­æ‰“å°ä¸€æ¡æ¶ˆæ¯ï¼Œå†…æ ¸æ—¥å¿—å¯ä»¥é€šè¿‡ <code>sudo dmesg</code>  æ¥æŸ¥çœ‹ã€‚å½“è¯¥æ¨¡å—è¢«æˆåŠŸåŠ è½½æ—¶ä¼šè¿”å› <code>0</code> ï¼Œå¤±è´¥æ—¶ä¼šè¿”å›è´Ÿå€¼ï¼Œå°±åƒ <code>main</code>  å‡½æ•°çš„è¿”å›å€¼ä¸€æ ·ã€‚</p>\n<p>åŒç†æˆ‘ä»¬åˆå®šä¹‰äº†æ¨¡å—é€€å‡ºå‡½æ•°ã€‚ä¸Šè¿°ä¸¤ä¸ªå‡½æ•°çš„å‡½æ•°åŸå‹æ˜¯å›ºå®šçš„ï¼Œåªæœ‰è¿™æ ·å†…æ ¸æ‰èƒ½æ­£ç¡®çš„è°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°æ¥å¤„ç†æ¨¡å—çš„åˆå§‹åŒ–å’Œé€€å‡ºã€‚</p>\n<p>å®šä¹‰å®Œä¸Šè¿°ä¸¤ä¸ªå‡½æ•°åï¼Œå†…æ ¸è¿˜å¹¶ä¸çŸ¥é“ä»–ä»¬ï¼Œæˆ‘ä»¬éœ€è¦æ˜¾å¼çš„å‘å†…æ ¸æ³¨å†Œè¿™ä¸¤ä¸ªå‡½æ•°ï¼Œ <code>module_init()</code>  å’Œ <code>module_exit()</code>  æ˜¯å†…æ ¸å®šä¹‰çš„ä¸¤ä¸ªå®ï¼Œç”¨äºå¼€å‘è€…æ˜¾å¼æŒ‡å®šæ¨¡å—çš„åˆå§‹åŒ–å‡½æ•°å’Œé€€å‡ºå‡½æ•°ã€‚ <code>module_init(simplefs_init);</code>  å®šä¹‰æ¨¡å—çš„å…¥å£å‡½æ•°ä¸º  <code>simplefs_init</code> , å½“é€šè¿‡  <code>insmod</code>  å‘½ä»¤åŠ è½½æ¨¡å—æ—¶ï¼Œå†…æ ¸ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥å‡½æ•°ã€‚åŒç† <code>module_exit(simplefs_exit);</code> ï¼Œå®šä¹‰æ¨¡å—çš„é€€å‡ºå‡½æ•°ä¸º  <code>simplefs_exit</code> ï¼Œå½“é€šè¿‡  <code>rmmod</code>  å‘½ä»¤å¸è½½æ¨¡å—æ—¶ï¼Œå†…æ ¸ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥å‡½æ•°ã€‚</p>\n<p>æœ€åï¼Œæˆ‘ä»¬ä¸ºæ¨¡å—å¢åŠ äº†ä¸€äº›å…ƒä¿¡æ¯ï¼š</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">MODULE_LICENSE</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CC0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">MODULE_AUTHOR</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Gality\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>\n<p><code>MODULE_LICENSE(&quot;CC0&quot;)</code> ï¼šå£°æ˜æ¨¡å—çš„è®¸å¯è¯ç±»å‹ã€‚ <code>CC0</code>  æ˜¯ Creative Commons Zero è®¸å¯è¯ï¼Œè¡¨ç¤ºæ¨¡å—æ˜¯å¼€æºçš„ä¸”æ— ä»»ä½•é™åˆ¶ã€‚å¦‚æœä¸å£°æ˜è®¸å¯è¯ï¼ŒåŠ è½½æ¨¡å—æ—¶ä¼šæœ‰è­¦å‘Šï¼ˆ <code>tainted kernel</code> ï¼‰ï¼Œå› ä¸ºå†…æ ¸åªå…è®¸åŠ è½½å…·æœ‰æ˜ç¡®è®¸å¯è¯å£°æ˜çš„æ¨¡å—ã€‚</p>\n</li>\n<li>\n<p><code>MODULE_AUTHOR(&quot;Gality&quot;)</code> ï¼šæ¨¡å—ä½œè€…çš„å£°æ˜ã€‚</p>\n</li>\n</ul>\n<p>ä»¥ä¸Šä¿¡æ¯åœ¨æŸ¥çœ‹æ¨¡å—ä¿¡æ¯ï¼ˆå¦‚  <code>modinfo</code>  å‘½ä»¤ï¼‰æ—¶ä¼šæ˜¾ç¤ºã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â¯ modinfo simplefs.ko</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>filename:       /home/ubuntu/project/simplefs/simplefs.ko</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>author:         Gality</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>license:        CC0</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>srcversion:     D70AB61861030640F30C416</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>depends:</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>retpoline:      Y</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>name:           simplefs</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>vermagic:       <span class=\"token number\">6.8</span>.0-51-generic SMP preempt mod_unload modversions</pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±ç¼–å†™äº†ä¸€ä¸ªæœ€ç®€å•çš„å†…æ ¸æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—ä»€ä¹ˆéƒ½æ²¡åšï¼Œåªæ˜¯åœ¨åŠ è½½æ—¶é—®å€™äº†ä¸€ä¸‹è¿™ä¸ªä¸–ç•Œè€Œå·²ï¼Œä½†è¿™æ˜¯ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œä¸æ˜¯å—ï¼Ÿ</p>\n<h2 id=\"makefile\"><a class=\"anchor\" href=\"#makefile\">#</a> Makefile</h2>\n<p>æˆ‘ä»¬è¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªç®€å•çš„ makefile æ–‡ä»¶æ¥æŒ‡å¯¼ç¼–è¯‘å†…æ ¸æ¨¡å—ï¼Œç¼–è¯‘å†…æ ¸æ¨¡å—çš„ makefile åŒå¸¸è§„ç¨‹åºä¸åŒï¼Œä½†ä¹Ÿåªæ˜¯å¤æ‚ä¸€ç‚¹ç‚¹ï¼š</p>\n<figure class=\"highlight makefile\"><figcaption data-lang=\"makefile\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Makefile</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>obj-m <span class=\"token operator\">:=</span> simplefs.o</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>simplefs-objs <span class=\"token operator\">:=</span> simple.o</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token target symbol\">all</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\tmake -C /lib/modules/<span class=\"token variable\">$</span><span class=\"token punctuation\">(</span><span class=\"token function\">shell</span> uname -r<span class=\"token punctuation\">)</span>/build M<span class=\"token operator\">=</span><span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>PWD<span class=\"token punctuation\">)</span> modules</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token target symbol\">clean</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\tmake -C /lib/modules/<span class=\"token variable\">$</span><span class=\"token punctuation\">(</span><span class=\"token function\">shell</span> uname -r<span class=\"token punctuation\">)</span>/build M<span class=\"token operator\">=</span><span class=\"token variable\">$</span><span class=\"token punctuation\">(</span>PWD<span class=\"token punctuation\">)</span> clean</pre></td></tr></table></figure><ul>\n<li><code>obj-m := simplefs.o</code> ï¼š <code>obj-m</code>  ç”¨äºæŒ‡å®šå†…æ ¸æ¨¡å—çš„ç›®æ ‡æ–‡ä»¶ï¼Œå¹¶è¡¨ç¤ºæŠŠæ–‡ä»¶ä½œä¸º &quot;æ¨¡å—&quot; è¿›è¡Œç¼–è¯‘ï¼Œä¸ä¼šç¼–è¯‘åˆ°å†…æ ¸ï¼Œå› ä¸ºæŒ‡å®šäº†æ¨¡å—çš„ç›®æ ‡æ–‡ä»¶ä¸º <code>simplefs.o</code> ï¼Œæ‰€ä»¥æœ€ç»ˆä¼šæˆä¸€ä¸ªç‹¬ç«‹å†…æ ¸æ¨¡å—æ–‡ä»¶  <code>simplefs.ko</code>  ã€‚</li>\n<li><code>simplefs-objs := simple.o</code> ï¼š <code>simplefs-objs</code>  æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè¡¨ç¤º  <code>simplefs.o</code>  æ¨¡å—ç”±å“ªäº›æºæ–‡ä»¶ç»„æˆï¼Œè¿™é‡Œè¡¨ç¤º <code>simplefs.o</code>  æ¨¡å—ç”±  <code>simple.o</code>  çš„é“¾æ¥è€Œæˆï¼Œå¦‚æœæ¨¡å—ç”±å¤šä¸ªæºæ–‡ä»¶ç»„æˆï¼ˆä¾‹å¦‚  <code>simple1.c</code>  å’Œ  <code>simple2.c</code> ï¼‰ï¼Œå¯ä»¥å†™ä¸ºï¼š <code>simplefs-objs := simple1.o simple2.o</code> ã€‚</li>\n<li><code>all</code>  æ˜¯ä¸€ä¸ªä¼ªç›®æ ‡ï¼Œç”¨äºå®šä¹‰é»˜è®¤æ„å»ºè¡Œä¸ºï¼Œç›´æ¥ä½¿ç”¨ <code>make</code>  è€Œä¸åŠ ç›®æ ‡æ—¶é»˜è®¤ç›®æ ‡å°±æ˜¯ <code>all</code> ã€‚</li>\n<li><code>make -C /lib/modules/$(shell uname -r)/build M=$(PWD) modules</code>  ä¸­ <code>-C</code>  æŒ‡å®šäº† <code>make</code>  çš„ç›®å½•ï¼Œ <code>/lib/modules/$(shell uname -r)/build</code>  æ˜¯å†…æ ¸æºç çš„æ„å»ºç›®å½•ï¼Œå³ <code>make</code>  ä¼šå…ˆåˆ‡æ¢åˆ°ï¼ˆ <code>cd</code> ï¼‰<ins class=\"wavy\">å½“å‰ç³»ç»Ÿæ­£åœ¨è¿è¡Œçš„å†…æ ¸ç‰ˆæœ¬</ins>çš„ç³»ç»Ÿå†…æ ¸æ„å»ºç›®å½•ä¸­å»ã€‚ <code>-M</code>  åˆ™æŒ‡å®šäº†å¤–éƒ¨æ¨¡å—æºç çš„ç›®å½•ï¼ˆå³å½“å‰ç›®å½•ï¼‰ã€‚å‘½ä»¤çš„ç›®æ ‡æ˜¯  <code>modules</code> ï¼Œè¡¨ç¤ºåªç¼–è¯‘æ¨¡å—ï¼ˆè€Œä¸æ˜¯æ•´ä¸ªå†…æ ¸ï¼‰ã€‚</li>\n<li>åŒç† <code>make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean</code>  ç”¨äºåˆ é™¤æ„å»ºè¿‡ç¨‹ä¸­ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶ï¼ˆä¾‹å¦‚  <code>.o</code> ã€ <code>.ko</code> ã€ <code>.mod.c</code>  ç­‰ï¼‰ã€‚</li>\n</ul>\n<h2 id=\"è¿è¡Œ\"><a class=\"anchor\" href=\"#è¿è¡Œ\">#</a> è¿è¡Œ</h2>\n<p>ä»¥ä¸Šæˆ‘ä»¬å°±ç¼–å†™äº†ä¸€ä¸ªç®€å•çš„å†…æ ¸æ¨¡å—å’Œä»–çš„ makefile æ–‡ä»¶ï¼Œå¯ä»¥æ¥ç¼–è¯‘å¹¶åŠ è½½äº†ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>insmod simplefs.ko <span class=\"token comment\"># è£…è½½å†…æ ¸æ¨¡å—</span></pre></td></tr></table></figure><details class=\"warning\"><summary>å¦‚æœè£…è½½æ—¶æŠ¥é”™ï¼šInvalid module format</summary><div>\n<p>å¯ä»¥é€šè¿‡ <code>sudo dmesg</code>  æ¥æŸ¥çœ‹è¯¦ç»†çš„å‡ºé”™åŸå› ï¼Œå¦‚æœæŠ¥é”™åŸå› ä¸ºï¼š <code>.gnu.linkonce.this_module section size must match the kernel's built struct module size at run time</code> ï¼Œå¯ä»¥å°è¯•é€šè¿‡å¦‚ä¸‹æ–¹å¼æ¥è§£å†³ï¼š</p>\n<ol>\n<li><code>sudo apt install --reinstall linux-headers-$(uname -r)</code></li>\n<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ <code>make clean &amp;&amp; make</code></li>\n</ol>\n<p>ç„¶åå†æ¬¡å°è¯• <code>insmod simplefs.ko</code>  å³å¯æˆåŠŸè£…è½½ï¼Œä¸å¤ªæ¸…æ¥šåŸå› æ˜¯ä¸ºä»€ä¹ˆï¼Œä½†è¿™ç§æ–¹å¼ç¡®å®å¯ä»¥è§£å†³é—®é¢˜ï¼Œå‚è€ƒï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzc2MjM2MTcvY3VzdG9tLWxpbnV4LWtlcm5lbC1tb2R1bGUtZ251LWxpbmtvbmNlLXRoaXMtbW9kdWxlLXNlY3Rpb24tc2l6ZS1tdXN0LW1hdGNoLXQ=\">https://stackoverflow.com/questions/77623617/custom-linux-kernel-module-gnu-linkonce-this-module-section-size-must-match-t</span></p>\n</div></details>\n<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œä½ å°±å¯ä»¥åœ¨å†…æ ¸æ—¥å¿—ä¸­çœ‹åˆ° <code>Hello world from simplefs!</code>  äº†ã€‚åŒæ ·çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>rmmod simplefs</code>  å‘½ä»¤æ¥å¸è½½æ¨¡å—ã€‚</p>\n",
            "tags": [
                "æ“ä½œç³»ç»Ÿ",
                "å†…æ ¸",
                "ä»0åˆ°1",
                "æ“ä½œç³»ç»Ÿ",
                "ç³»åˆ—é•¿ç¯‡",
                "æ–‡ä»¶ç³»ç»Ÿ",
                "kernel",
                "linux"
            ]
        },
        {
            "id": "https://gality.cn/scientific-research/thesis-reading/JANUS/",
            "url": "https://gality.cn/scientific-research/thesis-reading/JANUS/",
            "title": "è®ºæ–‡é˜…è¯»ï½œ Fuzzing File Systems via Two-Dimensional Input Space Exploration",
            "date_published": "2025-01-22T14:27:11.000Z",
            "content_html": "<div class=\"note info no-icon\">\n<p><font size=5><strong>Remark</strong></font></p>\n<hr />\n<ul>\n<li>âœï¸ Xu W, Moon H, Kashyap S, et al. Fuzzing file systems via two-dimensional input space exploration[C]//2019 IEEE Symposium on Security and Privacy (SP). IEEE, 2019: 818-834.</li>\n<li>ğŸ¥‡ Rank: <mark>CCF <strong>A</strong></mark></li>\n<li>ğŸ“– Paperï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ndHMzLm9yZy9hc3NldHMvcGFwZXJzLzIwMTkveHU6amFudXMucGRm\">https://gts3.org/assets/papers/2019/xu:janus.pdf</span></li>\n<li>ğŸ’» Code: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NzbGFiLWdhdGVjaC9qYW51cw==\">https://github.com/sslab-gatech/janus</span></li>\n<li>ğŸ Bugs: 90 found, 62 acknowledged, 43 fixed, 32 CVEs.</li>\n</ul>\n</div>\n<details class=\"primary\"><summary>æ€è€ƒğŸ¤”</summary><div>\n<p>å¾ˆæ‰å®çš„ä¸€ç¯‡å·¥ä½œï¼Œä½œè€…æå‡ºè¦åœ¨ image å’Œ syscall ä¸¤ä¸ªç»´åº¦æ¥æµ‹è¯•æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨å˜å¼‚ image æ—¶åªå˜å¼‚å¯¹ç³»ç»Ÿå½±å“è¾ƒå¤§çš„ metadataï¼Œæå‡ fuzz æ•ˆæœçš„åŒæ—¶è¿˜å‡å°‘äº†éœ€è¦å˜å¼‚çš„æ•°æ®å¤§å°ï¼›åœ¨å˜å¼‚ syscall æ—¶é‡‡ç”¨äº†å’Œ syzkaller ç±»ä¼¼çš„ç­–ç•¥ï¼ŒåŒºåˆ«æ˜¯ä½œè€…åˆ©ç”¨äº†æ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€ä¿¡æ¯ï¼ˆä¾‹å¦‚æ–‡ä»¶ã€è·¯å¾„ã€æƒé™ç­‰ï¼‰å¹¶ä¸”è¿½è¸ªäº†æ¯ä¸ª syscall å¯¹ç³»ç»Ÿçš„å½±å“ï¼Œé—æ†¾çš„æ˜¯ï¼Œç”±äºæœªèƒ½åœ¨æ‰§è¡Œ syscall æ—¶ä¸ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œéƒ¨åˆ†ä¼šå¯¼è‡´æ–‡ä»¶ç³»ç»ŸçŠ¶æ€å˜åŒ–çš„ syscall ä¸ä¼šè¿›è¡Œå˜å¼‚ï¼ˆä¾‹å¦‚ <code>unlink()</code>  è¿™ç±»å¯èƒ½ä¼šåˆ é™¤æ–‡ä»¶çš„ syscallï¼‰ï¼Œç†è®ºæ¥è¯´è¿˜æ˜¯ä¼šæœ‰éƒ¨åˆ†çŠ¶æ€ç©ºé—´æ˜¯æ¢ç´¢ä¸åˆ°çš„ã€‚</p>\n<p>åŒæ—¶ä½œè€…è¿˜åœ¨ LKL ä¸Šå®ç°äº†è¾ƒæ–°ç‰ˆæœ¬çš„ Linux å†…æ ¸ï¼Œä»è€Œå¯ä»¥ä»¥æ¯«ç§’çº§çš„é€Ÿåº¦é‡ç½®ç³»ç»ŸçŠ¶æ€ï¼Œè¿™ä¸€ç‚¹ç¡®å®æ˜¯å…¶ä»–æ¨¡æ‹Ÿæ‰§è¡Œæ–¹å¼æ— æ³•ä¼åŠçš„ï¼ŒLKL å¸¦æ¥çš„åŠ é€Ÿå¯¹æ•´ä½“ fuzzing é€Ÿåº¦å’Œå¯å¤ç°æ€§çš„æå‡éå¸¸æ˜æ˜¾ï¼Œç„¶è€Œï¼ŒLKL è‡ªèº«å·²ç»ä¸åœ¨æ”¯æŒæ–°ç‰ˆæœ¬çš„ Linux å†…æ ¸äº†ï¼Œå¦‚æœæƒ³ç”¨ LKL æµ‹è¯• v6.0 ä»¥ä¸Šç‰ˆæœ¬çš„è¯ï¼Œé€‚é…çš„å·¥ä½œé‡å¯èƒ½ä¼šéå¸¸å·¨å¤§ã€‚</p>\n<p>æœ‰å…³äºæ–‡ä»¶ç³»ç»Ÿ fuzz çš„å·¥ä½œå¹¶ä¸æ˜¯å¾ˆå¤šï¼Œè¿™ç¯‡è®ºæ–‡åŠå…¶åç»­çš„ä¸¤ç¯‡è®ºæ–‡ï¼ˆFinding Semantic Bugs in File Systems with an Extensible Fuzzing Frameworkï¼‰çš„æˆæœéƒ½éå¸¸å¥½ï¼Œå€¼å¾—è®¤çœŸåˆ†æç ”ç©¶ï¼ŒåŒæ—¶<a href=\"#related-work\"> Related Work</a> ä¸­çš„ä¸€äº›å·¥ä½œä¹Ÿéå¸¸æœ‰æ„æ€ï¼Œå¯ä»¥å¤šçœ‹çœ‹ã€‚</p>\n</div></details>\n<h1 id=\"abstract\"><a class=\"anchor\" href=\"#abstract\">#</a> Abstract</h1>\n<p>æ–‡ä»¶ç³»ç»Ÿæ˜¯æ“ä½œç³»ç»Ÿçš„åŸºæœ¬æ„å»ºæ¨¡å—ï¼Œé€šå¸¸ä½“ç§¯åºå¤§ä¸”æä¸ºå¤æ‚ï¼Œå› æ­¤éš¾ä»¥åšåˆ°å®Œå…¨æ— é”™è¯¯ã€‚ç›®å‰ï¼Œæ–‡ä»¶ç³»ç»Ÿä¸»è¦ä¾èµ–å¸¸è§„çš„å‹åŠ›æµ‹è¯•å·¥å…·å’Œå½¢å¼åŒ–æ£€æŸ¥å·¥å…·æ¥å‘ç°æ¼æ´ï¼Œä½†éšç€æ–‡ä»¶ç³»ç»Ÿå’Œæ“ä½œç³»ç»Ÿå¤æ‚æ€§çš„ä¸æ–­å¢åŠ ï¼Œè¿™äº›å·¥å…·çš„èƒ½åŠ›é€æ¸æ˜¾å¾—æœ‰é™ã€‚å› æ­¤ï¼Œæ¨¡ç³Šæµ‹è¯•ä½œä¸ºä¸€ç§ä¸éœ€è¦æ·±å…¥äº†è§£ç›®æ ‡ç³»ç»Ÿå´è¡Œä¹‹æœ‰æ•ˆçš„å®ç”¨æ–¹æ³•ï¼Œé€æ¸æˆä¸ºé¦–é€‰ã€‚ç„¶è€Œï¼Œæ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•é¢ä¸´ä»¥ä¸‹ä¸‰ä¸ªä¸»è¦æŒ‘æˆ˜ï¼š</p>\n<ol>\n<li>å¯¹å¤§å‹é•œåƒæ–‡ä»¶è¿›è¡Œå˜å¼‚æ“ä½œä¼šæ˜¾è‘—é™ä½æ•´ä½“æ€§èƒ½ï¼ˆå¯èƒ½éœ€è¦å˜å¼‚å‡ ç™¾ M ç”šè‡³æ•°å GB æ•°æ®ï¼‰ã€‚</li>\n<li>éœ€è¦ç”Ÿæˆä¸é•œåƒç›¸å…³è”çš„æ–‡ä»¶æ“ä½œï¼ˆsyscall åŠç‰¹å®šçš„å‚æ•°ï¼‰ã€‚</li>\n<li>ç°æœ‰çš„æ“ä½œç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·éš¾ä»¥é‡ç°å‘ç°çš„æ¼æ´ã€‚</li>\n</ol>\n<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº† <strong>JANUS</strong>ï¼Œè¿™æ˜¯é¦–ä¸ªåé¦ˆé©±åŠ¨çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œèƒ½å¤Ÿæ¢ç´¢æ–‡ä»¶ç³»ç»Ÿçš„äºŒç»´è¾“å…¥ç©ºé—´ã€‚<span class=\"red\">JANUS é€šè¿‡å˜å¼‚å¤§å‹é•œåƒä¸­çš„å…ƒæ•°æ®ï¼ŒåŒæ—¶ç”Ÿæˆä¸é•œåƒç›¸å…³çš„æ–‡ä»¶æ“ä½œæ¥æµ‹è¯•æ–‡ä»¶ç³»ç»Ÿ</span>ã€‚æ­¤å¤–ï¼ŒJANUS ä½¿ç”¨<span class=\"read\">åº“æ“ä½œç³»ç»Ÿï¼ˆLibrary OSï¼‰æ›¿ä»£ä¼ ç»Ÿè™šæ‹Ÿæœºè¿›è¡Œæ¨¡ç³Šæµ‹è¯•</span>ï¼Œä½¿å…¶å¯ä»¥åŠ è½½æ“ä½œç³»ç»Ÿçš„æ–°å‰¯æœ¬ï¼Œä»è€Œå¤§å¹…æé«˜æ¼æ´é‡ç°çš„èƒ½åŠ›ã€‚</p>\n<p>æˆ‘ä»¬åœ¨å…«ç§æ–‡ä»¶ç³»ç»Ÿä¸Šè¯„ä¼°äº† JANUS çš„æ€§èƒ½ï¼Œå‘ç°äº† Linux å†…æ ¸ä¸­çš„ 90 ä¸ªæ¼æ´ï¼Œå…¶ä¸­ 62 ä¸ªå·²è¢«å®˜æ–¹ç¡®è®¤ã€‚å…±æœ‰ 43 ä¸ªæ¼æ´å·²ä¿®å¤ï¼Œå¹¶åˆ†é…äº† 32 ä¸ª CVEï¼ˆå…¬å…±æ¼æ´æŠ«éœ²ç¼–å·ï¼‰ã€‚ä¸ç›®å‰æœ€å…ˆè¿›çš„æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…· Syzkaller ç›¸æ¯”ï¼ŒJANUS åœ¨è¿è¡Œ 12 å°æ—¶åï¼Œå¯¹æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿéƒ½å®ç°äº†æ›´é«˜çš„ä»£ç è¦†ç›–ç‡ã€‚å…·ä½“è€Œè¨€ï¼Œåœ¨ Btrfs å’Œ ext4 æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ŒJANUS åˆ†åˆ«è®¿é—®äº† 4.19 å€å’Œ 2.01 å€äº Syzkaller çš„ä»£ç è·¯å¾„ã€‚æ­¤å¤–ï¼ŒJANUS èƒ½å¤ŸæˆåŠŸé‡ç° 88% è‡³ 100% çš„å´©æºƒï¼Œè€Œ Syzkaller å¯¹è¿™äº›å´©æºƒå‡æ— æ³•é‡ç°ã€‚</p>\n<p>é€šè¿‡ä»¥ä¸Šæ”¹è¿›ï¼ŒJANUS ä¸ä»…æ˜¾è‘—æå‡äº†æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•çš„æ•ˆç‡ï¼Œè¿˜ä¸ºå‘ç°å’Œä¿®å¤æ–‡ä»¶ç³»ç»Ÿæ¼æ´æä¾›äº†ä¸€ç§æ›´å¯é çš„å·¥å…·ã€‚</p>\n<h1 id=\"introduction\"><a class=\"anchor\" href=\"#introduction\">#</a> Introduction</h1>\n<p>æ–‡ä»¶ç³»ç»Ÿæ˜¯æ“ä½œç³»ç»Ÿæœ€åŸºæœ¬çš„ç³»ç»ŸæœåŠ¡ä¹‹ä¸€ï¼Œåœ¨ç®¡ç†ç”¨æˆ·æ–‡ä»¶å’Œåœ¨ç³»ç»Ÿå´©æºƒæ—¶ä¿æŒæ•°æ®ä¸€è‡´æ€§æ–¹é¢å‘æŒ¥ç€é‡è¦ä½œç”¨ã€‚ç›®å‰ï¼Œå¤§å¤šæ•°ä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆä¾‹å¦‚ ext4ã€XFSã€Btrfs å’Œ F2FSï¼‰è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ä¸­ã€‚å› æ­¤ï¼Œæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ¼æ´å¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„é”™è¯¯ï¼Œä¾‹å¦‚ç³»ç»Ÿé‡å¯ã€æ“ä½œç³»ç»Ÿæ­»é”ä»¥åŠæ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿé•œåƒçš„ä¸å¯æ¢å¤é”™è¯¯ã€‚æ­¤å¤–ï¼Œè¿™äº›æ¼æ´è¿˜å¯èƒ½å¸¦æ¥ä¸¥é‡çš„å®‰å…¨å¨èƒã€‚ä¾‹å¦‚ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æŒ‚è½½ç²¾å¿ƒæ„é€ çš„ç£ç›˜é•œåƒæˆ–è°ƒç”¨å­˜åœ¨æ¼æ´çš„æ–‡ä»¶ç³»ç»Ÿç‰¹å®šæ“ä½œæ¥åœ¨ç›®æ ‡æœºå™¨ä¸Šå®ç°ä»£ç æ‰§è¡Œæˆ–æƒé™æå‡ã€‚ç„¶è€Œï¼Œæ‰‹åŠ¨æ¶ˆé™¤æ–‡ä»¶ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ¼æ´æ˜¯ä¸€é¡¹æŒ‘æˆ˜ï¼Œå³ä½¿å¯¹äºä¸“å®¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¾‹å¦‚ï¼ŒLinux v4.18 ä¸­æœ€æ–°çš„ ext4 å®ç°åŒ…å« 50K è¡Œä»£ç ï¼Œè€Œ Btrfs çš„å®ç°æ¥è¿‘ 130K è¡Œä»£ç ã€‚åŒæ—¶ï¼Œè®¸å¤šå¹¿æ³›ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿä»å¤„äºæ´»è·ƒå¼€å‘ä¸­ã€‚æ–‡ä»¶ç³»ç»Ÿå¼€å‘äººå‘˜ä¸æ–­ä¼˜åŒ–æ€§èƒ½å¹¶æ·»åŠ æ–°åŠŸèƒ½ï¼Œä½†è¿™äº›æ›´æ–°ä¹Ÿå¯èƒ½å¼•å…¥æ–°çš„æ¼æ´ã€‚</p>\n<p>ä¸ºäº†è‡ªåŠ¨å‘ç°è¿™äº›æ½œåœ¨çš„æ¼æ´ï¼Œå¤§å¤šæ•°æ­£åœ¨å¼€å‘çš„æ–‡ä»¶ç³»ç»Ÿä¾èµ–å·²çŸ¥çš„å‹åŠ›æµ‹è¯•æ¡†æ¶ï¼ˆä¾‹å¦‚ xfstestsã€fsckã€Linux Test Project ç­‰ï¼‰ï¼Œè¿™äº›æ¡†æ¶ä¸»è¦å…³æ³¨æ–‡ä»¶ç³»ç»Ÿçš„å›å½’æµ‹è¯•å’Œæœ€ä½é™åº¦çš„å®Œæ•´æ€§æ£€æŸ¥ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨ ext4 ä¸­å‘ç°çš„ä¸€ä¸ªæ¼æ´ï¼ˆå³ CVE-2018-10880ï¼‰å¯ä»¥é€šè¿‡ç§»åŠ¨å…³é”®æ‰©å±•å±æ€§å‡º inode ç»“æ„æ¥å¯¼è‡´å†…æ ¸å´©æºƒã€‚æˆ‘ä»¬é€šè¿‡æŒ‚è½½ä¸€ä¸ªå¯ç”¨ inline_data çš„æ­£å¸¸ ext4 é•œåƒè§¦å‘äº†æ­¤æ¼æ´ï¼Œè€Œè¯¥é•œåƒèƒ½å¤Ÿç»•è¿‡ xfstests å’Œ fsck çš„å®Œæ•´æ€§æ£€æŸ¥ã€‚æ­¤å¤–ï¼Œä¸€äº›å…ˆå‰çš„ç ”ç©¶å·¥ä½œåº”ç”¨äº†æ¨¡å‹æ£€æŸ¥æ¥å‘ç°æ–‡ä»¶ç³»ç»Ÿæ¼æ´ï¼Œä½†è¿™éœ€è¦å¯¹æ–‡ä»¶ç³»ç»Ÿå’Œæ“ä½œç³»ç»ŸçŠ¶æ€æœ‰æ·±å…¥çš„äº†è§£ã€‚ç”±äºç°ä»£æ“ä½œç³»ç»Ÿæ—¥ç›Šå¤æ‚ï¼Œè¿™åœ¨å®è·µä¸­å·²ç»å˜å¾—ä¸åˆ‡å®é™…ã€‚å¦ä¸€æ–¹é¢ï¼Œå¤§å¤šæ•°ç»è¿‡éªŒè¯çš„æ–‡ä»¶ç³»ç»Ÿç”±äºä¸å¤Ÿæˆç†Ÿï¼Œå°šéš¾ä»¥åœ¨å®é™…ä¸­é‡‡ç”¨ã€‚</p>\n<p>å¦ä¸€ç§æ–¹æ³• â€”â€” æ¨¡ç³Šæµ‹è¯•ï¼ˆfuzzingï¼‰â€”â€” æ­£å—åˆ°è¶Šæ¥è¶Šå¤šçš„å…³æ³¨ã€‚æ¨¡ç³Šæµ‹è¯•ä¸ä»…éœ€è¦å¯¹ç›®æ ‡è½¯ä»¶çš„æœ€ä½äº†è§£ï¼Œè€Œä¸”æ˜¯ä¸€ç§é«˜æ•ˆã€å®ç”¨çš„æ–¹æ³•ï¼Œå·²ç»å‘ç°äº†æ•°åƒä¸ªæ¼æ´ã€‚å› æ­¤ï¼Œæ¨¡ç³Šæµ‹è¯•æˆä¸ºè‡ªåŠ¨å‘ç°å„ç§æ–‡ä»¶ç³»ç»Ÿæ¼æ´ï¼ˆä¾‹å¦‚ Linux å†…æ ¸ä¸­çš„ 54 ä¸ªæ¼æ´ï¼‰çš„å¯è¡Œæ–¹æ³•ã€‚ç„¶è€Œï¼Œä¸å…¶ä»–å¸¸è§ç›®æ ‡ä¸åŒï¼Œæ¨¡ç³Šæµ‹è¯•æ–‡ä»¶ç³»ç»Ÿä¾èµ–ä¸¤ä¸ªè¾“å…¥ï¼šæŒ‚è½½çš„ç£ç›˜é•œåƒå’Œåœ¨æŒ‚è½½é•œåƒä¸Šæ‰§è¡Œçš„ä¸€ç³»åˆ—æ–‡ä»¶æ“ä½œï¼ˆå³ç³»ç»Ÿè°ƒç”¨ï¼‰ã€‚ç°æœ‰çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·è¦ä¹ˆä¸“æ³¨äºå°†é•œåƒä½œä¸ºæ™®é€šäºŒè¿›åˆ¶è¾“å…¥è¿›è¡Œå˜å¼‚ï¼Œè¦ä¹ˆç”Ÿæˆä¸€ç»„éšæœºçš„æ–‡ä»¶æ“ä½œç‰¹å®šç³»ç»Ÿè°ƒç”¨ã€‚é—æ†¾çš„æ˜¯ï¼Œå®ƒä»¬éƒ½æœªèƒ½é«˜æ•ˆä¸”å…¨é¢åœ°æµ‹è¯•æ–‡ä»¶ç³»ç»Ÿï¼Œä¸»è¦å› ä¸ºä»¥ä¸‹ä¸‰ä¸ªæŒ‘æˆ˜ï¼š</p>\n<p>é¦–å…ˆï¼Œç£ç›˜é•œåƒæ˜¯ä¸€ä¸ªç»“æ„åŒ–ä½†å¤æ‚çš„å¤§å‹äºŒè¿›åˆ¶å—ï¼Œå…¶æœ€å°å¤§å°å‡ ä¹æ˜¯æ™®é€šæ¨¡ç³Šæµ‹è¯•å·¥å…·é¦–é€‰æœ€å¤§å¤§å°çš„ 100 å€ã€‚ç”±äºå˜å¼‚é•œåƒæ¶‰åŠå¤§é‡ I/O æ“ä½œï¼Œè¿™å¤§å¤§é™ä½äº†æ¨¡ç³Šæµ‹è¯•çš„ååé‡ã€‚ä¸äºŒè¿›åˆ¶å—å˜å¼‚ç›¸å…³çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œç°æœ‰çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ä»…å˜å¼‚é•œåƒä¸­éé›¶çš„å—ã€‚è¿™ç§æ–¹æ³•å¹¶ä¸å¯é ï¼Œå› ä¸ºè¿™äº›å·¥å…·æœªèƒ½åˆ©ç”¨ç»“æ„åŒ–æ•°æ®çš„ç‰¹æ€§ï¼Œä¾‹å¦‚æ–‡ä»¶ç³»ç»Ÿå¸ƒå±€ï¼Œè€Œå˜å¼‚å…ƒæ•°æ®å—æ¯”å˜å¼‚æ•°æ®å—æ›´æœ‰æ•ˆã€‚æ­¤å¤–ï¼Œç”±äºç¼ºä¹æ–‡ä»¶ç³»ç»Ÿå¸ƒå±€çš„çŸ¥è¯†ï¼Œç°æœ‰æ¨¡ç³Šæµ‹è¯•å·¥å…·åœ¨ç ´åå…ƒæ•°æ®å—åä¹Ÿæ— æ³•ä¿®å¤ä»»ä½•å…ƒæ•°æ®æ ¡éªŒå’Œã€‚ç¬¬äºŒä¸ªæŒ‘æˆ˜æ˜¯æ–‡ä»¶æ“ä½œæ˜¯ä¸Šä¸‹æ–‡ç›¸å…³çš„å·¥ä½œè´Ÿè½½ï¼ˆworkloadï¼‰ï¼Œå³æ–‡ä»¶ç³»ç»Ÿé•œåƒçš„å®æ—¶çŠ¶æ€å†³å®šäº†ä¸€ç»„ç³»ç»Ÿè°ƒç”¨å¯ä»¥æ“ä½œå“ªäº›æ–‡ä»¶å¯¹è±¡ï¼Œè€Œç‰¹å®šç³»ç»Ÿè°ƒç”¨çš„è°ƒç”¨ä¼šæ”¹å˜æ­£åœ¨æ“ä½œçš„å¯¹è±¡ã€‚ä¸å¹¸çš„æ˜¯ï¼Œç°æœ‰çš„ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ç‹¬ç«‹ç”Ÿæˆéšæœºç³»ç»Ÿè°ƒç”¨ï¼Œä½¿ç”¨ç¡¬ç¼–ç æ–‡ä»¶è·¯å¾„ï¼Œæœªèƒ½ç”Ÿæˆæœ‰æ„ä¹‰çš„æ–‡ä»¶æ“ä½œåºåˆ—ï¼Œä¹Ÿæœªèƒ½è¦†ç›–æ–‡ä»¶ç³»ç»Ÿçš„æ·±å±‚ä»£ç è·¯å¾„ã€‚ç¬¬ä¸‰ä¸ªé—®é¢˜æ˜¯ç°æœ‰æ¨¡ç³Šæµ‹è¯•å·¥å…·éš¾ä»¥é‡ç°å‘ç°çš„æ¼æ´ã€‚å¤§å¤šæ•°é’ˆå¯¹æ“ä½œç³»ç»Ÿæˆ–æ–‡ä»¶ç³»ç»Ÿçš„æ¨¡ç³Šæµ‹è¯•å·¥å…·åœ¨æµ‹è¯•ç”Ÿæˆçš„è¾“å…¥æ—¶æœªé‡æ–°åŠ è½½æ“ä½œç³»ç»Ÿå®ä¾‹æˆ–æ–‡ä»¶ç³»ç»Ÿé•œåƒçš„å¹²å‡€å‰¯æœ¬ï¼Œå³å®ƒä»¬ {æœªä½¿ç”¨éè€åŒ–çš„æ“ä½œç³»ç»Ÿå’Œæ–‡ä»¶ç³»ç»Ÿ ++{.dot}ã€‚ç”±äºä¾èµ– VMã€QEMU æˆ–ç”¨æˆ·æ¨¡å¼ Linux (UML) å®ä¾‹ï¼Œè¿™äº›å·¥å…·æ— æ³•å¿«é€Ÿé‡ç½®ç³»ç»ŸçŠ¶æ€ï¼Œåªèƒ½å¤ç”¨è¿™äº›å®ä¾‹ï¼Œå¯¼è‡´æ“ä½œç³»ç»ŸçŠ¶æ€æ±¡æŸ“ï¼Œæœ€ç»ˆé€ æˆä¸ç¨³å®šçš„æ‰§è¡Œå’Œä¸å¯é‡ç°çš„æ¼æ´ã€‚</p>\n<blockquote>\n<p>â€œè€åŒ–â€ çš„æ“ä½œç³»ç»Ÿæˆ–æ–‡ä»¶ç³»ç»Ÿç³»ç»Ÿï¼šä»¥ syzkaller ä¸ºä¾‹ï¼Œsyzkaller ä¼šåœ¨åŒä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰ä¸­æ‰§è¡Œå¤šä¸ª <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">workload</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span></span></span></span>ï¼Œä¾‹å¦‚<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">workload_1, workload_2, ..., workload_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œå‡è®¾ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">workload_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> è§¦å‘äº†ä¸€ä¸ª bugï¼Œsyzkaller ä¼šå°è¯•ç”¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">workload_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.84444em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ¥å¤ç° bugï¼Œç„¶è€Œè¯¥ bug çš„è§¦å‘è·¯å¾„å¯èƒ½æ˜¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mn>3</mn></msub><mo separator=\"true\">,</mo><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">workload_1, workload_3,workload_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œç”±äºå¿½ç•¥äº†å‰é¢çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">workload</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span></span></span></span> çš„å½±å“ï¼Œå¯¼è‡´æ— æ³•å¤ç° bugã€‚è¿™å°±æ˜¯æ–‡ä¸­çš„ â€œè€åŒ–â€ çš„æ“ä½œç³»ç»Ÿçš„å«ä¹‰ï¼Œå³åœ¨æ‰§è¡ŒæŸä¸ª <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">workload</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span></span></span></span> æ—¶ç³»ç»Ÿä¸æ˜¯ä¸€ä¸ªçº¯å‡€çš„çŠ¶æ€ï¼Œè€Œæ˜¯å åŠ äº†å¤šä¸ª <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">workload</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span></span></span></span> çš„å½±å“çš„çŠ¶æ€ã€‚</p>\n</blockquote>\n<p>æˆ‘ä»¬é€šè¿‡ JANUS è§£å†³äº†ä¸Šè¿°æŒ‘æˆ˜ã€‚JANUS æ˜¯ä¸€ç§è¿›åŒ–å‹çš„åé¦ˆé©±åŠ¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œå¯ä»¥é«˜æ•ˆåœ°æ¢ç´¢ç£ç›˜æ–‡ä»¶ç³»ç»Ÿçš„äºŒç»´è¾“å…¥ç©ºé—´ã€‚JANUS é€šè¿‡åˆ©ç”¨å…ƒæ•°æ®çš„ç»“æ„åŒ–ç‰¹æ€§ï¼Œä»…å¯¹ç§å­é•œåƒçš„å…ƒæ•°æ®å—è¿›è¡Œå˜å¼‚ï¼Œä»è€Œæ˜¾è‘—å‡å°‘è¾“å…¥æœç´¢ç©ºé—´ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬æå‡ºäº†åŸºäºé•œåƒçš„ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•æŠ€æœ¯ï¼Œä»¥æ¨¡ç³Šæµ‹è¯•æ–‡ä»¶æ“ä½œã€‚JANUS ä¸ä»…å­˜å‚¨ç”Ÿæˆçš„ç³»ç»Ÿè°ƒç”¨ï¼Œè¿˜æ¨æµ‹è¿™äº›è°ƒç”¨å®Œæˆåæ¯ä¸ªæ–‡ä»¶å¯¹è±¡çš„è¿è¡Œæ—¶çŠ¶æ€ã€‚JANUS ä½¿ç”¨æ¨æµ‹çŠ¶æ€ä½œä¸ºåé¦ˆç”Ÿæˆæ–°çš„ä¸€ç»„ç³»ç»Ÿè°ƒç”¨ï¼Œä»è€Œå‘å‡ºä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å·¥ä½œè´Ÿè½½ã€‚åœ¨æ¯æ¬¡æ¨¡ç³Šæµ‹è¯•è¿­ä»£ä¸­ï¼ŒJANUS ä¼˜å…ˆè¿›è¡Œé•œåƒæ¨¡ç³Šæµ‹è¯•ï¼Œç„¶åè°ƒç”¨åŸºäºé•œåƒçš„ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•ï¼Œä»¥å…¨é¢æ¢ç´¢ç›®æ ‡æ–‡ä»¶ç³»ç»Ÿã€‚æœ€åï¼ŒJANUS è§£å†³äº†é‡ç°æ€§é—®é¢˜ï¼Œé€šè¿‡ä½¿ç”¨åº“æ“ä½œç³»ç»Ÿï¼ˆä¾‹å¦‚ Linux Kernel Libraryï¼‰è¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´ä¸­ï¼Œè€Œä¸æ˜¯ VMï¼Œæ¯æ¬¡æµ‹è¯•æ–‡ä»¶ç³»ç»Ÿç›¸å…³åŠŸèƒ½æ—¶éƒ½åŠ è½½æ“ä½œç³»ç»Ÿçš„å¹²å‡€å‰¯æœ¬ï¼Œä»è€Œä¿è¯äº†ç»“æœçš„å¯é‡ç°æ€§ã€‚</p>\n<p>å€ŸåŠ© JANUSï¼Œæˆ‘ä»¬å¯¹ Linux å†…æ ¸ï¼ˆv4.16â€“v4.18ï¼‰ä¸­å…«ä¸ªä¸»æµæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œäº†å››ä¸ªæœˆçš„æ¨¡ç³Šæµ‹è¯•ã€‚æˆ‘ä»¬çš„è¯„ä¼°æ˜¾ç¤ºï¼Œä¸æœ€å…ˆè¿›çš„æ¨¡ç³Šæµ‹è¯•å·¥å…· Syzkaller ç›¸æ¯”ï¼ŒJANUS åœ¨æ‰€æœ‰é€‰å®šæ–‡ä»¶ç³»ç»Ÿä¸Šæœ€å¤šå®ç° 4.19 å€çš„ä»£ç è¦†ç›–ç‡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨åº“æ“ä½œç³»ç»Ÿï¼Œä½¿å¾— JANUS èƒ½å¤Ÿé‡ç° 88%-100% çš„å´©æºƒï¼Œè€Œ Syzkaller æ— æ³•é‡ç°ä»»ä½•å´©æºƒã€‚è¿„ä»Šä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²æˆåŠŸå‘ç° 90 ä¸ªæ¼æ´ï¼Œå…¶ä¸­ 62 ä¸ªå·²è¢«å¼€å‘è€…ç¡®è®¤ï¼Œ43 ä¸ªå·²ä¿®å¤å¹¶åˆ†é…äº† 32 ä¸ª CVEã€‚</p>\n<p>æœ¬æ–‡çš„è´¡çŒ®åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>\n<ul>\n<li><strong>é—®é¢˜</strong>ï¼šæˆ‘ä»¬è¯†åˆ«å‡ºç°æœ‰æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·çš„ä¸‰å¤§ä¸»è¦é—®é¢˜ï¼š\n<ol>\n<li>å¯¹å¤§ä½“ç§¯çš„äºŒè¿›åˆ¶é•œåƒè¿›è¡Œæ¨¡ç³Šæµ‹è¯•æ•ˆç‡ä½ä¸‹ï¼›</li>\n<li>æ¨¡ç³Šæµ‹è¯•å·¥å…·æœªèƒ½åˆ©ç”¨æ–‡ä»¶ç³»ç»Ÿé•œåƒä¸æ–‡ä»¶æ“ä½œä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼›</li>\n<li>æ¨¡ç³Šæµ‹è¯•å·¥å…·ä½¿ç”¨è€åŒ–çš„æ“ä½œç³»ç»Ÿå’Œæ–‡ä»¶ç³»ç»Ÿï¼Œå¯¼è‡´å‘ç°çš„æ¼æ´éš¾ä»¥å¤ç°ã€‚</li>\n</ol>\n</li>\n<li><strong>æ–¹æ³•</strong>ï¼šæˆ‘ä»¬è®¾è®¡å¹¶å®ç°äº†ä¸€ç§è¿›åŒ–å¼æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œåä¸º <strong>JANUS</strong>ã€‚å®ƒé€šè¿‡é«˜æ•ˆåœ°å˜å¼‚ç§å­é•œåƒä¸­çš„å…ƒæ•°æ®å—ï¼Œå¹¶ç”ŸæˆåŸºäºé•œåƒçš„å·¥ä½œè´Ÿè½½ï¼Œæ·±å…¥æ¢ç´¢ç›®æ ‡æ–‡ä»¶ç³»ç»Ÿã€‚æ­¤å¤–ï¼ŒJANUS ä½¿ç”¨äº†ä¸€ç§åº“æ“ä½œç³»ç»Ÿï¼ˆLibrary OSï¼Œä¾‹å¦‚ LKLï¼‰æ¥ä»£æ›¿è™šæ‹Ÿæœºï¼Œç”¨ä»¥æµ‹è¯•æ“ä½œç³»ç»ŸåŠŸèƒ½ï¼Œä»è€Œèƒ½å¤Ÿåœ¨æ¯«ç§’å†…æä¾›å…¨æ–°çŠ¶æ€çš„æ“ä½œç³»ç»Ÿé•œåƒã€‚</li>\n<li><strong>å½±å“</strong>ï¼šæˆ‘ä»¬åœ¨ Linux å†…æ ¸ä¸­çš„å…«ç§æ–‡ä»¶ç³»ç»Ÿä¸Šå¯¹ JANUS è¿›è¡Œäº†è¯„ä¼°ï¼Œå…±å‘ç°äº† 90 ä¸ªæ¼æ´ï¼Œå…¶ä¸­ 62 ä¸ªå·²è¢«å¼€å‘è€…ç¡®è®¤ï¼Œ43 ä¸ªå·²ä¿®å¤å¹¶åˆ†é…äº† 32 ä¸ª CVE ç¼–å·ã€‚æ­¤å¤–ï¼Œåœ¨ä»£ç è¦†ç›–ç‡æ–¹é¢ï¼ŒJANUS åœ¨æ‰€æœ‰é€‰å®šæ–‡ä»¶ç³»ç»Ÿä¸Šå‡ä¼˜äº Syzkallerã€‚ä¾‹å¦‚ï¼Œåœ¨å¯¹ Btrfs å’Œ ext4 è¿›è¡Œ 12 å°æ—¶çš„æ¨¡ç³Šæµ‹è¯•æ—¶ï¼ŒJANUS åˆ†åˆ«è¦†ç›–äº† 4.19 å€å’Œ 2.01 å€äº Syzkaller çš„ä»£ç è·¯å¾„ã€‚åŒæ—¶ï¼ŒJANUS èƒ½å¤ç° 88%-100% çš„å´©æºƒï¼Œè€Œ Syzkaller æ— æ³•å¤ç°ä»»ä½•ä¸€ä¸ªã€‚</li>\n</ul>\n<h2 id=\"threat-model\"><a class=\"anchor\" href=\"#threat-model\">#</a> Threat Model</h2>\n<p>åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬å‡è®¾æ”»å‡»è€…å¯ä»¥æŒ‚è½½ä¸€ä¸ªç»è¿‡ç²¾å¿ƒæ„é€ çš„ç£ç›˜é•œåƒåˆ°ç›®æ ‡æœºå™¨ä¸Šï¼Œå¹¶æ“ä½œé•œåƒä¸­å­˜å‚¨çš„æ–‡ä»¶ä»¥åˆ©ç”¨å†…æ ¸æ–‡ä»¶ç³»ç»Ÿä¸­çš„å®‰å…¨æ¼æ´ã€‚æ”»å‡»è€…æ— éœ€å…·å¤‡ root æƒé™å³å¯å®ç°è¿™ä¸€ç‚¹ï¼Œå¸¸è§çš„æ–¹å¼åŒ…æ‹¬ï¼š</p>\n<ol>\n<li><strong>è‡ªåŠ¨æŒ‚è½½</strong>ï¼šç°ä»£æ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨æŒ‚è½½æ’å…¥çš„æœªç»ä¿¡ä»»çš„é©±åŠ¨å™¨ï¼ˆå¦‚æœå…¶æ”¯æŒå¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿï¼‰ã€‚è¿™ç§æœºåˆ¶å·²è¢«ä¸€äº›è‡­åæ˜­è‘—çš„æ”»å‡»åˆ©ç”¨ï¼Œå¦‚ Stuxnet å’Œ â€œæ¶æ„å¥³ä»†æ”»å‡»â€ï¼ˆEvil Maid Attackï¼‰ç­‰ï¼›</li>\n<li><strong>éç‰¹æƒæŒ‚è½½</strong>ï¼šmacOS å…è®¸é root ç”¨æˆ·æŒ‚è½½ Apple ç£ç›˜é•œåƒï¼Œå¹¶æ”¯æŒå¤šç§æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ HFSã€HFS+ å’Œ APFSï¼‰ã€‚åœ¨è¿™äº›æ–‡ä»¶ç³»ç»Ÿä¸­å‘ç°äº†å¤šä¸ªæ¼æ´ï¼Œå¯èƒ½å¯¼è‡´ç»•è¿‡å†…æ ¸çš„å†…å­˜è¯»å–é™åˆ¶ä»¥åŠä»£ç æ‰§è¡Œã€‚Linux ä¹Ÿå…è®¸éç‰¹æƒç”¨æˆ·é€šè¿‡  <code>FS_USERNS_MOUNT</code>  åœ¨ç”¨æˆ·å‘½åç©ºé—´ä¸­æŒ‚è½½ä»»æ„æ–‡ä»¶ç³»ç»Ÿã€‚</li>\n</ol>\n<p>æ­¤å¤–ï¼Œæ”»å‡»è€…è¿˜å¯ä»¥é€šè¿‡äº‘å­˜å‚¨æœåŠ¡æˆ–å¯ç§»åŠ¨é©±åŠ¨å™¨å…±äº«ç²¾å¿ƒæ„é€ çš„ç£ç›˜é•œåƒï¼Œä»è€Œè¯±å¯¼å—å®³è€…æŒ‚è½½ã€‚ä¸€æ—¦é•œåƒè¢«æŒ‚è½½ï¼Œæ”»å‡»è€…å³å¯å¯¹é•œåƒæ‰§è¡Œæ–‡ä»¶æ“ä½œï¼ˆå¦‚è¯»å–ã€å†™å…¥ã€åˆ é™¤å’Œé‡å‘½åæ–‡ä»¶ï¼‰ï¼Œä»¥è§¦å‘æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ¼æ´ã€‚</p>\n<h1 id=\"background-and-motivation\"><a class=\"anchor\" href=\"#background-and-motivation\">#</a> Background and Motivation</h1>\n<p>å•†å“æ“ä½œç³»ç»Ÿé€šå¸¸å°†ç£ç›˜æ–‡ä»¶ç³»ç»Ÿå®ç°ä¸ºå†…æ ¸æ¨¡å—ã€‚ç”¨æˆ·è´Ÿè´£æŒ‚è½½å¤§ä½“ç§¯ã€å·²æ ¼å¼åŒ–çš„é•œåƒï¼Œå¹¶é€šè¿‡æ–‡ä»¶æ“ä½œæ¥ç®¡ç†æ•°æ®ã€‚æœ¬èŠ‚å†…å®¹å¦‚ä¸‹ï¼š</p>\n<ol>\n<li><strong>ä¸€èˆ¬æ¨¡ç³Šæµ‹è¯•æ–¹æ³•</strong>ï¼ˆ<a href=\"#a-primer-on-fuzzing\">Â§3.1</a>ï¼‰ï¼šæè¿°æ¨¡ç³Šæµ‹è¯•çš„é€šç”¨æ–¹æ³•ã€‚</li>\n<li><strong>ç°æœ‰æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·</strong>ï¼ˆ<a href=\"#file-system-fuzzing\">Â§3.2</a>ï¼‰ï¼šæ€»ç»“å½“å‰æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·çš„ç°çŠ¶ã€‚</li>\n<li><strong>ç°æœ‰å·¥å…·çš„ä¸è¶³</strong>ï¼šè§£é‡Šä¸ºä½•ç°æœ‰æ–¹æ³•æ— æ³•é«˜æ•ˆåœ°æµ‹è¯•æ–‡ä»¶ç³»ç»Ÿã€‚</li>\n<li><strong>æŒ‘æˆ˜ä¸æœºé‡</strong>ï¼ˆ<a href=\"#challenges-of-fuzzing-a-file-system\">Â§3.3</a>ï¼‰ï¼šæ€»ç»“æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•ä¸­çš„ä¸»è¦æŒ‘æˆ˜ï¼Œå¹¶æ¢è®¨æ½œåœ¨çš„è§£å†³æ–¹æ¡ˆå’Œæœºä¼šã€‚</li>\n</ol>\n<h2 id=\"a-primer-on-fuzzing\"><a class=\"anchor\" href=\"#a-primer-on-fuzzing\">#</a> A Primer on Fuzzing</h2>\n<p>æ¨¡ç³Šæµ‹è¯•æ˜¯ä¸€ç§å¹¿æ³›åº”ç”¨çš„è½¯ä»¶æµ‹è¯•æ–¹æ³•ï¼Œé€šè¿‡åå¤ç”Ÿæˆæ–°è¾“å…¥å¹¶å°†å…¶æ³¨å…¥ç›®æ ‡ç¨‹åºä»¥è§¦å‘æ¼æ´ã€‚å®ƒè¢«è®¤ä¸ºæ˜¯å®é™…ä¸­å‘ç°ç°ä»£è½¯ä»¶å®‰å…¨æ¼æ´æœ€æœ‰æ•ˆçš„æ–¹æ³•ä¹‹ä¸€ã€‚ä¾‹å¦‚ï¼Œå…ˆè¿›æ¨¡ç³Šæµ‹è¯•å·¥å…· AFL åŠå…¶å˜ä½“å·²åœ¨å¼€æºè½¯ä»¶ä¸­å‘ç°äº†æ— æ•°æ¼æ´ã€‚</p>\n<p>ä¸ºäº†é«˜æ•ˆåœ°æ¢ç´¢ç›®æ ‡ç¨‹åºï¼Œè¿‘æœŸçš„æ¨¡ç³Šæµ‹è¯•å·¥å…·åˆ©ç”¨è¿‡å»çš„ä»£ç è¦†ç›–ä¿¡æ¯æ¥æŒ‡å¯¼åç»­è¾“å…¥çš„ç”Ÿæˆã€‚æ­¤å¤–ï¼Œæ“ä½œç³»ç»Ÿï¼ˆOSï¼‰ç­‰è½¯ä»¶å±äºæœ€å…³é”®çš„ç¨‹åºï¼Œå› ä¸ºå‘ç°çš„æ¼æ´å¯èƒ½å…è®¸åœ¨ç›®æ ‡æœºå™¨ä¸Šå®ç°æƒé™å‡çº§ã€‚ä¸ºäº†æ¨¡ç³Šæµ‹è¯•æ“ä½œç³»ç»Ÿï¼Œä¸€äº›æ¡†æ¶æ‰©å±•äº†åŸºäºåé¦ˆçš„æ¨¡ç³Šæµ‹è¯•æ–¹æ³•ï¼Œé€šè¿‡è°ƒç”¨éšæœºç”Ÿæˆçš„ç³»ç»Ÿè°ƒç”¨æ¥è§¦å‘å†…æ ¸æ¼æ´ã€‚</p>\n<h2 id=\"file-system-fuzzing\"><a class=\"anchor\" href=\"#file-system-fuzzing\">#</a> File System Fuzzing</h2>\n<p>ç£ç›˜æ–‡ä»¶ç³»ç»Ÿæœ‰ä¸¤ç§è¾“å…¥ç©ºé—´ï¼š(1) ç»“æ„åŒ–çš„æ–‡ä»¶ç³»ç»Ÿé•œåƒæ ¼å¼ï¼›(2) ç”¨æˆ·ä¸ºè®¿é—®æŒ‚è½½é•œåƒä¸Šå­˜å‚¨çš„æ–‡ä»¶è€Œè°ƒç”¨çš„æ–‡ä»¶æ“ä½œã€‚ç°æœ‰çš„ä¸€äº›æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·é€šå¸¸ä½¿ç”¨é€šç”¨çš„æ¨¡ç³Šæµ‹è¯•æ¡†æ¶æ¥åˆ†åˆ«é’ˆå¯¹é•œåƒæˆ–æ–‡ä»¶æ“ä½œã€‚</p>\n<h3 id=\"disk-image-fuzzer\"><a class=\"anchor\" href=\"#disk-image-fuzzer\">#</a> Disk Image Fuzzer</h3>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/7wx2gc.png\" alt=\"å›¾1\" /></p>\n<blockquote>\n<p>å›¾ 1ï¼šext4 æ˜ åƒçš„ç£ç›˜å¸ƒå±€ã€‚ç°è‰²å—è¡¨ç¤ºæ­£åœ¨ä½¿ç”¨çš„å…ƒæ•°æ®ï¼Œä»…å æ˜ åƒå¤§å°çš„ 1%ã€‚å…¶ä¸­ä¸€äº›å…ƒæ•°æ®ï¼ˆåŒ…æ‹¬èŒƒå›´æ ‘èŠ‚ç‚¹ã€ç›®å½•æ¡ç›®å’Œæ—¥å¿—å—ï¼‰åˆ†æ•£åœ¨æ˜ åƒä¸­ï¼Œè€Œå…¶ä»–å…ƒæ•°æ®ï¼ˆå¦‚è¶…çº§å—ã€ç»„æè¿°ç¬¦ç­‰ï¼‰åˆ™ä½äºå¼€å¤´ã€‚</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>File system</th>\n<th>ext4</th>\n<th>XFS</th>\n<th>Btrfs</th>\n<th>F2FS</th>\n<th>GFS2</th>\n<th>ReiserFS</th>\n<th>NTFS</th>\n<th>AFL</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Min. size(MB)</td>\n<td>2</td>\n<td>16</td>\n<td>100</td>\n<td>38</td>\n<td>16</td>\n<td>33</td>\n<td>1</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>è¡¨ 1ï¼šä¸åŒæ–‡ä»¶ç³»ç»Ÿåœ¨é»˜è®¤é€‰é¡¹ä¸‹ï¼ˆå¯ç”¨æ—¥å¿—æˆ–è®°å½•åŠŸèƒ½ï¼‰å…è®¸æ ¼å¼åŒ–çš„å—è®¾å¤‡çš„æœ€å°å¤§å°ã€‚å¤§å¤šæ•°é•œåƒå¤§å°è¶…è¿‡äº† AFL å»ºè®®çš„æ¨¡ç³Šè¾“å…¥å¤§å° (1MB)</p>\n</blockquote>\n<p>ç£ç›˜é•œåƒæ˜¯ä¸€ä¸ªå¤§å‹çš„ç»“æ„åŒ–äºŒè¿›åˆ¶å—ï¼ŒåŒ…å« (1) ç”¨æˆ·æ•°æ®å’Œ (2) å…ƒæ•°æ®ï¼Œå³æ–‡ä»¶ç³»ç»Ÿä¸ºè®¿é—®ã€åŠ è½½ã€æ¢å¤å’Œæœç´¢æ•°æ®æˆ–æ»¡è¶³å…¶ä»–ç‰¹å®šéœ€æ±‚æ‰€éœ€çš„ç®¡ç†ç»“æ„ã€‚å…¸å‹çš„ ext4 é•œåƒçš„ç£ç›˜å¸ƒå±€å¦‚å›¾ 1 æ‰€ç¤ºã€‚ç„¶è€Œï¼Œå…ƒæ•°æ®çš„å¤§å°ä»…å é•œåƒå¤§å°çš„ 1% ï¼Œè€Œæœ‰æ•ˆé•œåƒçš„æœ€å°å¤§å°å¯è¾¾ 100 MBï¼ˆè§è¡¨ 1ï¼‰ï¼Œå¹¶ä¸”å¯ç”¨æŸäº›åŠŸèƒ½åä¼šè¿›ä¸€æ­¥å¢å¤§ã€‚å°†ç£ç›˜é•œåƒä½œä¸ºæ¨¡ç³Šæµ‹è¯•è¾“å…¥å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>\n<ol>\n<li>é•œåƒçš„å¤§å°ºå¯¸å¯¼è‡´è¾“å…¥ç©ºé—´å‘ˆæŒ‡æ•°å¢é•¿ï¼ŒåŒæ—¶å…ƒæ•°æ®çš„å˜å¼‚é¢‘ç‡ä½ã€‚</li>\n<li>æ¨¡ç³Šæµ‹è¯•éœ€è¦é¢‘ç¹å¯¹è¾“å…¥æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨æ¨¡ç³Šæµ‹è¯•ç£ç›˜é•œåƒæ—¶ï¼Œéœ€è¦åå¤åœ¨å˜å¼‚å‰åè¯»å–å’Œå†™å…¥é•œåƒï¼Œå¿…è¦æ—¶è¿˜éœ€è¦ä¿å­˜é•œåƒã€‚è¿™å¯¼è‡´å¤§é•œåƒå°ºå¯¸å¸¦æ¥çš„æ–‡ä»¶æ“ä½œæ€§èƒ½å¼€é”€ã€‚</li>\n<li>ä¸ºæ£€æµ‹å…ƒæ•°æ®æŸåï¼ŒæŸäº›æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ XFS v5ã€GFS2ã€F2FS ç­‰ï¼‰å¼•å…¥æ ¡éªŒå’Œä¿æŠ¤ç£ç›˜ä¸Šçš„å…ƒæ•°æ®ã€‚åœ¨åˆå§‹åŒ–æœŸé—´ï¼Œå†…æ ¸ä¼šæ‹’ç»å¸¦æœ‰æ— æ•ˆæ ¡éªŒå’Œçš„å˜å¼‚å…ƒæ•°æ®å—çš„é•œåƒã€‚</li>\n</ol>\n<p>ç£ç›˜é•œåƒæ¨¡ç³Šæµ‹è¯•å™¨é€šè¿‡å¼ºåˆ¶æ–‡ä»¶ç³»ç»ŸæŒ‚è½½å˜å¼‚çš„ç£ç›˜é•œåƒå¹¶æ‰§è¡Œä¸€ç³»åˆ—æ–‡ä»¶æ“ä½œæ¥è§¦å‘æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„æ¼æ´ã€‚æ—©æœŸæ¨¡ç³Šæµ‹è¯•å™¨é‡‡ç”¨ä½æ•ˆçš„æ–¹æ³•ï¼Œåœ¨æœ‰æ•ˆé•œåƒçš„éšæœºåç§»å¤„å˜å¼‚å­—èŠ‚ç”Ÿæˆæ–°é•œåƒï¼Œæˆ–ä»…å˜å¼‚å…ƒæ•°æ®å—ä¸­çš„å­—èŠ‚ã€‚è¿™äº›æ–¹æ³•ç”±äºéœ€è¦åŠ è½½å’Œä¿å­˜æ•´ä¸ªé•œåƒè€Œå¯¼è‡´å·¨å¤§çš„ç£ç›˜ I/O å¼€é”€ã€‚æ­¤å¤–ï¼Œè¿™äº›ç›²ç›®æ¨¡ç³Šæµ‹è¯•æŠ€æœ¯ç”Ÿæˆçš„é•œåƒè´¨é‡è¾ƒå·®ï¼Œæœªåˆ©ç”¨è¿‡å¾€çš„ä»£ç è¦†ç›–ä¿¡æ¯ã€‚</p>\n<p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œè¿‘æœŸçš„æ¨¡ç³Šæµ‹è¯•å™¨å¼€å§‹é‡‡ç”¨ä»£ç è¦†ç›–é©±åŠ¨çš„æ–¹æ³•ï¼Œå¹¶ä»ç§å­é•œåƒä¸­æå–æ‰€æœ‰éé›¶å—è¿›è¡Œå˜å¼‚ã€‚è¿™ç§æ–¹æ³•è§¦åŠäº†å¤§å¤šæ•°å…ƒæ•°æ®å—ï¼Œå¹¶é€šè¿‡å‡å°‘è¾“å…¥å¤§å°æé«˜äº†æ¨¡ç³Šæµ‹è¯•æ€§èƒ½ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•ä»å­˜åœ¨ä»¥ä¸‹ç¼ºé™·ï¼š</p>\n<ul>\n<li>éé›¶å—ä¸ä»…åŒ…å«éé›¶æ•°æ®å—ï¼Œè¿˜ä¸¢å¼ƒäº†é›¶åˆå§‹åŒ–çš„å…ƒæ•°æ®å—ï¼Œä»è€Œå¯¼è‡´æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•æ•ˆæœä¸ä½³ã€‚</li>\n<li>å…ƒæ•°æ®å—æœªè¢«ç²¾ç¡®å®šä½ï¼Œå› æ­¤æ ¡éªŒå’Œæ— æ³•æ­£ç¡®ä¿®å¤ã€‚</li>\n</ul>\n<h3 id=\"file-operation-fuzzer\"><a class=\"anchor\" href=\"#file-operation-fuzzer\">#</a> File Operation Fuzzer</h3>\n<p>ç”±äºæ–‡ä»¶ç³»ç»Ÿæ˜¯æ“ä½œç³»ç»Ÿï¼ˆOSï¼‰çš„ä¸€éƒ¨åˆ†ï¼Œæ¨¡ç³Šæµ‹è¯•çš„ä¸€ç§é€šç”¨æ–¹æ³•æ˜¯è°ƒç”¨ä¸€ç»„ç³»ç»Ÿè°ƒç”¨ã€‚å°½ç®¡å°†è¿™äº›æ¨¡ç³Šæµ‹è¯•å™¨ç§»æ¤åˆ°æ–‡ä»¶ç³»ç»Ÿæ“ä½œçš„ç›®æ ‡ä¸Šè¾ƒä¸ºç®€å•ï¼Œä½†å®ƒä»¬åœ¨æœ‰æ•ˆæ€§ä¸Šå­˜åœ¨ä¸¤å¤§é—®é¢˜ï¼š</p>\n<ol>\n<li><strong>æœªè€ƒè™‘é•œåƒä¸æ–‡ä»¶æ“ä½œçš„åŠ¨æ€ä¾èµ–</strong><br />\næ–‡ä»¶æ“ä½œä»…ä¿®æ”¹é•œåƒä¸Šå­˜åœ¨çš„æ–‡ä»¶å¯¹è±¡ï¼ˆå¦‚ç›®å½•ã€ç¬¦å·é“¾æ¥ç­‰ï¼‰ï¼Œæ¯ä¸ªå®Œæˆçš„æ“ä½œåªå½±å“ç‰¹å®šå¯¹è±¡ã€‚ç„¶è€Œï¼Œç°æœ‰çš„æ“ä½œç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å™¨æœªè€ƒè™‘é•œåƒä¸æ–‡ä»¶æ“ä½œä¹‹é—´çš„åŠ¨æ€ä¾èµ–ï¼Œç›²ç›®ç”Ÿæˆç³»ç»Ÿè°ƒç”¨ï¼Œå¯¼è‡´æ–‡ä»¶ç³»ç»Ÿæ¢ç´¢ä¸å……åˆ†ã€‚ä¾‹å¦‚ï¼Œå…ˆè¿›çš„ OS æ¨¡ç³Šæµ‹è¯•å·¥å…· Syzkaller æ ¹æ®æè¿°æ¯ä¸ªç›®æ ‡ç³»ç»Ÿè°ƒç”¨çš„å‚æ•°å’Œè¿”å›å€¼æ•°æ®ç±»å‹çš„é™æ€è¯­æ³•è§„åˆ™ç”Ÿæˆç³»ç»Ÿè°ƒç”¨ã€‚å°½ç®¡å®ƒèƒ½å¤Ÿç”Ÿæˆå•ä¸€è¯­ä¹‰æ­£ç¡®çš„ç³»ç»Ÿè°ƒç”¨ï¼Œä½†æ— æ³•æ¢ç´¢ä¸€ç»„ç³»ç»Ÿè°ƒç”¨çš„é›†ä½“è¡Œä¸ºåŠå…¶å¯¹æ–‡ä»¶ç³»ç»Ÿé•œåƒçš„ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼ŒSyzkaller å¯èƒ½å¯¹å·²è¢«é‡å‘½åï¼ˆ <code>rename()</code> ï¼‰æˆ–åˆ é™¤ï¼ˆ <code>unlink()</code> ï¼‰çš„è·¯å¾„é‡å¤å‘å‡ºå¤šä¸ª  <code>open()</code>  è°ƒç”¨ã€‚</li>\n<li><strong>ä½¿ç”¨è€åŒ–çš„ OS å’Œæ–‡ä»¶ç³»ç»Ÿ</strong><br />\nä¸ºäº†æ€§èƒ½è€ƒè™‘ï¼Œç°æœ‰çš„æ“ä½œç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å™¨å¤§å¤šä½¿ç”¨è™šæ‹ŸåŒ–å®ä¾‹ï¼ˆå¦‚ KVMã€QEMU ç­‰ï¼‰è¿è¡Œç›®æ ‡æ“ä½œç³»ç»Ÿï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸ªæµ‹è¯•è¾“å…¥é‡æ–°åŠ è½½ä¸€ä»½å…¨æ–°çš„æ“ä½œç³»ç»Ÿæˆ–æ–‡ä»¶ç³»ç»Ÿã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹å¼æœ‰ä»¥ä¸‹é—®é¢˜ï¼š\n<ul>\n<li>è€åŒ–çš„æ“ä½œç³»ç»Ÿåœ¨å¤„ç†å¤§é‡ç³»ç»Ÿè°ƒç”¨åæ‰§è¡Œå˜å¾—éç¡®å®šæ€§ã€‚ä¾‹å¦‚ï¼Œä¾èµ–äºå…ˆå‰åˆ†é…çš„  <code>kmalloc()</code>  è·¨è¿è¡Œè¡Œä¸ºä¸åŒã€‚æœ‰æ—¶ï¼Œå†…æ ¸ç»„ä»¶ï¼ˆå¦‚æ—¥å¿—ç³»ç»Ÿï¼‰ä¼šåœ¨é•¿æ—¶é—´æ¨¡ç³Šæµ‹è¯•ä¸­é™é»˜å¤±æ•ˆå¹¶ä»æ“ä½œç³»ç»Ÿä¸­åˆ†ç¦»ï¼Œè€Œä¸ä¼šè§¦å‘æ–‡ä»¶ç³»ç»Ÿå´©æºƒã€‚</li>\n<li>è¿™äº›æ¨¡ç³Šæµ‹è¯•å™¨å‘ç°çš„æ¼æ´å¾€å¾€ç´¯ç§¯äº†æˆåƒä¸Šä¸‡æ¬¡ç³»ç»Ÿè°ƒç”¨çš„å½±å“ï¼Œè¿™ä¼šé˜»ç¢å¼€å‘äººå‘˜ç”Ÿæˆç¨³å®šçš„æ¼æ´å¤ç°ç”¨ä¾‹å¹¶è¿›è¡Œè°ƒè¯•ã€‚</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"file-system-fuzzer\"><a class=\"anchor\" href=\"#file-system-fuzzer\">#</a> File System Fuzzer</h3>\n<p>å¦‚å‰æ‰€è¿°ï¼Œå¤§å¤šæ•°æ¨¡ç³Šæµ‹è¯•å™¨è¦ä¹ˆæ¨¡ç³Šæµ‹è¯•äºŒè¿›åˆ¶è¾“å…¥ï¼Œè¦ä¹ˆä½¿ç”¨ä¸€ç³»åˆ—ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•æ“ä½œç³»ç»Ÿã€‚ç„¶è€Œï¼Œè¦æ¨¡ç³Šæµ‹è¯•æ–‡ä»¶ç³»ç»Ÿï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶å˜å¼‚ä¸¤ç§è¾“å…¥ï¼š(1) äºŒè¿›åˆ¶é•œåƒï¼ˆå³æ–‡ä»¶ç³»ç»Ÿé•œåƒï¼‰ï¼›(2) ç›¸åº”çš„å·¥ä½œè´Ÿè½½ï¼ˆå³ä¸€ç»„ç‰¹å®šäºæ–‡ä»¶ç³»ç»Ÿçš„ç³»ç»Ÿè°ƒç”¨ï¼‰ã€‚</p>\n<p>é—æ†¾çš„æ˜¯ï¼Œå°†è¿™ä¸¤ç§ç°æœ‰çš„æ¨¡ç³Šæµ‹è¯•æŠ€æœ¯ç»“åˆèµ·æ¥å¹¶éæ˜“äº‹ã€‚è¿‘æœŸï¼ŒSyzkaller å°è¯•é€šè¿‡å˜å¼‚é•œåƒä¸­çš„éé›¶å—ï¼ŒåŒæ—¶ç‹¬ç«‹ç”Ÿæˆä¸ä¸Šä¸‹æ–‡æ— å…³çš„å·¥ä½œè´Ÿè½½æ¥æµ‹è¯•å˜å¼‚åçš„é•œåƒã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•ä»ç„¶ä¸å¤Ÿå¥å…¨ä¸”æ•ˆç‡ä½ä¸‹ã€‚</p>\n<h2 id=\"challenges-of-fuzzing-a-file-system\"><a class=\"anchor\" href=\"#challenges-of-fuzzing-a-file-system\">#</a> Challenges of Fuzzing a File System</h2>\n<p>æˆ‘ä»¬æ€»ç»“äº†åœ¨ Linux å†…æ ¸ä¸­å¯¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ¨¡ç³Šæµ‹è¯•çš„ä¸€ç³»åˆ—æŒ‘æˆ˜ï¼Œå¹¶æå‡ºäº†è®¾è®¡ JANUS æ¥å…‹æœè¿™äº›æŒ‘æˆ˜çš„è§è§£ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›è§è§£åŒæ ·é€‚ç”¨äºå…¶ä»–æ“ä½œç³»ç»Ÿã€‚</p>\n<p><strong>å¤„ç†å¤§å‹ç£ç›˜é•œåƒä½œä¸ºè¾“å…¥</strong>ã€‚ä¸€ä¸ªä¼˜ç§€çš„é•œåƒæ¨¡ç³Šæµ‹è¯•å·¥å…·éœ€è¦é€šè¿‡ä»¥ä¸‹æ–¹æ³•æœ‰æ•ˆå¤„ç†å¤æ‚ä¸”å·¨å¤§çš„ç£ç›˜é•œåƒï¼š</p>\n<ol>\n<li>å˜å¼‚æ•£å¸ƒåœ¨é•œåƒä¸­çš„å…ƒæ•°æ®ï¼ŒåŒæ—¶å¤„ç†æ ¡éªŒå’Œé—®é¢˜ï¼›</li>\n<li>å‡å°‘å› è¾“å…¥æ“ä½œå¼•å‘çš„é¢‘ç¹ç£ç›˜ I/Oã€‚</li>\n</ol>\n<p>é—æ†¾çš„æ˜¯ï¼Œå½“å‰çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·æ— æ³•åŒæ—¶è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ã€‚ç†æƒ³çš„é•œåƒæ¨¡ç³Šæµ‹è¯•å·¥å…·åº”ä¸“æ³¨äºå…ƒæ•°æ®éƒ¨åˆ†ï¼Œè€Œéæ•´ä¸ªç£ç›˜é•œåƒï¼Œå¹¶ä¸”åœ¨å˜å¼‚ä»»ä½•å…ƒæ•°æ®ç»“æ„åå¿…é¡»ä¿®å¤å¯¹åº”çš„æ ¡éªŒå’Œã€‚</p>\n<p><strong>ç¼ºä¹ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å·¥ä½œè´Ÿè½½</strong>ã€‚æ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„å·¥ä½œè´Ÿè½½ä¼šç›´æ¥å½±å“é•œåƒå†…å®¹ã€‚ä¾‹å¦‚ï¼ŒæŸäº›æœ‰æ•ˆçš„æ–‡ä»¶æ“ä½œä¼šåœ¨è¿è¡Œæ—¶ä¿®æ”¹é•œåƒä¸Šçš„æ–‡ä»¶å¯¹è±¡ï¼ˆä¾‹å¦‚  <code>open()</code>  åˆ›å»ºæ–°æ–‡ä»¶ï¼Œ <code>unlink()</code>  åˆ é™¤ç°æœ‰æ–‡ä»¶çš„é“¾æ¥ï¼‰ã€‚ç„¶è€Œï¼Œç°æœ‰çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ä¾èµ–é¢„å®šä¹‰çš„é•œåƒä¿¡æ¯ï¼ˆå¦‚ç§å­é•œåƒä¸­çš„æœ‰æ•ˆæ–‡ä»¶å’Œç›®å½•è·¯å¾„ï¼‰æ¥ç”Ÿæˆç³»ç»Ÿè°ƒç”¨ï¼Œå› æ­¤æ— æ³•åœ¨è¿è¡Œæ—¶å…¨é¢æµ‹è¯•ç›®æ ‡æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ‰€æœ‰å¯è®¿é—®æ–‡ä»¶å¯¹è±¡ã€‚å› æ­¤ï¼Œæ›´å¥½çš„æ–¹æ³•æ˜¯åœ¨æ‰§è¡Œæ–‡ä»¶æ“ä½œåç»´æŠ¤é•œåƒä¸Šæ¯ä¸ªæ–‡ä»¶å¯¹è±¡çš„è¿è¡Œæ—¶çŠ¶æ€ï¼Œä»¥ä¾¿ç”Ÿæˆæ–°çš„æ“ä½œã€‚</p>\n<p><strong>æ¢ç´¢äºŒç»´è¾“å…¥ç©ºé—´</strong>ã€‚æ–‡ä»¶ç³»ç»Ÿå¤„ç†ä¸¤ç§ç±»å‹çš„è¾“å…¥ï¼š</p>\n<ol>\n<li>ç£ç›˜é•œåƒï¼ˆäºŒè¿›åˆ¶æ•°æ®å—ï¼‰</li>\n<li>æ–‡ä»¶æ“ä½œï¼ˆæŒ‰é¡ºåºç»„ç»‡çš„æ“ä½œï¼‰</li>\n</ol>\n<p>è¿™ä¸¤ç§è¾“å…¥çš„æ ¼å¼å®Œå…¨ä¸åŒï¼Œä½†å­˜åœ¨éšå¼å…³è”ã€‚ä¸ºäº†å……åˆ†æ¢ç´¢æ–‡ä»¶ç³»ç»Ÿï¼Œæ¨¡ç³Šæµ‹è¯•å·¥å…·éœ€è¦åŒæ—¶å¯¹è¿™ä¸¤ç±»è¾“å…¥è¿›è¡Œå˜å¼‚ã€‚ç„¶è€Œï¼Œç°æœ‰å·¥å…·å¹¶ä¸æ”¯æŒè¿™ä¸€ç‚¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›æå‡ºä¸€ç§æ··åˆæ–¹æ³•ï¼Œé€šè¿‡åŒæ—¶æ¨¡ç³Šæµ‹è¯•é•œåƒå­—èŠ‚å’Œæ–‡ä»¶æ“ä½œæ¥æ¢ç´¢è¿™ä¸¤ä¸ªç»´åº¦ã€‚</p>\n<p><strong>å¤ç°å‘ç°çš„å´©æºƒ</strong>ã€‚ä¼ ç»Ÿçš„æ“ä½œç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·é€šå¸¸ä½¿ç”¨è™šæ‹ŸåŒ–å®ä¾‹æ¥æµ‹è¯•æ“ä½œç³»ç»ŸåŠŸèƒ½ã€‚ç„¶è€Œï¼Œä¸ºäº†é¿å…é‡å¯è™šæ‹Ÿæœºæˆ–æ¢å¤å¿«ç…§çš„é«˜æ˜‚å¼€é”€ï¼Œå®ƒä»¬ä¼šåœ¨å¤šæ¬¡è¿è¡Œä¸­é‡å¤ä½¿ç”¨ç›¸åŒçš„æ“ä½œç³»ç»Ÿæˆ–æ–‡ä»¶ç³»ç»Ÿå®ä¾‹ï¼Œè¿™å¯¼è‡´å†…æ ¸æ‰§è¡Œä¸ç¨³å®šä»¥åŠæ— æ³•å¤ç°çš„é”™è¯¯ã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡åˆ©ç”¨åº“æ“ä½œç³»ç»Ÿï¼ˆlibrary OSï¼‰è§£å†³ã€‚åº“æ“ä½œç³»ç»Ÿèƒ½å¤Ÿæä¾›ç²¾ç¡®çš„æ“ä½œç³»ç»Ÿè¡Œä¸ºï¼Œå¹¶åœ¨æ¯«ç§’çº§æ—¶é—´å†…é‡æ–°åˆå§‹åŒ–æ“ä½œç³»ç»ŸçŠ¶æ€ï¼Œä»è€Œå®ç°é«˜æ•ˆä¸”å¯å¤ç°çš„å´©æºƒæ£€æµ‹ã€‚</p>\n<h1 id=\"design\"><a class=\"anchor\" href=\"#design\">#</a> Design</h1>\n<h2 id=\"overview\"><a class=\"anchor\" href=\"#overview\">#</a> Overview</h2>\n<p>JANUS æ˜¯ä¸€ç§åé¦ˆé©±åŠ¨çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œæ—¨åœ¨é€šè¿‡å˜å¼‚ç§å­é•œåƒçš„å…ƒæ•°æ®ï¼Œå¹¶ç”Ÿæˆä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„æ–‡ä»¶æ“ä½œï¼ˆå³ç³»ç»Ÿè°ƒç”¨ï¼‰ï¼Œæ¥å…¨é¢æ¢ç´¢æ–‡ä»¶ç³»ç»Ÿã€‚ä¸ºäº†åº”å¯¹æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•ä¸­çš„æŒ‘æˆ˜ï¼ŒJANUS é‡‡ç”¨äº†ä»¥ä¸‹è®¾è®¡ç­–ç•¥ï¼š</p>\n<ol>\n<li><strong>ä¸“æ³¨äºå…ƒæ•°æ®å˜å¼‚</strong><br />\n JANUS ä»…å­˜å‚¨ä»ç§å­é•œåƒä¸­æå–çš„å…ƒæ•°æ®ä½œä¸ºå˜å¼‚ç›®æ ‡ã€‚å…ƒæ•°æ®å¯¹äºæ–‡ä»¶ç³»ç»Ÿç®¡ç†ç”¨æˆ·æ•°æ®è‡³å…³é‡è¦ã€‚JANUS åœ¨å˜å¼‚åä¼šé‡æ–°è®¡ç®—æ¯ä¸ªå…ƒæ•°æ®ç»“æ„çš„æ ¡éªŒå’Œã€‚ç”±äºå…ƒæ•°æ®ä»…å é•œåƒç©ºé—´çš„ 1%ï¼Œæµ‹è¯•ç”¨ä¾‹çš„å¤§å°è¿œå°äºå®Œæ•´ç£ç›˜é•œåƒï¼Œä»è€Œæ˜¾è‘—æé«˜äº†æ¨¡ç³Šæµ‹è¯•çš„ååé‡ã€‚</li>\n<li><strong>åŠ¨æ€ç”Ÿæˆæ–‡ä»¶æ“ä½œ</strong><br />\n JANUS ä¸ä¾èµ–äºæ‰‹åŠ¨æŒ‡å®šç§å­é•œåƒä¸­å­˜å‚¨çš„æ–‡ä»¶ä¿¡æ¯ï¼Œå› ä¸ºè¿™äº›ä¿¡æ¯ä¼šéšç€æ—¶é—´å¤±æ•ˆï¼Œå¯¼è‡´æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆæ•ˆæœä¸ä½³ã€‚ç›¸åï¼ŒJANUS æ ¹æ®å®Œæˆæ—§å·¥ä½œè´Ÿè½½åæ¨æµ‹å‡ºçš„é•œåƒçŠ¶æ€åŠ¨æ€ç”Ÿæˆæ–°çš„æ–‡ä»¶æ“ä½œã€‚</li>\n<li><strong>æ¢ç´¢äºŒç»´è¾“å…¥ç©ºé—´</strong><br />\næ–‡ä»¶ç³»ç»Ÿçš„è¾“å…¥åŒ…æ‹¬ç£ç›˜é•œåƒå’Œæ–‡ä»¶æ“ä½œã€‚JANUS é€šè¿‡åˆç†è°ƒåº¦é•œåƒæ¨¡ç³Šæµ‹è¯•å’Œæ–‡ä»¶æ“ä½œæ¨¡ç³Šæµ‹è¯•ï¼Œæ¢ç´¢è¿™ä¸¤ç§è¾“å…¥çš„å¯èƒ½æ€§ã€‚è€ƒè™‘åˆ°åŸå§‹é•œåƒå†³å®šäº†æ–‡ä»¶ç³»ç»Ÿçš„åˆå§‹çŠ¶æ€ï¼Œå¹¶å½±å“åˆå§‹æ–‡ä»¶æ“ä½œçš„æ‰§è¡Œï¼ŒJANUS é¦–å…ˆå¯¹é•œåƒå­—èŠ‚è¿›è¡Œå˜å¼‚ã€‚</li>\n<li><strong>ä½¿ç”¨åº“æ“ä½œç³»ç»Ÿå¤ç°å´©æºƒ</strong><br />\n JANUS ä½¿ç”¨åº“æ“ä½œç³»ç»Ÿï¼ˆlibrary OSï¼‰åœ¨ç”¨æˆ·ç©ºé—´æµ‹è¯•å†…æ ¸åŠŸèƒ½ã€‚åº“æ“ä½œç³»ç»Ÿå®ä¾‹ä»¥ç”¨æˆ·åº”ç”¨ç¨‹åºçš„å½¢å¼è¿è¡Œï¼Œå¯ä»¥å¿«é€Ÿé‡æ–°å¯åŠ¨ï¼Œå¼€é”€æä½ï¼Œä»è€Œæé«˜äº†å‘ç°å´©æºƒåå¤ç°é”™è¯¯çš„æœºä¼šã€‚</li>\n</ol>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/q78czu.png\" alt=\"å›¾2\" /></p>\n<blockquote>\n<p>å›¾ 2: JANUS çš„æ¦‚è§ˆï¼šåœ¨æ¯æ¬¡æ¨¡ç³Šæµ‹è¯•è¿­ä»£ä¸­ï¼ŒJANUS ä»å…¶å·¥ä½œé›†åŠ è½½ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¯¥æµ‹è¯•ç”¨ä¾‹ç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼šç§å­é•œåƒçš„å…ƒæ•°æ®ã€åŒ…å«æ–‡ä»¶æ“ä½œåˆ—è¡¨çš„ç¨‹åºï¼Œä»¥åŠç¨‹åºåœ¨è¿è¡Œæ—¶æ‰§è¡Œåæ¨æµ‹å‡ºçš„é•œåƒçŠ¶æ€ï¼ˆâ¶ï¼‰ã€‚æ¥ç€ï¼ŒJANUS çš„æ¨¡ç³Šå¼•æ“ä»¥ä¸¤ç§æ–¹å¼å¯¹æµ‹è¯•ç”¨ä¾‹è¿›è¡Œå˜å¼‚ï¼š</p>\n<ol>\n<li><strong>é•œåƒå˜å¼‚</strong>ï¼šé•œåƒå˜å¼‚å™¨éšæœºå˜å¼‚å…ƒæ•°æ®ï¼Œæ¨¡ç³Šå¼•æ“è¾“å‡ºå˜å¼‚åçš„å…ƒæ•°æ®ï¼ŒåŒæ—¶ä¿æŒç¨‹åºä¸å˜ï¼Œç”¨äºæµ‹è¯•ï¼ˆâ‹ï¼‰ã€‚</li>\n<li><strong>ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Š</strong>ï¼šç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šå™¨å¯¹ç¨‹åºä¸­çš„ç°æœ‰ç³»ç»Ÿè°ƒç”¨è¿›è¡Œå˜å¼‚æˆ–é™„åŠ æ–°çš„ç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶æ ¹æ®å·¥ä½œè´Ÿè½½çš„å˜åŒ–æ›´æ–°é•œåƒçŠ¶æ€ï¼ˆâ‘¡ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨¡ç³Šå¼•æ“è¾“å‡ºä¸å˜çš„å…ƒæ•°æ®å’Œæ–°ç”Ÿæˆçš„ç¨‹åºã€‚</li>\n</ol>\n<p>ç„¶åï¼ŒJANUS å°†è¾“å‡ºçš„å…ƒæ•°æ®é‡Šæ”¾åˆ°ä¸€ä¸ªå®Œæ•´é•œåƒä¸­ï¼ˆâ¸ï¼‰ï¼Œå¹¶å°†å®Œæ•´é•œåƒä¸è¾“å‡ºç¨‹åºä¸€èµ·äº¤ç»™åŸºäºåº“æ“ä½œç³»ç»Ÿçš„æ‰§è¡Œå™¨ï¼ˆâ‘¢ï¼‰ã€‚æ‰§è¡Œå™¨æŒ‚è½½é•œåƒå¹¶æ‰§è¡Œç¨‹åºï¼Œå…¶æ‰§è¡Œè½¨è¿¹è¢«è®°å½•åˆ°ä¸€ä¸ªå…±äº«ç»™ JANUS æ¨¡ç³Šå¼•æ“çš„ä½å›¾ä¸­ï¼ˆâï¼‰ã€‚</p>\n<p>å¦‚æœå‘ç°æ–°çš„ä»£ç è·¯å¾„ï¼Œè¾“å‡ºçš„å…ƒæ•°æ®ã€ç¨‹åºä»¥åŠæ›´æ–°åçš„é•œåƒçŠ¶æ€å°†è¢«æ‰“åŒ…æˆæ–°çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶ä¿å­˜åˆ°å·¥ä½œé›†ä¸­ï¼Œä»¥ä¾›åç»­å˜å¼‚ä½¿ç”¨ï¼ˆâï¼‰ã€‚</p>\n</blockquote>\n<p>å›¾ 2 å±•ç¤ºäº† JANUS çš„è¯¦ç»†è®¾è®¡ã€‚JANUS çš„äºŒè¿›åˆ¶è¾“å…¥åŒ…å«ä»¥ä¸‹ä¸‰éƒ¨åˆ†ï¼š</p>\n<ol>\n<li><strong>å…ƒæ•°æ®å—</strong>ï¼šä»ç§å­é•œåƒä¸­æå–çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</li>\n<li><strong>åºåˆ—åŒ–ç¨‹åº</strong>ï¼šæè¿°ä¸€ç³»åˆ—ç³»ç»Ÿè°ƒç”¨çš„æ–‡ä»¶ç³»ç»Ÿå·¥ä½œè´Ÿè½½ã€‚</li>\n<li><strong>æ¨æµ‹çš„é•œåƒçŠ¶æ€</strong>ï¼šç¨‹åºè¿è¡Œåé•œåƒçš„çŠ¶æ€ã€‚</li>\n</ol>\n<p>åœ¨åˆå§‹åŒ–é˜¶æ®µï¼ŒJANUS ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„è§£æå™¨ä»ç§å­é•œåƒä¸­æå–å…ƒæ•°æ®ï¼ŒåŒæ—¶æ£€æŸ¥é•œåƒçŠ¶æ€å¹¶ç”Ÿæˆåˆå§‹ç¨‹åºã€‚è¿™äº›å…ƒæ•°æ®ã€é•œåƒçŠ¶æ€å’Œç¨‹åºè¢«æ‰“åŒ…æˆæµ‹è¯•ç”¨ä¾‹ï¼Œå­˜å…¥ JANUS çš„å·¥ä½œé›†ã€‚JANUS é€šè¿‡ä»å·¥ä½œé›†ä¸­é€‰æ‹©æµ‹è¯•ç”¨ä¾‹ï¼ˆâ¶ï¼‰ï¼Œåœ¨æ— é™å¾ªç¯ä¸­ä½¿ç”¨é•œåƒå˜å¼‚å™¨å’Œç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šå™¨æ¢ç´¢äºŒç»´è¾“å…¥ç©ºé—´ï¼š</p>\n<ol>\n<li><strong>é•œåƒå˜å¼‚å™¨</strong>ï¼šå¯¹å…ƒæ•°æ®å—è¿›è¡Œå¤šç§æ–¹å¼çš„å­—èŠ‚ç¿»è½¬ï¼Œç”Ÿæˆå˜å¼‚åçš„å…ƒæ•°æ®ï¼ˆâ‹ï¼‰ã€‚ç¨‹åºéƒ¨åˆ†ä¿æŒä¸å˜ã€‚</li>\n<li><strong>ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šå™¨</strong>ï¼šå˜å¼‚ç°æœ‰ç¨‹åºä¸­çš„ç³»ç»Ÿè°ƒç”¨å‚æ•°ï¼Œæˆ–å‘ç¨‹åºä¸­æ·»åŠ æ–°çš„ç³»ç»Ÿè°ƒç”¨ï¼ŒåŒæ—¶æ ¹æ®æ–°ç”Ÿæˆçš„ç¨‹åºæ¨æµ‹æ–°çš„é•œåƒçŠ¶æ€ï¼ˆâ‘¡ï¼‰ã€‚æ­¤æ—¶ï¼Œå…ƒæ•°æ®éƒ¨åˆ†ä¿æŒä¸å˜ã€‚</li>\n</ol>\n<p>ç”Ÿæˆçš„å˜å¼‚å…ƒæ•°æ®ä¸ç”¨æˆ·æ•°æ®åˆå¹¶åï¼ŒJANUS é‡æ–°è®¡ç®—æ ¡éªŒå’Œï¼Œç”Ÿæˆå®Œæ•´é•œåƒï¼ˆâ¸ï¼‰ã€‚åºåˆ—åŒ–åçš„ç¨‹åºä¹Ÿè¢«ä¿å­˜åˆ°ç£ç›˜ä¸­ï¼ˆâ‘¢ï¼‰ã€‚JANUS ä¾èµ–åº“æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·ç©ºé—´æ‰§è¡Œå™¨ï¼ŒåŠ è½½å®Œæ•´é•œåƒå¹¶æ‰§è¡Œç£ç›˜ä¸­å­˜å‚¨çš„ç¨‹åºï¼ˆâï¼‰ã€‚æ‰§è¡Œå™¨çš„è¿è¡Œæ—¶è·¯å¾„è¦†ç›–è¢«è®°å½•åˆ°ä¸€ä¸ªå…±äº«çš„ä½å›¾ä¸­ã€‚æ¨¡ç³Šå¼•æ“æ£€æŸ¥ä½å›¾ï¼Œå½“å‘ç°æ–°çš„è·¯å¾„æ—¶ï¼ŒJANUS å°†ç²¾ç®€åçš„é•œåƒã€åºåˆ—åŒ–ç¨‹åºå’Œæ¨æµ‹çš„é•œåƒçŠ¶æ€å­˜å‚¨ä¸ºæ–°çš„äºŒè¿›åˆ¶è¾“å…¥ï¼Œç”¨äºåç»­è¿è¡Œä¸­çš„è¿›ä¸€æ­¥å˜å¼‚ï¼ˆâï¼‰ã€‚è¯·æ³¨æ„ï¼Œå¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒJANUS æ€»æ˜¯å…ˆè¿è¡Œé•œåƒå˜å¼‚å™¨è¿›è¡Œè‹¥å¹²è½®å˜å¼‚ï¼Œå¦‚æœæ²¡æœ‰å‘ç°æœ‰è¶£çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå†è°ƒç”¨ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šå™¨ã€‚</p>\n<p>æˆ‘ä»¬å°†åœ¨<a href=\"#building-corpus\"> Â§4.2</a> ä¸­é¦–å…ˆæè¿° JANUS å¦‚ä½•é€šè¿‡è§£æç§å­é•œåƒç”Ÿæˆåˆå§‹æµ‹è¯•ç”¨ä¾‹ã€‚æ¥ç€ï¼Œåœ¨ <a href=\"#fuzzing-images\">Â§4.3</a> å’Œ <a href=\"#fuzzing-file-operations\">Â§4.4</a> ä¸­åˆ†åˆ«ä»‹ç»å®ƒå¦‚ä½•å¯¹é•œåƒå­—èŠ‚è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ä»¥åŠç”Ÿæˆæ–‡ä»¶æ“ä½œã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å°†åœ¨ <a href=\"#exploring-two-dimensional-input-space\">Â§4.5</a> ä¸­è¯´æ˜ JANUS å¦‚ä½•é›†æˆä¸¤ä¸ªæ ¸å¿ƒæ¨¡ç³Šå™¨ã€‚æœ€åï¼Œåœ¨ <a href=\"#library-os-based-kernel-execution-environment\">Â§4.6</a> ä¸­å±•ç¤ºæˆ‘ä»¬ä¸ºæ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•è®¾è®¡çš„å…¨æ–°åŸºäºåº“æ“ä½œç³»ç»Ÿçš„ç¯å¢ƒã€‚</p>\n<h2 id=\"building-corpus\"><a class=\"anchor\" href=\"#building-corpus\">#</a> Building Corpus</h2>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/wld0kd.jpg\" alt=\"å›¾3\" /></p>\n<blockquote>\n<p>å›¾ 3ï¼šJANUS å¦‚ä½•åœ¨ç»™å®šç§å­å›¾åƒçš„æƒ…å†µä¸‹ç”Ÿæˆåˆå§‹è¯­æ–™åº“çš„ä¼ªä»£ç ã€‚</p>\n</blockquote>\n<p>JANUS é€šè¿‡å…¶é•œåƒè§£æå™¨å’Œç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šå™¨ï¼ŒåŸºäºç§å­é•œåƒæ„å»ºåˆå§‹è¯­æ–™åº“ï¼ˆè§å›¾ 3ï¼‰ã€‚è¯­æ–™åº“ä¸­æµ‹è¯•ç”¨ä¾‹çš„ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç§å­é•œåƒçš„å…³é”®å…ƒæ•°æ®å—ï¼Œè¿™äº›å—ä»…å é•œåƒæ€»å¤§å°çš„çº¦ 1%ï¼Œä»è€Œå…‹æœäº†ä¸Šä¸€ç« ä¸­æåˆ°çš„æ¨¡ç³Šæµ‹è¯•ç£ç›˜é•œåƒçš„æŒ‘æˆ˜ã€‚å…·ä½“æ¥è¯´ï¼ŒJANUS é¦–å…ˆå°†æ•´ä¸ªé•œåƒæ˜ å°„åˆ°å†…å­˜ç¼“å†²åŒºä¸­ï¼Œç„¶åä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„é•œåƒè§£æå™¨æ‰«æé•œåƒï¼Œå¹¶æ ¹æ®æ‰€ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿçš„è§„èŒƒå®šä½æ‰€æœ‰çš„ç£ç›˜å…ƒæ•°æ®ã€‚æ¥ç€ï¼ŒJANUS å°†è¿™äº›å…ƒæ•°æ®é‡æ–°ç»„è£…ä¸ºä¸€ä¸ªç´§ç¼©çš„æ•°æ®å—ï¼Œä¾›åç»­å˜å¼‚ä½¿ç”¨ï¼Œå¹¶è®°å½•å…¶å¤§å°å’Œåœ¨é•œåƒä¸­çš„åç§»é‡ã€‚å¯¹äºå—æ ¡éªŒå’Œä¿æŠ¤çš„å…ƒæ•°æ®ç»“æ„ï¼ŒJANUS è¿˜è®°å½•äº†ç”±é•œåƒè§£æå™¨è¯†åˆ«çš„æ ¡éªŒå’Œå­—æ®µåœ¨å…ƒæ•°æ®ä¸­çš„åç§»ä½ç½®ã€‚</p>\n<p>å…¶æ¬¡ï¼Œåˆå§‹æµ‹è¯•ç”¨ä¾‹è¿˜åŒ…æ‹¬é•œåƒä¸Šæ¯ä¸ªæ–‡ä»¶å’Œç›®å½•çš„ä¿¡æ¯ï¼Œä½¿å¾— JANUS å¯ä»¥åˆ©ç”¨è¿™äº›ä¿¡æ¯ç”Ÿæˆä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å·¥ä½œè´Ÿè½½ã€‚å…·ä½“è€Œè¨€ï¼Œç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šå™¨ä¼šæ¢æµ‹ç§å­é•œåƒï¼Œå¹¶æå–æ¯ä¸ªæ–‡ä»¶å¯¹è±¡çš„è·¯å¾„ã€ç±»å‹ï¼ˆå¦‚æ™®é€šæ–‡ä»¶ã€ç›®å½•ã€ç¬¦å·é“¾æ¥ã€FIFO æ–‡ä»¶ç­‰ï¼‰ä»¥åŠæ‰©å±•å±æ€§ï¼Œè¿™äº›ä¿¡æ¯è¢«æ‰“åŒ…è¿›æ¯ä¸ªåˆå§‹æµ‹è¯•ç”¨ä¾‹ä¸­ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªåˆå§‹æµ‹è¯•ç”¨ä¾‹è¿˜åŒ…å«ä¸€ä¸ªç”±ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šå™¨ç”Ÿæˆçš„ã€å¸¦æœ‰ç‹¬ç‰¹ç³»ç»Ÿè°ƒç”¨çš„èµ·å§‹ç¨‹åºï¼Œä¾›åç»­å˜å¼‚ä½¿ç”¨ã€‚ä¸ºäº†æ‰©å¤§è¯­æ–™åº“çš„æ€»ä½“è¦†ç›–èŒƒå›´ï¼Œæ¯ä¸ªéšæœºç”Ÿæˆçš„ç³»ç»Ÿè°ƒç”¨éƒ½ä¼šæ“ä½œä¸€ä¸ªç‹¬ç‰¹çš„æ–‡ä»¶å¯¹è±¡ï¼ˆæœ‰å…³ç¨‹åºæ ¼å¼å’Œç³»ç»Ÿè°ƒç”¨ç”Ÿæˆçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§  <a href=\"#fuzzing-file-operations\">Â§4.4</a> ï¼‰ã€‚ç§å­é•œåƒçš„å…ƒæ•°æ®ã€æ–‡ä»¶çŠ¶æ€ï¼Œä»¥åŠèµ·å§‹ç¨‹åºå…±åŒç»„æˆäº†ä¸€ä¸ªè¾“å…¥æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™äº›æµ‹è¯•ç”¨ä¾‹ç”± JANUS æ‰“åŒ…å¹¶å­˜å‚¨åˆ°ç£ç›˜ä¸Šçš„è¯­æ–™åº“ä¸­ï¼Œä¾›æœªæ¥çš„æ¨¡ç³Šæµ‹è¯•ä½¿ç”¨ã€‚</p>\n<h2 id=\"fuzzing-images\"><a class=\"anchor\" href=\"#fuzzing-images\">#</a> Fuzzing Images</h2>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/a25hnt.png\" alt=\"å›¾4\" /></p>\n<blockquote>\n<p>å›¾ 4ï¼šJANUS å¦‚ä½•éšæœºå˜å¼‚å…ƒæ•°æ®å—çš„ä¼ªä»£ç </p>\n</blockquote>\n<p>JANUS ä¾èµ–äºå…¶é•œåƒå˜å¼‚å™¨å¯¹é•œåƒè¿›è¡Œæ¨¡ç³Šæµ‹è¯•ã€‚å…·ä½“æ¥è¯´ï¼Œé•œåƒå˜å¼‚å™¨ä¼šåŠ è½½æµ‹è¯•ç”¨ä¾‹çš„å…ƒæ•°æ®å—ï¼Œå¹¶åº”ç”¨å¤šç§å¸¸è§çš„æ¨¡ç³Šæµ‹è¯•ç­–ç•¥ï¼ˆå¦‚æåˆ°çš„ä½ç¿»è½¬ã€éšæœºå­—èŠ‚ä¸Šçš„ç®—æœ¯æ“ä½œç­‰ï¼‰æ¥éšæœºå˜å¼‚å…ƒæ•°æ®çš„å­—èŠ‚ï¼Œå¦‚å›¾ 4 æ‰€ç¤ºã€‚ä¸ç°æœ‰çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ç±»ä¼¼ï¼ŒJANUS ä¼˜å…ˆä½¿ç”¨ä¸€ç»„ç‰¹å®šçš„æ•´æ•°ï¼ˆå³å›¾ 4 ä¸­çš„ &quot;æœ‰è¶£å€¼&quot;ï¼Œä¾‹å¦‚  <code>-1</code> ã€ <code>0</code> ã€ <code>INT_MAX</code>  ç­‰ï¼‰è€Œéçº¯éšæœºå€¼æ¥å˜å¼‚å…ƒæ•°æ®ã€‚åœ¨æˆ‘ä»¬çš„è¯„ä¼°ä¸­ï¼Œè¿™äº›ç‰¹æ®Šå€¼ä½¿é•œåƒå˜å¼‚å™¨èƒ½å¤Ÿç”Ÿæˆæ›´å¤šè¾¹ç•Œæƒ…å†µï¼Œè¿™äº›æƒ…å†µå¾€å¾€æ— æ³•è¢«æ–‡ä»¶ç³»ç»Ÿæ­£ç¡®å¤„ç†ï¼ˆä¾‹å¦‚ è¡¨ 2 ä¸­ç”± JANUS å‘ç°çš„ Bug #1ã€#6ã€#14ã€#28ã€#33 ç­‰ï¼‰ï¼ŒåŒæ—¶è¿˜èƒ½ç”Ÿæˆæ›´å¤šæç«¯æƒ…å†µï¼Œä»è€Œé€šè¿‡åœ¨è¿è¡Œæ—¶è§¦å‘ç‰¹å®š Bug å¢åŠ å†…æ ¸å´©æºƒçš„å¯èƒ½æ€§ï¼ˆä¾‹å¦‚ï¼Œå¤§éƒ¨åˆ†ç”± JANUS å‘ç°çš„è¶Šç•Œè®¿é—® Bugï¼‰ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/b1q3om.png\" alt=\"è¡¨2\" /></p>\n<blockquote>\n<p>è¡¨ 2 åˆ—å‡ºäº†ç”± JANUS åœ¨å¹¿æ³›ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿä¸­å‘ç°çš„å…ˆå‰æœªçŸ¥çš„æ¼æ´ï¼Œè¿™äº›æ¼æ´å·²åœ¨ Linux å†…æ ¸ç‰ˆæœ¬ v4.16**ã€**v4.17 å’Œ v4.18 ä¸­ä¿®å¤ã€‚æˆ‘ä»¬ä»åœ¨ç­‰å¾…ä¸ºéƒ¨åˆ†å·²ç¡®è®¤çš„æ¼æ´åˆ†é… CVE ç¼–å·ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæˆ‘ä»¬æœªåˆ—å‡ºå¼€å‘è€…å°šæœªä¿®å¤çš„å¦å¤– 19 ä¸ªæ¼æ´ã€‚è¡¨æ ¼æœ€å³åˆ— <strong>Conditions</strong> æŒ‡ç¤ºäº† JANUS çš„å“ªäº›ç»„ä»¶å¯¹å‘ç°è¿™äº›æ¼æ´èµ·åˆ°äº†è´¡çŒ®ã€‚<strong>I</strong> è¡¨ç¤ºä»…éœ€æŒ‚è½½å˜å¼‚çš„é•œåƒå³å¯è§¦å‘è¯¥æ¼æ´ï¼›<strong>I+S</strong> è¡¨ç¤ºéœ€è¦æŒ‚è½½å˜å¼‚çš„é•œåƒå¹¶è°ƒç”¨ç‰¹å®šç³»ç»Ÿè°ƒç”¨æ‰èƒ½è§¦å‘æ¼æ´ã€‚</p>\n</blockquote>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/kffo94.png\" alt=\"å›¾5\" /></p>\n<blockquote>\n<p>å›¾ 5ï¼šJANUS å¦‚ä½•å°†å˜å¼‚å…ƒæ•°æ®å—é‡Šæ”¾å›å…¨å°ºå¯¸å›¾åƒè¿›è¡Œæµ‹è¯•çš„ä¼ªä»£ç ã€‚</p>\n</blockquote>\n<p>åœ¨å˜å¼‚å®Œæ•´ä¸ªå…ƒæ•°æ®å—åï¼ŒJANUS å°†å˜å¼‚åçš„æ¯ä¸ªå…ƒæ•°æ®å—æ‹·è´å›å…¶å¯¹åº”ä½ç½®çš„å†…å­˜ç¼“å†²åŒºä¸­ï¼ˆå¦‚å›¾ 5 æ‰€ç¤ºï¼‰ï¼Œè¯¥ç¼“å†²åŒºå­˜å‚¨ç€åŸå§‹çš„å…¨å°ºå¯¸é•œåƒã€‚ä¸ºäº†ä¿æŒé•œåƒçš„å®Œæ•´æ€§ï¼Œé•œåƒè§£æå™¨ä¼šæ ¹æ®ç›®æ ‡æ–‡ä»¶ç³»ç»Ÿé‡‡ç”¨çš„ç‰¹å®šç®—æ³•é‡æ–°è®¡ç®—æ¯ä¸ªå…ƒæ•°æ®å—çš„æ ¡éªŒå’Œå€¼ï¼Œå¹¶å°†è¯¥å€¼å¡«å……åˆ°æ ¡éªŒå’Œå­—æ®µçš„è®°å½•åç§»ä½ç½®ä¸­ã€‚</p>\n<h2 id=\"fuzzing-file-operations\"><a class=\"anchor\" href=\"#fuzzing-file-operations\">#</a> Fuzzing File Operations</h2>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/ih85zt.png\" alt=\"å›¾6\" /></p>\n<blockquote>\n<p>å›¾ 6ï¼šJanus å¦‚ä½•éšæœºå˜å¼‚ç°æœ‰ç³»ç»Ÿè°ƒç”¨å¹¶ç”Ÿæˆæ–°çš„ç¨‹åºçš„ä¼ªä»£ç ã€‚</p>\n</blockquote>\n<p>ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ä½¿ JANUS èƒ½å¤Ÿç”Ÿæˆä¸é•œåƒç›¸å…³çš„å·¥ä½œè´Ÿè½½ï¼Œä»è€Œæœ‰æ•ˆåœ°æ¢ç´¢æ–‡ä»¶ç³»ç»Ÿå¦‚ä½•å¤„ç†ç”¨æˆ·è¯·æ±‚çš„å„ç§æ–‡ä»¶æ“ä½œã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»‹ç»ç”±ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·æ“ä½œçš„ç¨‹åºï¼ˆProgramï¼‰ç»“æ„ã€‚ä¸€ä¸ªç¨‹åºåŒ…å«ä¸€ç»„æœ‰åºçš„ç³»ç»Ÿè°ƒç”¨ï¼ˆsystem callï¼‰åˆ—è¡¨ï¼Œè¿™äº›ç³»ç»Ÿè°ƒç”¨ç”¨äºä¿®æ”¹è¢«å˜å¼‚çš„é•œåƒï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªå˜é‡åº“ï¼Œç”¨äºå­˜å‚¨ç³»ç»Ÿè°ƒç”¨ä¸­ä½¿ç”¨çš„å˜é‡ã€‚JANUS å°†æ¯ä¸ªç³»ç»Ÿè°ƒç”¨æè¿°ä¸ºä¸€ä¸ªåŒ…å«ç³»ç»Ÿè°ƒç”¨å·ã€å‚æ•°å€¼å’Œè¿”å›å€¼çš„å…ƒç»„ã€‚å¦‚æœå‚æ•°å€¼æˆ–è¿”å›å€¼ä¸æ˜¯ç®€å•çš„å¸¸é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªå˜é‡ï¼ŒJANUS ä¼šå°†å…¶è¡¨ç¤ºä¸ºæŒ‡å‘å˜é‡åº“ä¸­ç›¸åº”å˜é‡çš„ç´¢å¼•ã€‚æ­¤å¤–ï¼Œç¨‹åºè¿˜åŒ…æ‹¬ä¸€ä¸ªæ´»åŠ¨æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨ï¼Œå…¶ä¸­è®°å½•äº†å·²æ‰“å¼€ä½†å°šæœªè¢«ç¨‹åºå…³é—­çš„æ–‡ä»¶æè¿°ç¬¦ã€‚</p>\n<p>ç±»ä¼¼äºç°æœ‰çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼ˆå¦‚ Syzkallerï¼‰ï¼Œç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·é€šè¿‡ä¸¤ç§æ–¹å¼ä»è¾“å…¥ç¨‹åºç”Ÿæˆæ–°ç¨‹åºï¼š(1) <strong>ç³»ç»Ÿè°ƒç”¨å˜å¼‚</strong>ã€‚ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·éšæœºé€‰æ‹©ç¨‹åºä¸­çš„ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ–°å€¼åˆ—è¡¨ï¼Œä»¥æ›¿æ¢éšæœºé€‰æ‹©çš„å‚æ•°çš„æ—§å€¼ï¼›(2) <strong>ç³»ç»Ÿè°ƒç”¨ç”Ÿæˆ</strong>ã€‚ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·å‘ç¨‹åºè¿½åŠ ä¸€ä¸ªæ–°çš„ç³»ç»Ÿè°ƒç”¨ï¼Œè¯¥ç³»ç»Ÿè°ƒç”¨çš„å‚æ•°å€¼æ˜¯éšæœºç”Ÿæˆçš„ã€‚ç‰¹åˆ«åœ°ï¼ŒJANUS é‡‡ç”¨äº†ä¸ Syzkaller ç›¸åŒçš„ç­–ç•¥æ¥ä¸ºç³»ç»Ÿè°ƒç”¨çš„ç®€å•å‚æ•°ç”Ÿæˆå€¼ã€‚è¿™äº›å‚æ•°çš„å€™é€‰å€¼ä¸æ¨æµ‹çš„è¿è¡Œæ—¶çŠ¶æ€æ— å…³ã€‚å¯¹äºå…·æœ‰æ˜ç¡®å¯ç”¨å€¼é›†åˆçš„å‚æ•°ï¼ŒJANUS ä»é›†åˆä¸­éšæœºé€‰æ‹©å€¼ï¼ˆä¾‹å¦‚ï¼Œ <code>lseek()</code>  çš„  <code>int whence</code>  å‚æ•°ï¼‰ã€‚æ­¤å¤–ï¼Œå¯¹äºæ•´æ•°ç±»å‹çš„å‚æ•°ï¼ˆä¾‹å¦‚ï¼Œ <code>write()</code>  çš„  <code>size_t count</code>  å‚æ•°ï¼‰ï¼ŒJANUS åœ¨æŸä¸ªèŒƒå›´å†…ç”Ÿæˆéšæœºæ•°ã€‚</p>\n<p>è¿›ä¸€æ­¥æ¥è¯´ï¼Œè®¸å¤šæ–‡ä»¶æ“ä½œéœ€è¦ä¸€ä¸ªæŒ‡é’ˆç±»å‹çš„å‚æ•°ã€‚æ­¤ç±»æŒ‡é’ˆé€šå¸¸æŒ‡å‘ä¸€ä¸ªç¼“å†²åŒºï¼Œç”¨äºå­˜å‚¨ç”¨æˆ·æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œ <code>write()</code>  çš„  <code>void *buf</code>  å‚æ•°ï¼‰æˆ–å†…æ ¸è¾“å‡ºï¼ˆä¾‹å¦‚ï¼Œ <code>read()</code>  çš„  <code>void *buf</code>  å‚æ•°ï¼‰ã€‚å¯¹äºå‰è€…ï¼Œç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·å£°æ˜ä¸€ä¸ªå¡«å……äº†éšæœºå€¼çš„æ•°ç»„ä½œä¸ºå‚æ•°ã€‚å¯¹äºåè€…ï¼Œç”±äº JANUS ä¸å—è¿è¡Œæ—¶å†…æ ¸è¾“å‡ºï¼ˆé™¤äº†ä»£ç è¦†ç›–ç‡ï¼‰é©±åŠ¨ï¼Œå› æ­¤å§‹ç»ˆä½¿ç”¨ä¸€ä¸ªå›ºå®šæ•°ç»„ã€‚</p>\n<p>ç„¶è€Œï¼Œå¯¹äºé‚£äº›åˆç†å€¼ä¾èµ–äºæ–‡ä»¶ç³»ç»Ÿè¿è¡Œä¸Šä¸‹æ–‡çš„å¤æ‚å‚æ•°ï¼ŒJANUS ä¸ä»…åŸºäºå‚æ•°çš„é¢„æœŸç±»å‹ç”Ÿæˆå€¼ï¼Œæ›´é‡è¦çš„æ˜¯åŸºäºç»´æŠ¤çš„çŠ¶æ€ï¼Œå¹¶ä¸»è¦éµå¾ªä»¥ä¸‹ä¸‰æ¡è§„åˆ™ï¼š</p>\n<ol>\n<li>å¦‚æœéœ€è¦æ–‡ä»¶æè¿°ç¬¦ï¼Œç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªæ‰“å¼€çš„ã€ä¸”ç±»å‹åˆé€‚çš„æ–‡ä»¶æè¿°ç¬¦ã€‚ä¾‹å¦‚ï¼Œ <code>write()</code>  éœ€è¦ä¸€ä¸ªæ™®é€šæ–‡ä»¶çš„æè¿°ç¬¦ï¼Œè€Œ  <code>getdents()</code>  éœ€è¦ä¸€ä¸ªç›®å½•çš„æ–‡ä»¶æè¿°ç¬¦ï¼›</li>\n<li>å¦‚æœéœ€è¦è·¯å¾„ï¼Œç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªç°æœ‰æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ï¼Œæˆ–è€…æœ€è¿‘æ“ä½œä¸­å·²åˆ é™¤çš„æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå¯¹äº  <code>rename()</code> ï¼ŒJANUS æä¾›æ™®é€šæ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ï¼Œä½†å¯¹äº  <code>rmdir()</code> ï¼Œåˆ™åªæä¾›æœ‰æ•ˆç›®å½•çš„è·¯å¾„ã€‚å¦‚æœè·¯å¾„ç”¨äºåˆ›å»ºæ–°æ–‡ä»¶æˆ–ç›®å½•ï¼ŒJANUS è¿˜å¯èƒ½éšæœºç”Ÿæˆä¸€ä¸ªä½äºç°æœ‰ç›®å½•ä¸‹çš„æ–°è·¯å¾„ï¼›</li>\n<li>å¦‚æœç³»ç»Ÿè°ƒç”¨æ“ä½œæŸæ–‡ä»¶çš„ç°æœ‰æ‰©å±•å±æ€§ï¼ˆä¾‹å¦‚ï¼Œ <code>getxattr()</code>  å’Œ  <code>setxattr()</code> ï¼‰ï¼Œç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ä¼šéšæœºé€‰æ‹©è¯¥æ–‡ä»¶çš„è®°å½•æ‰©å±•å±æ€§åç§°ã€‚</li>\n</ol>\n<p>è¿™äº›ç”Ÿæˆç­–ç•¥ä½¿å¾— JANUS èƒ½å¤Ÿç”Ÿæˆé¢å‘ä¸Šä¸‹æ–‡çš„å·¥ä½œè´Ÿè½½ï¼Œå¯¹æ–°é²œæ–‡ä»¶å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œä»è€Œé¿å…è¿è¡Œæ—¶é”™è¯¯å¹¶å®ç°é«˜ä»£ç è¦†ç›–ç‡ã€‚</p>\n<p>å¯¹äºæ–°ç”Ÿæˆçš„ç³»ç»Ÿè°ƒç”¨ï¼ŒJANUS ä¼šå°†å…¶è¿½åŠ åˆ°ç¨‹åºä¸­ï¼Œå¹¶ç‰¹åˆ«æ€»ç»“è¯¥ç³»ç»Ÿè°ƒç”¨å¯èƒ½å¯¹æ–‡ä»¶ç³»ç»Ÿé€ æˆçš„å˜åŒ–ï¼Œå¹¶ç›¸åº”åœ°æ›´æ–°é•œåƒçš„æ¨æµ‹çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œ <code>open()</code> ã€ <code>mkdir()</code> ã€ <code>link()</code>  æˆ–  <code>symlink()</code>  å¯èƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶æˆ–ç›®å½•ï¼Œè€Œ  <code>open()</code>  è¿˜ä¼šå¼•å…¥ä¸€ä¸ªæ´»åŠ¨æ–‡ä»¶æè¿°ç¬¦ï¼› <code>rmdir()</code>  æˆ–  <code>unlink()</code>  ä¼šä»é•œåƒä¸­ç§»é™¤ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼› <code>rename()</code>  ä¼šæ›´æ–°æ–‡ä»¶è·¯å¾„ï¼Œ <code>setxattr()</code>  æˆ–  <code>removexattr()</code>  ä¼šæ›´æ–°ç‰¹å®šçš„æ‰©å±•å±æ€§ã€‚</p>\n<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å½“å‰è®¾è®¡ä¸­ï¼ŒJANUS ä»…åœ¨å®Œæˆç¨‹åºæ‰§è¡Œåç»´æŠ¤æ¨æµ‹çš„é•œåƒçŠ¶æ€ã€‚å› æ­¤ï¼ŒJANUS é¿å…å¯¹å¯èƒ½å¯¼è‡´é•œåƒçŠ¶æ€å˜åŒ–çš„ç°æœ‰å‚æ•°è¿›è¡Œå˜å¼‚ã€‚ä¾‹å¦‚ï¼ŒJANUS å¯èƒ½å¯¹ç¨‹åºä¸­  <code>write()</code>  çš„æ–‡ä»¶æè¿°ç¬¦ ( <code>fd</code> ) è¿›è¡Œå˜å¼‚ï¼Œä½†ç»ä¸ä¼šä¿®æ”¹  <code>unlink()</code>  çš„è·¯å¾„å‚æ•° ( <code>path</code> )ï¼Œå› ä¸ºè¿™æ ·çš„å˜å¼‚å¯èƒ½ä¼šä½¿å˜å¼‚åç³»ç»Ÿè°ƒç”¨çš„åç»­è°ƒç”¨æ— æ•ˆï¼ˆä¾‹å¦‚ï¼Œå°†  <code>unlink(&quot;A&quot;)</code>  ä¿®æ”¹ä¸º  <code>unlink(&quot;B&quot;)</code>  ä¼šå½±å“æµ‹è¯•ç”¨ä¾‹ä¸­æ‰€æœ‰åç»­é’ˆå¯¹æ–‡ä»¶ B çš„æ–‡ä»¶æ“ä½œï¼‰ã€‚</p>\n<h2 id=\"exploring-two-dimensional-input-space\"><a class=\"anchor\" href=\"#exploring-two-dimensional-input-space\">#</a> Exploring Two-Dimensional Input Space</h2>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/tzcajl.png\" alt=\"å›¾7\" /></p>\n<blockquote>\n<p>å›¾ 7ï¼šJANUS ä¸€æ¬¡ fuzz è¿­ä»£çš„ä¼ªä»£ç </p>\n</blockquote>\n<p>ä¸ºäº†åŒæ—¶å¯¹å…ƒæ•°æ®å’Œç³»ç»Ÿè°ƒç”¨è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ï¼ŒJANUS æŒ‰é¡ºåºè°ƒåº¦å…¶ä¸¤ä¸ªæ ¸å¿ƒæ¨¡ç³Šæµ‹è¯•å·¥å…·ã€‚å›¾ 7 æè¿°äº† JANUS çš„ä¸€æ¬¡æ¨¡ç³Šæµ‹è¯•è¿­ä»£ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªåŒ…å«ç¼©å‡é•œåƒå’Œç¨‹åºçš„è¾“å…¥æµ‹è¯•ç”¨ä¾‹ï¼ŒJANUS é¦–å…ˆå¯åŠ¨é•œåƒå˜å¼‚å™¨ï¼Œåœ¨ç¼©å‡é•œåƒä¸Šå˜å¼‚éšæœºå­—èŠ‚ã€‚å¦‚æœåœ¨æœªæ”¹å˜ç¨‹åºçš„æƒ…å†µä¸‹æ²¡æœ‰å‘ç°æ–°çš„ä»£ç è·¯å¾„ï¼ŒJANUS ä¼šè°ƒç”¨ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œåœ¨ç¨‹åºä¸­å˜å¼‚ç°æœ‰ç³»ç»Ÿè°ƒç”¨çš„å‚æ•°å€¼ï¼Œå¹¶è¿›è¡Œè‹¥å¹²è½®çš„å˜å¼‚ã€‚å¦‚æœä»ç„¶æ²¡æœ‰æ¢ç´¢åˆ°æ–°çš„ä»£ç è·¯å¾„ï¼ŒJANUS æœ€ç»ˆä¼šå°è¯•å‘ç¨‹åºä¸­è¿½åŠ æ–°çš„ç³»ç»Ÿè°ƒç”¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ªæ¨¡ç³Šæµ‹è¯•é˜¶æ®µçš„è½®æ•°æ˜¯ç”±ç”¨æˆ·å®šä¹‰çš„ã€‚</p>\n<p>æŒ‰ç…§è¿™ç§é¡ºåºè°ƒåº¦é•œåƒæ¨¡ç³Šæµ‹è¯•å’Œæ–‡ä»¶æ“ä½œæ¨¡ç³Šæµ‹è¯•çš„æ–¹å¼æ˜¯æœ‰æ•ˆçš„ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>æå–çš„å…ƒæ•°æ®è¡¨ç¤ºé•œåƒçš„åˆå§‹çŠ¶æ€ï¼Œå…ƒæ•°æ®å¯¹æ–‡ä»¶æ“ä½œæ‰§è¡Œçš„å½±å“ä¼šéšç€é•œåƒç»è¿‡è‹¥å¹²æ¬¡ç³»ç»Ÿè°ƒç”¨æ“ä½œè€Œé€æ¸å‡å°ã€‚å› æ­¤ï¼ŒJANUS æ€»æ˜¯é¦–å…ˆå°è¯•å˜å¼‚å…ƒæ•°æ®ã€‚</li>\n<li>å¼•å…¥æ–°çš„æ–‡ä»¶æ“ä½œä¼šæŒ‡æ•°çº§åœ°å¢åŠ ç¨‹åºçš„å˜å¼‚ç©ºé—´ï¼Œå¹¶ä¸”å¯èƒ½ä¼šæŠ¹å»è¿‡å»æ“ä½œå¯¹é•œåƒçš„æ›´æ”¹ã€‚å› æ­¤ï¼ŒJANUS æ›´å€¾å‘äºå˜å¼‚ç°æœ‰çš„ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„ç³»ç»Ÿè°ƒç”¨ã€‚</li>\n</ol>\n<h2 id=\"library-os-based-kernel-execution-environment\"><a class=\"anchor\" href=\"#library-os-based-kernel-execution-environment\">#</a> Library OS based Kernel Execution Environment</h2>\n<p>ä¸ºäº†é¿å…ä½¿ç”¨è€åŒ–çš„æ“ä½œç³»ç»Ÿæˆ–æ–‡ä»¶ç³»ç»Ÿå¯¼è‡´ä¸ç¨³å®šçš„æ‰§è¡Œå’Œä¸å¯å¤ç°çš„é”™è¯¯ï¼ŒJANUS ä¾èµ–äºåŸºäºåº“æ“ä½œç³»ç»Ÿçš„åº”ç”¨ç¨‹åºï¼ˆå³æ‰§è¡Œå™¨ï¼‰æ¥è¿›è¡Œæ“ä½œç³»ç»ŸåŠŸèƒ½çš„æ¨¡ç³Šæµ‹è¯•ã€‚å…·ä½“æ¥è¯´ï¼ŒJANUS ä¼šä¸ºæ¯ä¸ªä»æ¨¡ç³Šæµ‹è¯•å¼•æ“ç”Ÿæˆçš„æ–°é•œåƒå’Œå·¥ä½œè´Ÿè½½åˆ†å‰ä¸€ä¸ªæ–°çš„æ‰§è¡Œå™¨å®ä¾‹ï¼ˆâï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸é‡ç½®è™šæ‹Ÿæœºå®ä¾‹ç›¸æ¯”ï¼Œåˆ†å‰ç”¨æˆ·åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ—¶é—´å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚å› æ­¤ï¼ŒJANUS èƒ½å¤Ÿä»¥ä½å¼€é”€ä¿è¯æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹éƒ½æœ‰ä¸€ä¸ªå¹²å‡€çš„å†…æ ¸ç¯å¢ƒã€‚æ­¤å¤–ï¼Œç”±äºæ¨¡ç³Šæµ‹è¯•å¼•æ“å’Œæ‰§è¡Œå™¨éƒ½åœ¨åŒä¸€å°æœºå™¨çš„ç”¨æˆ·ç©ºé—´ä¸­è¿è¡Œï¼Œå®ƒä»¬ä¹‹é—´å…±äº«è¾“å…¥æ–‡ä»¶å’Œè¦†ç›–ä½å›¾éå¸¸ç®€å•ï¼Œè€Œè¿™å¯¹äºåœ¨è™šæ‹Ÿæœºå¤–éƒ¨è¿è¡Œæ¨¡ç³Šæµ‹è¯•å¼•æ“çš„åŸºäºè™šæ‹Ÿæœºçš„æ¨¡ç³Šæµ‹è¯•å·¥å…·æ¥è¯´æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚æ­¤å¤–ï¼ŒåŸºäºåº“æ“ä½œç³»ç»Ÿçš„å®ä¾‹ç›¸æ¯”ä»»ä½•ç±»å‹çš„è™šæ‹Ÿæœºæ‰€éœ€çš„è®¡ç®—èµ„æºè¦å°‘å¾—å¤šã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¤§è§„æ¨¡éƒ¨ç½² JANUS å®ä¾‹ï¼Œè€Œä¸ä¼šå¼•èµ·ä¸¥é‡çš„èµ„æºç«äº‰ã€‚</p>\n<h1 id=\"implementation\"><a class=\"anchor\" href=\"#implementation\">#</a> Implementation</h1>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/52vqno.png\" alt=\"è¡¨3\" /></p>\n<blockquote>\n<p>è¡¨ 3ï¼šJANUS çš„å®ç°å¤æ‚æ€§ï¼ŒåŒ…æ‹¬å¯¹æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•çš„ AFL å’Œ LKL çš„æ›´æ”¹ã€‚ç”±äºæˆ‘ä»¬ç›´æ¥é‡ç”¨ AFL ä¸­ç°æœ‰çš„äºŒè¿›åˆ¶å˜å¼‚ç®—æ³•ä½œä¸ºå›¾åƒå˜å¼‚å™¨ï¼Œå› æ­¤æˆ‘ä»¬çœç•¥äº†å®ƒçš„ä»£ç å¤§å°ã€‚</p>\n</blockquote>\n<p>æˆ‘ä»¬å°† JANUS å®ç°ä¸º AFLï¼ˆç‰ˆæœ¬ 2.52bï¼‰çš„ä¸€ä¸ªå˜ç§ã€‚JANUS é‡‡ç”¨äº† AFL çš„åŸºç¡€æ¶æ„ï¼ŒåŒ…æ‹¬åˆ†å‰æœåŠ¡å™¨ï¼ˆforkserverï¼‰ã€è¦†ç›–ä½å›¾ä»¥åŠæµ‹è¯•ç”¨ä¾‹è°ƒåº¦ç®—æ³•ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬æ‰©å±•äº† AFLï¼ŒåŠ å…¥äº†é•œåƒå˜å¼‚å™¨å’Œç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªé•œåƒæ£€æŸ¥å™¨ï¼Œç”¨äºä»ç§å­é•œåƒæ„å»ºåˆå§‹è¯­æ–™åº“ï¼Œä»¥åŠä¸€ä¸ªç¨‹åºåºåˆ—åŒ–å™¨ï¼Œç”¨äºåœ¨å†…å­˜å’Œå·¥ä½œè¯­æ–™åº“ä¹‹é—´ä¼ é€’ç”Ÿæˆçš„ç¨‹åºã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åŸºäº Linux å†…æ ¸åº“ï¼ˆLKLï¼‰å®ç°äº†ä¸€ä¸ªæ‰§è¡Œå™¨ï¼Œç”¨äºæµ‹è¯•æ–°ç”Ÿæˆçš„é•œåƒå’Œå·¥ä½œè´Ÿè½½ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬è¿˜ä¿®æ”¹äº† LKL ä»¥æ”¯æŒå†…æ ¸åœ°å€æ¶ˆæ¯’å™¨ï¼ˆKASANï¼‰[17]ï¼Œè¿™æ˜¯ä¸€ç§è¢«æ“ä½œç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·å¹¿æ³›é‡‡ç”¨çš„æŠ€æœ¯ï¼Œç”¨äºæ£€æµ‹å†…å­˜é”™è¯¯ã€‚ä¸ºäº†ä¾¿äºåœ¨çœŸå®ç¯å¢ƒä¸­å¤ç°é”™è¯¯ï¼Œæˆ‘ä»¬è¿˜å®ç°äº†ä¸€ä¸ªæ¦‚å¿µéªŒè¯ï¼ˆProof-of-Concept, PoCï¼‰ç”Ÿæˆå™¨ï¼Œè¯¥ç”Ÿæˆå™¨èƒ½å¤Ÿä»åºåˆ—åŒ–çš„æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆä¸€ä¸ªå®Œæ•´é•œåƒä»¥åŠä¸€ä¸ªå¯ç¼–è¯‘çš„ C ç¨‹åºã€‚è¡¨ 3 æ˜¾ç¤ºäº† JANUS å„ç»„ä»¶çš„ä»£ç è¡Œæ•°ï¼ˆLoCï¼‰ã€‚æœ¬èŠ‚å°†è¯¦ç»†æè¿°å‡ ä¸ªä¸»è¦ç»„ä»¶çš„å®ç°ç»†èŠ‚ã€‚</p>\n<ul>\n<li>\n<p><strong>é•œåƒè§£æå™¨å’Œé•œåƒå˜å¼‚å™¨</strong>ï¼šæˆ‘ä»¬å°†é•œåƒè§£æå™¨å®ç°ä¸ºä¸€ä¸ªåŠ¨æ€åº“ï¼Œç”¨äºå®šä½å…ƒæ•°æ®å¹¶è¯†åˆ«ç§å­é•œåƒä¸Šçš„æ ¡éªŒå’Œã€‚ç›®å‰ï¼Œè¯¥è§£æå™¨æ”¯æŒè§£æ Linux ä¸Šå…«ç§å¹¿æ³›ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜é•œåƒï¼ŒåŒ…æ‹¬ ext4ã€XFSã€Btrfsã€F2FSã€GFS2ã€HFS+ã€ReiserFS å’Œ VFATã€‚æˆ‘ä»¬çš„é•œåƒè§£æå™¨å®ç°å‚è€ƒäº†è¿™äº›æ–‡ä»¶ç³»ç»Ÿçš„ç”¨æˆ·æ€å·¥å…·ï¼ˆå¦‚  <code>mkfs</code>  å’Œ  <code>fsck</code> ï¼‰ã€‚æˆ‘ä»¬è¿˜å®ç°äº†é•œåƒå˜å¼‚å™¨ï¼Œå®ƒé€šè¿‡å…«ç§ç­–ç•¥éšæœºå˜å¼‚ç¼©å‡é•œåƒä¸Šçš„å­—èŠ‚ï¼ˆè§å›¾ 4ï¼‰ã€‚è¿™äº›å˜å¼‚ç­–ç•¥ç›´æ¥ä» AFL ä¸­ç§»æ¤åˆ° JANUS ä¸­ã€‚</p>\n</li>\n<li>\n<p><strong>é•œåƒæ£€æŸ¥å™¨</strong>ï¼šæˆ‘ä»¬ä¸º JANUS å®ç°äº†ä¸€ä¸ªé•œåƒæ£€æŸ¥å™¨ï¼Œç”¨äºéå†ç§å­é•œåƒä¸Šçš„æ–‡ä»¶å’Œç›®å½•ï¼Œå¹¶è®°å½•å®ƒä»¬åœ¨é•œåƒä¸­çš„è·¯å¾„ã€ç±»å‹ä»¥åŠæ‰©å±•å±æ€§ï¼Œä»¥ä¾¿æ„å»ºåˆå§‹æµ‹è¯•ç”¨ä¾‹ï¼ˆè¯¦è§ <a href=\"#building-corpus\">Â§4.2</a>ï¼‰ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/xolsjt.png\" alt=\"å›¾8\" /></p>\n<blockquote>\n<p>å›¾ 8ï¼šç”¨åè®®ç¼“å†²è¯­è¨€ (protocol buffer language) æè¿°çš„åºåˆ—åŒ–ç¨‹åºæ ¼å¼å’Œæ¨æµ‹çš„å›¾åƒçŠ¶æ€ã€‚</p>\n</blockquote>\n</li>\n<li>\n<p><strong>ç¨‹åºåºåˆ—åŒ–å™¨</strong>ï¼šæˆ‘ä»¬å°†æ–°ç”Ÿæˆçš„ç¨‹åºåŠå…¶æ›´æ–°çš„çŠ¶æ€æè¿°ä¸ºä¸€ç§å¯åºåˆ—åŒ–çš„æ ¼å¼ï¼ˆè§å›¾ 8ï¼‰ï¼Œå¹¶å®ç°äº†ç›¸åº”çš„ç¨‹åºåºåˆ—åŒ–å™¨ã€‚åºåˆ—åŒ–å™¨å¯ä»¥ä»ç£ç›˜åŠ è½½è¿™äº›æ•°æ®åˆ°å†…å­˜ä¸­è¿›è¡Œæ¨¡ç³Šæµ‹è¯•å’ŒéªŒè¯ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å°†å®ƒä»¬ä»å†…å­˜ä¿å­˜åˆ°ç£ç›˜ä»¥ä¾¿è®°å½•ç®¡ç†ã€‚</p>\n</li>\n<li>\n<p><strong>ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·</strong>ï¼šç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·è¢«å®ç°ä¸º AFL çš„ä¸€ä¸ªæ–°æ‰©å±•ï¼Œå½“é•œåƒå˜å¼‚æ— æ³•å–å¾—è¿›å±•æ—¶ç”± JANUS è°ƒç”¨ã€‚ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·æ¥æ”¶ååºåˆ—åŒ–çš„ç¨‹åºåŠå…¶å¯¹åº”çš„çŠ¶æ€ï¼Œå¹¶é€šè¿‡ç³»ç»Ÿè°ƒç”¨å˜å¼‚æˆ–ç³»ç»Ÿè°ƒç”¨ç”Ÿæˆè¾“å‡ºæ–°çš„ç¨‹åºå’Œæ›´æ–°çš„çŠ¶æ€ï¼ˆè¯¦è§ <a href=\"#fuzzing-file-operations\">Â§4.4</a>ï¼‰ã€‚ç›®å‰ï¼ŒJANUS æ”¯æŒç”Ÿæˆå’Œå˜å¼‚ <ins class=\"dot\">34 ä¸ªç”¨äºåŸºç¡€æ–‡ä»¶æ“ä½œçš„ç³»ç»Ÿè°ƒç”¨</ins>ã€‚ä¸€äº›ä¸æ–‡ä»¶æ“ä½œç›¸å…³ä½†ä¸»è¦åœ¨è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰å±‚å®ç°çš„ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚  <code>dup()</code> ã€ <code>splice()</code>  å’Œ  <code>tee()</code>  ç­‰ï¼‰ç”±äºæµ‹è¯•ä»·å€¼ä¸å¤§è¢« JANUS æ’é™¤åœ¨å¤–ã€‚</p>\n<blockquote>\n<p>åœ¨æˆ‘ä»¬çš„å®ç°ä¸­ï¼ŒJANUS æ”¯æŒç”Ÿæˆå’Œå˜å¼‚ä»¥ä¸‹ 34 ä¸ªç³»ç»Ÿè°ƒç”¨ï¼š <code>read()</code> ã€ <code>write()</code> ã€ <code>open()</code> ã€ <code>seek()</code> ã€ <code>mmap()</code> ã€ <code>getdents64()</code> ã€ <code>pread64()</code> ã€ <code>pwrite64()</code> ã€ <code>stat()</code> ã€ <code>lstat()</code> ã€ <code>rename()</code> ã€ <code>fsync()</code> ã€ <code>fdatasync()</code> ã€ <code>syncfs()</code> ã€ <code>sendfile()</code> ã€ <code>access()</code> ã€ <code>ftruncate()</code> ã€ <code>truncate()</code> ã€ <code>fstat()</code> ã€ <code>statfs()</code> ã€ <code>fstatfs()</code> ã€ <code>utimes()</code> ã€ <code>mkdir()</code> ã€ <code>rmdir()</code> ã€ <code>link()</code> ã€ <code>unlink()</code> ã€ <code>symlink()</code> ã€ <code>readlink()</code> ã€ <code>chmod()</code> ã€ <code>fchmod()</code> ã€ <code>setxattr()</code> ã€ <code>fallocate()</code> ã€ <code>listxattr()</code> ã€ <code>removexattr()</code> ã€‚</p>\n</blockquote>\n<p>åœ¨æˆ‘ä»¬çš„å®ç°ä¸­ï¼ŒJANUS åŸºæœ¬ä¸Šä¼šå¯¹æµ‹è¯•ç”¨ä¾‹ä¸­çš„å…ƒæ•°æ®è¿›è¡Œ 256 è½®å˜å¼‚ï¼Œè¿™ä¸ AFL çš„æ··ä¹±é˜¶æ®µï¼ˆhavoc stage, å³éç¡®å®šæ€§å˜å¼‚ï¼‰çš„é»˜è®¤è®¾ç½®ä¸€è‡´ã€‚å¦‚æœä»£ç è¦†ç›–æœªèƒ½å¢åŠ ï¼ŒJANUS ä¼šå°è¯•å¯¹ç°æœ‰ç³»ç»Ÿè°ƒç”¨è¿›è¡Œ 128 è½®å˜å¼‚ï¼Œå¹¶è¿½åŠ æ–°çš„ç³»ç»Ÿè°ƒç”¨è¿›è¡Œ 64 è½®æµ‹è¯•ã€‚ç”±äºé•œåƒå˜å¼‚åœ¨æ¢ç´¢äºŒç»´è¾“å…¥ç©ºé—´æ—¶çš„ä¼˜å…ˆçº§æ›´é«˜ï¼ˆè¯¦è§ <a href=\"#exploring-two-dimensional-input-space\">Â§4.5</a>ï¼‰ï¼ŒJANUS åœ¨é•œåƒå˜å¼‚ä¸ŠæŠ•å…¥äº†æ›´å¤šçš„ç²¾åŠ›ã€‚</p>\n</li>\n<li>\n<p><strong>åŸºäº LKL çš„æ‰§è¡Œå™¨</strong>ï¼šæˆ‘ä»¬ä¸º JANUS æ„å»ºçš„æ‰§è¡Œå™¨åŸºäº <strong>Linux Kernel Library (LKL)</strong>ï¼ŒLKL æ˜¯ä¸€ç§å…¸å‹çš„åº“æ“ä½œç³»ç»Ÿï¼ˆLibrary OSï¼‰ï¼Œç”¨äºå°†å†…æ ¸æ¥å£æš´éœ²ç»™ç”¨æˆ·æ€ç¨‹åºã€‚å›¾ 11 å±•ç¤ºäº†ä¸€ä¸ªä½¿ç”¨ LKL ç³»ç»Ÿè°ƒç”¨æ“ä½œ ext4 é•œåƒçš„ä»£ç ç¤ºä¾‹ã€‚å®˜æ–¹çš„ LKL ç›®å‰æ”¯æŒ Linux å†…æ ¸ v4.16ï¼Œæˆ‘ä»¬å°†å…¶ç§»æ¤ä»¥å…¼å®¹æ›´æ–°ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬ v4.17 å’Œ v4.18ã€‚ä¸ºäº†åœ¨è¿è¡Œæ—¶å®ç° AFL é£æ ¼çš„è·¯å¾„è¦†ç›–ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ª <strong>GCC åŒ…è£…å™¨</strong>ï¼Œåœ¨æ„å»º LKL æ—¶é€‰æ‹©æ€§åœ°å¯¹ç›®æ ‡æ–‡ä»¶ç³»ç»Ÿçš„æºä»£ç æ–‡ä»¶è¿›è¡Œæ’è£…ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªé“¾æ¥åˆ° LKL çš„ç”¨æˆ·åº”ç”¨ç¨‹åºï¼ˆå³æ‰§è¡Œå™¨ï¼‰ï¼Œä½œä¸º JANUS çš„æ¨¡ç³Šæµ‹è¯•ç›®æ ‡ã€‚å¯¹äºç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ‰§è¡Œå™¨é€šè¿‡ forkserver åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼Œå¹¶è°ƒç”¨ LKL ç³»ç»Ÿè°ƒç”¨æ¥æŒ‚è½½ç”±é•œåƒå˜å¼‚å™¨ä¿®æ”¹çš„é•œåƒï¼ŒåŒæ—¶æ‰§è¡Œç”±ç³»ç»Ÿè°ƒç”¨æ¨¡ç³Šæµ‹è¯•å·¥å…·ç”Ÿæˆçš„ä¸€ç³»åˆ—æ–‡ä»¶æ“ä½œã€‚</p>\n</li>\n</ul>\n<p>ç”±äºæ¯æ¬¡å°†å®Œæ•´é•œåƒå†™å…¥ç£ç›˜ä¼šæ¶ˆè€—å¤§é‡æ—¶é—´ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªæŒä¹…å†…å­˜ç¼“å†²åŒºï¼ˆpersistent memory bufferï¼‰ï¼Œç”± JANUS çš„æ¨¡ç³Šæµ‹è¯•å¼•æ“ä¸åŸºäº LKL çš„æ‰§è¡Œå™¨å…±äº«ï¼Œç”¨äºå­˜å‚¨é•œåƒï¼ˆå³å›¾ 3 ä¸­çš„  <code>ctx.image_buffer</code> ï¼‰ã€‚éšåï¼Œæˆ‘ä»¬ä¿®æ”¹äº† LKL æ–‡ä»¶ç³»ç»Ÿä¸‹å±‚çš„å—è®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œä½¿å…¶åœ¨è·å–é•œåƒæ•°æ®æ—¶è®¿é—®å†…å­˜ç¼“å†²åŒºï¼Œè€Œä¸æ˜¯ç£ç›˜ä¸Šçš„é•œåƒæ–‡ä»¶ã€‚</p>\n<p>æˆ‘ä»¬åœ¨è¿è¡Œæ—¶åº”ç”¨äº†å†™æ—¶å¤åˆ¶ï¼ˆCoWï¼ŒCopy-on-Writeï¼‰æŠ€æœ¯ï¼Œä»¥ç¡®ä¿åœ¨ç”Ÿæˆçš„å·¥ä½œè´Ÿè½½æ“ä½œé•œåƒç¼“å†²åŒºæ—¶ï¼Œé™¤äº†å˜å¼‚çš„å—ä¹‹å¤–ï¼Œé•œåƒç¼“å†²åŒºä¸­çš„å…¶ä»–éƒ¨åˆ†æ°¸è¿œä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚å…·ä½“æ¥è¯´ï¼Œå½“è®¾å¤‡é©±åŠ¨ç¨‹åºè¯•å›¾åœ¨è¿è¡Œæ—¶å°†ä»»æ„å­—èŠ‚åˆ·æ–°å›é•œåƒä¸Šçš„æŸä¸ªå—æ—¶ï¼Œè¯¥å—ä¼šè¢«å¤åˆ¶ä»¥ä¾›ä¿®æ”¹ï¼Œåç»­çš„è®¿é—®å°†é’ˆå¯¹å¤åˆ¶åçš„å—ã€‚</p>\n<p>æˆ‘ä»¬è¿˜å°† <strong>KASAN</strong> ç§»æ¤åˆ° LKLï¼Œä»¥åœ¨è¿è¡Œæ—¶æœ‰æ•ˆæ£€æµ‹å†…å­˜é”™è¯¯ã€‚KASAN åœ¨è¿è¡Œæ—¶åˆ†é…å½±å­å†…å­˜ï¼ˆshadow memoryï¼‰ï¼Œç”¨äºè®°å½•åŸå§‹å†…å­˜ä¸­çš„æ¯ä¸ªå­—èŠ‚æ˜¯å¦å¯ä»¥å®‰å…¨è®¿é—®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒKASAN ä¾èµ– MMUï¼ˆå†…å­˜ç®¡ç†å•å…ƒï¼‰å°†åœ°å€ç¿»è¯‘ä¸ºå¯¹åº”çš„å½±å­åœ°å€ï¼Œä½† LKL ä¸æ”¯æŒè¿™ä¸€åŠŸèƒ½ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨ LKL å¯åŠ¨æ—¶ä¿ç•™äº†å½±å­å†…å­˜ç©ºé—´ï¼Œå¹¶å»ºç«‹äº†ä» LKL çš„å†…å­˜ç©ºé—´åˆ°å½±å­å†…å­˜çš„æ˜ å°„ã€‚</p>\n<h1 id=\"evaluation\"><a class=\"anchor\" href=\"#evaluation\">#</a> Evaluation</h1>\n<p>è¯¦è§è®ºæ–‡ EVALUATION ç« èŠ‚ã€‚</p>\n<h1 id=\"discussion\"><a class=\"anchor\" href=\"#discussion\">#</a> Discussion</h1>\n<p>æˆ‘ä»¬å·²ç»è¯æ˜ï¼ŒJANUS èƒ½å¤Ÿæœ‰æ•ˆåœ°æ¢ç´¢ä»£ç è·¯å¾„ï¼Œå¹¶åœ¨ Linux å†…æ ¸ä¸­çš„ç£ç›˜æ–‡ä»¶ç³»ç»Ÿä¸­å‘ç°æœªçŸ¥æ¼æ´ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è®¨è®º JANUS çš„å±€é™æ€§ä»¥åŠæœªæ¥çš„å‘å±•æ–¹å‘ã€‚</p>\n<ul>\n<li>\n<p><strong>åŸºäºåº“æ“ä½œç³»ç»Ÿçš„æ‰§è¡Œå™¨</strong>ï¼šJANUS ä¾èµ–äº LKLï¼ˆLinux Kernel Libraryï¼‰æ¥æµ‹è¯•å†…æ ¸æ–‡ä»¶ç³»ç»Ÿã€‚äº‹å®ä¸Šï¼Œå…¶ä»–æ“ä½œç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·ä¹Ÿå¯ä»¥åˆ©ç”¨ LKL æµ‹è¯•å†…æ ¸çš„å…¶ä»–å­ç³»ç»Ÿï¼Œé™¤äº†ä¾èµ– MMU çš„ç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸ä¿®æ”¹ LKL çš„æƒ…å†µä¸‹ï¼ŒJANUS æ— æ³•å¯¹æ–‡ä»¶ç³»ç»Ÿçš„ DAX æ¨¡å¼è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ç”¨æˆ·æ¨¡å¼ Linuxï¼ˆUMLï¼‰ï¼Œå¦‚ Oracle çš„å†…æ ¸æ¨¡ç³Šæµ‹è¯•å·¥å…·æ‰€é‡‡ç”¨çš„æ–¹å¼ã€‚ç„¶è€Œï¼ŒUML çš„å¤šè¿›ç¨‹è®¾è®¡å­˜åœ¨é™åˆ¶ï¼Œè¿™ä¼šä½¿å¾—åœ¨æ¯æ¬¡è¿­ä»£ä¸­å®šä½å†…æ ¸å´©æºƒå¹¶ç»ˆæ­¢å…¶æ‰€æœ‰è¿›ç¨‹å˜å¾—å¤æ‚ã€‚å› æ­¤ï¼ŒUML å¹¶ä¸é€‚åˆå°†å†…æ ¸ä½œä¸ºç”¨æˆ·åº”ç”¨ç¨‹åºè¿›è¡Œæ¨¡ç³Šæµ‹è¯•ã€‚</p>\n</li>\n<li>\n<p><strong>æœ€å°åŒ–çš„ PoC ç”Ÿæˆå™¨</strong>ï¼šä¸€ä¸ªç†æƒ³çš„ PoCï¼ˆæ¦‚å¿µéªŒè¯ï¼‰åº”è¯¥åŒ…å«ä¸€ä¸ªä»…åŒ…å«å…³é”®é”™è¯¯å­—èŠ‚çš„é•œåƒæ–‡ä»¶ï¼Œä»¥åŠä¸€ä¸ªæœ€å°‘æ–‡ä»¶æ“ä½œçš„ç¨‹åºã€‚ä¸ºæ­¤ï¼ŒJANUS å½“å‰é€šè¿‡æš´åŠ›æ–¹å¼å°è¯•æ¢å¤æ¯ä¸ªè¢«ä¿®æ”¹çš„å­—èŠ‚ï¼Œå¹¶é€ä¸€åˆ é™¤æ¯ä¸ªè¢«è°ƒç”¨çš„æ–‡ä»¶æ“ä½œï¼Œä»¥æ£€æŸ¥å†…æ ¸æ˜¯å¦ä»ç„¶ä¼šåœ¨é¢„æœŸä½ç½®å´©æºƒã€‚å°½ç®¡è¿™ç§æ–¹æ³•å¹¶éæœ€ä¼˜ï¼Œä½†æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æŸäº›æ–‡ä»¶ç³»ç»Ÿå·¥å…·ï¼ˆå¦‚  <code>fsck</code>  å’Œ  <code>debugfs</code> ï¼‰ä»¥åŠç³»ç»Ÿè°ƒç”¨è·Ÿè¸ªæç‚¼æŠ€æœ¯æ¥å®šä½å¯¼è‡´é—®é¢˜çš„å­—èŠ‚å’Œç³»ç»Ÿè°ƒç”¨ã€‚å¦ä¸€ç§å¯èƒ½æ€§æ˜¯å¯¹å†…æ ¸åº”ç”¨æ±¡ç‚¹è·Ÿè¸ªã€‚</p>\n</li>\n<li>\n<p><strong>æ¨¡ç³Šæµ‹è¯• FUSE é©±åŠ¨ç¨‹åº</strong>ï¼šç›®å‰ï¼ŒJANUS ä¸æ”¯æŒä¾èµ– FUSEï¼ˆFilesystem in Userspaceï¼Œç”¨æˆ·æ€æ–‡ä»¶ç³»ç»Ÿï¼‰çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆä¾‹å¦‚ NTFSã€GVfsã€SSHFS ç­‰ï¼‰ã€‚åªè¦è¿™äº›æ–‡ä»¶ç³»ç»Ÿå°†ç”¨æˆ·æ•°æ®å­˜å‚¨åœ¨ç£ç›˜é•œåƒä¸­ï¼Œå¹¶æ”¯æŒç”¨æˆ·ä¸æ•°æ®äº¤äº’çš„æŸäº›æ–‡ä»¶æ“ä½œï¼Œå°±å¯ä»¥è½»æ¾æ‰©å±• JANUS çš„æ¨¡ç³Šæµ‹è¯•å¼•æ“ä»¥æµ‹è¯•è¿™äº›æ–‡ä»¶ç³»ç»Ÿã€‚</p>\n</li>\n<li>\n<p><strong>æ¨¡ç³Šæµ‹è¯•æ–‡ä»¶ç³»ç»Ÿå·¥å…·</strong>ï¼šå¼€å‘è€…åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–ç³»ç»Ÿå·¥å…·ï¼ˆä¾‹å¦‚  <code>mkfs</code> ã€ <code>fsck</code>  ç­‰ï¼‰æ¥ç®¡ç†æ–‡ä»¶ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼ŒLinux ä¼šè‡ªåŠ¨å¯åŠ¨  <code>fsck</code>  ä»¥ä»ç³»ç»Ÿçªç„¶å´©æºƒä¸­æ¢å¤ç£ç›˜æ•°æ®ã€‚æ­¤å¤–ï¼Œç”¨æˆ·ä¼šä½¿ç”¨  <code>fsck</code>  æ¥æ£€æŸ¥æœªå—ä¿¡ä»»ç£ç›˜é•œåƒçš„ä¸€è‡´æ€§ï¼Œç„¶åå†æŒ‚è½½è¯¥ç£ç›˜ã€‚å› æ­¤ï¼Œå¼€å‘è€…å¸Œæœ›è¿™äº›å·¥å…·æ²¡æœ‰æ¼æ´ã€‚æˆ‘ä»¬è®¤ä¸ºï¼Œå¼€å‘è€…å¯ä»¥è½»æ¾æ‰©å±• JANUS çš„é•œåƒå˜å¼‚å™¨æ¥ç”ŸæˆæŸåçš„é•œåƒï¼Œä»è€Œå¯¹è¿™äº›å·¥å…·è¿›è¡Œæ¨¡ç³Šæµ‹è¯•å¹¶æé«˜å…¶å¥å£®æ€§ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨ JANUS æ‰¾åˆ°äº†  <code>fsck.ext4</code>  ä¸­çš„ä¸¤ä¸ªæœªçŸ¥æ¼æ´ï¼Œå…¶ä¸­ä¸€ä¸ªå·²ç»è¢«ä¿®å¤ã€‚</p>\n</li>\n<li>\n<p><strong>æ‰©å±•ä»¥æµ‹è¯•å…¶ä»–æ“ä½œç³»ç»Ÿä¸Šçš„æ–‡ä»¶ç³»ç»Ÿ</strong>ï¼šå¦‚æœå­˜åœ¨å¯¹åº”çš„åº“æ“ä½œç³»ç»Ÿè§£å†³æ–¹æ¡ˆï¼Œæ‰©å±• JANUS ä»¥æµ‹è¯•å…¶ä»–æ“ä½œç³»ç»Ÿä¸Šçš„å†…æ ¸æ–‡ä»¶ç³»ç»Ÿå°†éå¸¸ç®€å•ã€‚ä¾‹å¦‚ï¼ŒDrawbridge ä½¿å¾— Windows å¯ä»¥é«˜æ•ˆåœ°ä»¥è¿›ç¨‹æ–¹å¼è¿è¡Œã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°† JANUS çš„æ ¸å¿ƒæ¨¡ç³Šæµ‹è¯•å¼•æ“ä¸å…¶ä»–é€šç”¨å†…æ ¸æ¨¡ç³Šæµ‹è¯•æ¡†æ¶ï¼ˆä¾‹å¦‚åŸºäº QEMU å’Œ KVM æ„å»ºçš„ kAFLï¼‰é›†æˆï¼Œç”¨äºæµ‹è¯• Windows å’Œ macOS ç­‰ä¸»æµæ“ä½œç³»ç»Ÿä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>\n</li>\n<li>\n<p><strong>æ”¹è¿›å…¶ä»–æ–‡ä»¶ç³»ç»Ÿæµ‹è¯•å·¥å…·</strong>ï¼šJANUS çš„ç›®æ ‡æ˜¯å‘ç°æ–‡ä»¶ç³»ç»Ÿä¸­çš„é€šç”¨å®‰å…¨æ¼æ´ï¼Œè¿™ä¸å…¶ä»–å·¥å…·ï¼ˆå¦‚å´©æºƒä¸€è‡´æ€§æ£€æŸ¥å™¨å’Œè¯­ä¹‰æ­£ç¡®æ€§æ£€æŸ¥å™¨ï¼‰çš„ç›®æ ‡ä¸åŒã€‚ç„¶è€Œï¼Œè¿™äº›å·¥å…·ä¹Ÿéœ€è¦æ–‡ä»¶æ“ä½œåºåˆ—ã€‚å› æ­¤ï¼ŒJANUS å¯ä»¥æˆä¸ºä¸€ä¸ªç»¼åˆè§£å†³æ–¹æ¡ˆï¼Œä¸ºå…¶ä»–å·¥å…·æä¾›æ”¯æŒã€‚</p>\n</li>\n</ul>\n<h1 id=\"related-work\"><a class=\"anchor\" href=\"#related-work\">#</a> Related Work</h1>\n<p><strong>ç»“æ„åŒ–è¾“å…¥æ¨¡ç³Šæµ‹è¯•</strong><br />\nè®¸å¤šæ–¹æ³•å·²è¢«æå‡ºï¼Œç”¨äºæ¨¡ç³Šæµ‹è¯•é«˜åº¦ç»“æ„åŒ–çš„è¾“å…¥ï¼Œä¾‹å¦‚æ–‡ä»¶ç³»ç»Ÿé•œåƒã€‚ä¸ JANUS ä¸åŒï¼Œä¸€äº›ç”Ÿæˆå¼æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼ˆ[1, 2, 3, 4, 5]ï¼‰åŸºäºæ‰‹åŠ¨æè¿°çš„è¾“å…¥è§„èŒƒï¼Œä»é›¶æ„å»ºè¯­æ³•æ­£ç¡®çš„è¾“å…¥ã€‚æ­¤å¤–ï¼ŒEXE [6] ä¾èµ–ç¬¦å·æ‰§è¡Œç”Ÿæˆæ»¡è¶³æ·±å±‚è·¯å¾„çº¦æŸçš„æœ‰æ•ˆè¾“å…¥ã€‚ä¸€äº›æ›´å…ˆè¿›çš„æ–¹æ³•ï¼ˆä¾‹å¦‚ [7, 8, 9]ï¼‰é€šè¿‡ä¸€ç»„æ ·æœ¬å­¦ä¹ è¾“å…¥ç»“æ„ã€‚å¦ä¸€æ–¹é¢ï¼ŒåŸºäºå˜å¼‚çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼ˆ[10, 11, 12, 13, 14, 15, 16]ï¼‰é€šè¿‡å˜å¼‚æœ‰æ•ˆæ ·æœ¬ç”Ÿæˆæ–°çš„è¾“å…¥ã€‚ç”Ÿæˆçš„è¾“å…¥å…·æœ‰æ­£ç¡®çš„ç»“æ„ä½†åŒ…å«è½»å¾®é”™è¯¯ï¼Œä»è€Œæœ‰å¯èƒ½è§¦å‘æ¼æ´ã€‚</p>\n<blockquote>\n<ol>\n<li>I. Fratric. DOM fuzzer. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZXByb2plY3R6ZXJvL2RvbWF0bw==\">https://github.com/googleprojectzero/domato</span>, 2018.</li>\n<li>R. HodovÃ¡n, Ã. Kiss, and T. GyimÃ³thy. Grammarinator: a grammar-based open source fuzzer. In Proceedings of the 9th ACM SIGSOFT International Workshop on Automating TEST Case Design, Selection, and Evaluation, pages 45â€“48. ACM, 2018.</li>\n<li>Mozilla Corporation. MozPeach. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01vemlsbGFTZWN1cml0eS9wZWFjaA==\">https://github.com/MozillaSecurity/peach</span>, 2017.</li>\n<li>Mozilla Corporation. JavaScript engine fuzzers. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01vemlsbGFTZWN1cml0eS9mdW5mdXp6\">https://github.com/MozillaSecurity/funfuzz</span>, 2018.</li>\n<li>Peach Tech. Peach Fuzzer. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9zb3VyY2Vmb3JnZS5uZXQvcHJvamVjdHMvcGVhY2hmdXp6\">https://sourceforge.net/projects/peachfuzz</span>, 2016.</li>\n<li>C. Cadar, V. Ganesh, P. M. Pawlowski, D. L. Dill, and D. R. Engler. EXE: automatically generating inputs of death. ACM Transactions on Information and System Security (TISSEC), 12(2):10, 2008.</li>\n<li>O. Bastani, R. Sharma, A. Aiken, and P. Liang. Synthesizing program input grammars. In ACM SIGPLAN Notices, pages 95â€“110. ACM, 2017.</li>\n<li>P. Godefroid, H. Peleg, and R. Singh. Learn&amp;fuzz: Machine learning for input fuzzing. In Proceedings of the 32nd IEEE/ACM International Conference on Automated Software Engineering (ASE), Champaign, IL, Oct. 2017.</li>\n<li>M. HÃ¶schele and A. Zeller. Mining input grammars from dynamic taints. In Proceedings of the 32nd IEEE/ACM International Conference on Automated Software Engineering (ASE), Champaign, IL, Oct. 2017.</li>\n<li>M. BÃ¶hme, V.-T. Pham, and A. Roychoudhury. Coverage-based greybox fuzzing as markov chain. In Proceedings of the 23rd ACM Conference on Computer and Communications Security (CCS), Vienna, Austria, Oct. 2016.</li>\n<li>M. BÃ¶hme, V.-T. Pham, M.-D. Nguyen, and A. Roychoudhury. Directed greybox fuzzing. In Proceedings of the 24th ACM Conference on Computer and Communications Security (CCS), Dallas, TX, Oct.â€“Nov. 2017.</li>\n<li>P. Chen and H. Chen. Angora: Efficient Fuzzing by Principled Search. In Proceedings of the 39th IEEE Symposium on Security and Privacy (Oakland), San Francisco, CA, May 2018.</li>\n<li>S. Gan, C. Zhang, X. Qin, X. Tu, K. Li, Z. Pei, and Z. Chen. CollAFL: Path Sensitive Fuzzing. In Proceedings of the 39th IEEE Symposium on Security and Privacy (Oakland), San Francisco, CA, May 2018.</li>\n<li>Google. OSS-Fuzz - Continuous Fuzzing for Open Source Software. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9vc3MtZnV6eg==\">https://github.com/google/oss-fuzz</span>, 2018.</li>\n<li>LLVM Project. libFuzzer - a library for coverage-guided fuzz testing. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sbHZtLm9yZy9kb2NzL0xpYkZ1enplci5odG1s\">https://llvm.org/docs/LibFuzzer.html</span>, 2018.</li>\n<li>M. Zalewski. american fuzzy lop (2.52b). <span class=\"exturl\" data-url=\"aHR0cDovL2xjYW10dWYuY29yZWR1bXAuY3gvYWZs\">http://lcamtuf.coredump.cx/afl</span>, 2018.</li>\n</ol>\n</blockquote>\n<p>è€ƒè™‘åˆ°æ–‡ä»¶ç³»ç»Ÿé•œåƒçš„å¤æ‚æ€§ä»¥åŠä¸åŒæ–‡ä»¶ç³»ç»Ÿé—´é•œåƒæ ¼å¼çš„å¤šæ ·æ€§ï¼ŒJANUS é‡‡ç”¨åŸºäºå˜å¼‚çš„ç­–ç•¥å¯¹é•œåƒè¿›è¡Œæ¨¡ç³Šæµ‹è¯•ã€‚ç±»ä¼¼æ–‡ä»¶ç³»ç»Ÿé•œåƒï¼Œè®¸å¤šæ–‡ä»¶æ ¼å¼é€šè¿‡æ ¡éªŒå’Œè¿›è¡Œå®Œæ•´æ€§æ£€æŸ¥ã€‚JANUS åˆ©ç”¨ä¸“ä¸šçŸ¥è¯†ä¿®å¤å…ƒæ•°æ®æ ¡éªŒå’Œã€‚ç„¶è€Œï¼Œä¸€äº›æ”¯æŒæ ¡éªŒå’Œçš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼ˆ[17, 18]ï¼‰é€šè¿‡åŠ¨æ€æ±¡ç‚¹åˆ†æè¯†åˆ«æ ¡éªŒå’Œå­—æ®µï¼Œå¹¶åœ¨è¿è¡Œæ—¶ç»•è¿‡æ ¡éªŒå’Œæ£€æŸ¥ã€‚</p>\n<blockquote>\n<ol start=\"17\">\n<li>\n<p>X. Liu, Q. Wei, Q. Wang, Z. Zhao, and Z. Yin. CAFA: A Checksum-Aware Fuzzing Assistant Tool for Coverage Improvement. Security and Communication Networks, 2018, 2018.</p>\n</li>\n<li>\n<p>T. Wang, T. Wei, G. Gu, and W. Zou. TaintScope: A checksum-aware directed fuzzing tool for automatic software vulnerability detection. In Proceedings of the 31th IEEE Symposium on Security and Privacy (Oakland), Oakland, CA, May 2010.</p>\n</li>\n</ol>\n</blockquote>\n<p><strong>æ“ä½œç³»ç»Ÿå†…æ ¸æ¨¡ç³Šæµ‹è¯•å·¥å…·</strong><br />\nä¸ºå‘ç°æ“ä½œç³»ç»Ÿä¸­çš„å®‰å…¨æ¼æ´ï¼Œå·²æœ‰è®¸å¤šé€šç”¨çš„å†…æ ¸æ¨¡ç³Šæµ‹è¯•æ¡†æ¶ï¼ˆ[19, 20, 21, 22]ï¼‰ä»¥åŠç‰¹å®šæ“ä½œç³»ç»Ÿçš„å†…æ ¸æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼ˆ[23, 24, 25, 26, 27]ï¼‰ã€‚ä¸ JANUS ä¸åŒï¼Œè¿™äº›å·¥å…·åŸºäºé¢„å®šä¹‰çš„è¯­æ³•è§„åˆ™ç”Ÿæˆéšæœºç³»ç»Ÿè°ƒç”¨ï¼Œä½†è¿™ç§æ–¹æ³•åœ¨æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•ä¸­æ•ˆç‡è¾ƒä½ã€‚ä¸€äº›æœ€æ–°çš„æ“ä½œç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œå¦‚ IMF [23] å’Œ MoonShine [28]ï¼Œå…³æ³¨ç§å­ç²¾ç®€ï¼Œè¿™ä¸æœ¬å·¥ä½œæ— ç›´æ¥å†²çªã€‚ç„¶è€Œï¼ŒJANUS å¯ä»¥åˆ©ç”¨è¿™äº›æ–¹æ³•ç”Ÿæˆé«˜è´¨é‡çš„ç§å­ç¨‹åºä½œä¸ºèµ·ç‚¹ã€‚</p>\n<blockquote>\n<ol start=\"19\">\n<li>Google. syzkaller is an unsupervised, coverage-guided kernel fuzzer. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9zeXprYWxsZXI=\">https://github.com/google/syzkaller</span>, 2018.</li>\n<li>MWR Labs. Cross Platform Kernel Fuzzer Framework. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL213cmxhYnMvS2VybmVsRnV6emVy\">https://github.com/mwrlabs/KernelFuzzer</span>, 2016.</li>\n<li>NCC Group. AFL/QEMU fuzzing with full-system emulation. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25jY2dyb3VwL1RyaWZvcmNlQUZM\">https://github.com/nccgroup/TriforceAFL</span>, 2017.</li>\n<li>S. Schumilo, C. Aschermann, R. Gawlik, S. Schinzel, and T. Holz. kafl: Hardware-assisted feedback fuzzing for OS kernels. In Proceedings of the 26th USENIX Security Symposium (Security), Vancouver, BC, Canada, Aug. 2017.</li>\n<li>H. Han and S. K. Cha. IMF: Inferred Model-based Fuzzer. In Proceedings of the 24th ACM Conference on Computer and Communications Security (CCS), Dallas, TX, Oct.â€“Nov. 2017.</li>\n<li>D. Jones. Linux system call fuzzer. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2tlcm5lbHNsYWNrZXIvdHJpbml0eQ==\">https://github.com/kernelslacker/trinity</span>, 2018.</li>\n<li>MWR Labs. macOS Kernel Fuzzer. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL213cmxhYnMvT1NYRnV6eg==\">https://github.com/mwrlabs/OSXFuzz</span>, 2017.</li>\n<li>NCC Group. System call fuzzing of OpenBSD amd64 using TriforceAFL. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25jY2dyb3VwL1RyaWZvcmNlT3BlbkJTREZ1enplcg==\">https://github.com/nccgroup/TriforceOpenBSDFuzzer</span>, 2016.</li>\n<li>NCC Group. A linux system call fuzzer using TriforceAFL. <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL25jY2dyb3VwL1RyaWZvcmNlTGludXhTeXNjYWxsRnV6emVy\">https://github.com/nccgroup/TriforceLinuxSyscallFuzzer</span>, 2017.</li>\n<li>S. Pailoor, A. Aday, and S. Jana. MoonShine: Optimizing OS Fuzzer Seed Selection with Trace Distillation. In Proceedings of the 27th USENIX Security Symposium (Security), Baltimore, MD, Aug. 2018.</li>\n</ol>\n</blockquote>\n<p><strong>æ–‡ä»¶ç³»ç»Ÿè¯­ä¹‰æ­£ç¡®æ€§æ£€æŸ¥å·¥å…·</strong><br />\n JUXTA [29] å’Œ SibylFS [30] æ˜¯å¦ä¸€ç±»æ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥å·¥å…·ï¼Œæ—¨åœ¨é€šè¿‡é™æ€åˆ†æå’Œé«˜å±‚æ¬¡å»ºæ¨¡æ–‡ä»¶ç³»ç»Ÿè¡Œä¸ºï¼ŒéªŒè¯æ–‡ä»¶ç³»ç»Ÿçš„å®ç°æ˜¯å¦å®Œå…¨ç¬¦åˆæ ‡å‡†ï¼ˆä¾‹å¦‚ POSIX æ ‡å‡†ã€æ‰‹å†Œé¡µç­‰ï¼‰ã€‚å®ƒä»¬çš„ç›®æ ‡å’Œæ–¹æ³•ä¸ JANUS ä¸åŒã€‚ç„¶è€Œï¼ŒJANUS å¯ä»¥ç”Ÿæˆæœ‰æ„ä¹‰çš„ç³»ç»Ÿè°ƒç”¨æ¥å‘ç°å´©æºƒä¸€è‡´æ€§é—®é¢˜ [31, 32]ã€‚</p>\n<blockquote>\n<ol start=\"29\">\n<li>C. Min, S. Kashyap, B. Lee, C. Song, and T. Kim. Cross-checking semantic correctness: The case of finding file system bugs. In Proceedings of the 25th ACM Symposium on Operating Systems Principles (SOSP), Monterey, CA, Oct. 2015.</li>\n<li>T. Ridge, D. Sheets, T. Tuerk, A. Giugliano, A. Madhavapeddy, and P. Sewell. SibylFS: formal specification and oracle-based testing for POSIX and real-world file systems. In Proceedings of the 25th ACM Symposium on Operating Systems Principles (SOSP), Monterey, CA, Oct. 2015.</li>\n<li>J. Bornholt, A. Kaufmann, J. Li, A. Krishnamurthy, E. Torlak, and X. Wang. Specifying and checking file system crash-consistency models. In Proceedings of the 21st ACM International Conference on Architectural Support for Programming Languages and Operating Systems (ASPLOS), Atlanta, GA, Apr. 2016.</li>\n<li>J. Yang, C. Sar, and D. Engler. Explode: a lightweight, general system for finding serious storage system errors. In Proceedings of the 7th USENIX Symposium on Operating Systems Design and Implementation (OSDI), Seattle, WA, Nov. 2006.</li>\n</ol>\n</blockquote>\n<p><strong>æ–‡ä»¶ç³»ç»ŸæŠ½è±¡</strong><br />\nä¸€äº›ç ”ç©¶ï¼ˆ[33, 34]ï¼‰æå‡ºäº†é€šç”¨æ¥å£ï¼Œä½¿æ–‡ä»¶ç³»ç»Ÿå·¥å…·èƒ½å¤Ÿé€šè¿‡é«˜çº§æŠ½è±¡è®¿é—®å’Œæ“ä½œå„ç§æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜å…ƒæ•°æ®ã€‚é€šè¿‡åˆ©ç”¨è¿™äº›æ¥å£ï¼ŒJANUS å¯ä»¥ä»¥æ›´é€šç”¨çš„æ–¹å¼å‹ç¼©ç£ç›˜é•œåƒï¼Œè€Œæ— éœ€ä¸ºæ¯ä¸ªç›®æ ‡æ–‡ä»¶ç³»ç»Ÿå®ç°ç‰¹å®šçš„é•œåƒè§£æå™¨ã€‚</p>\n<blockquote>\n<ol start=\"33\">\n<li>K. Sun, D. Fryer, J. Chu, M. Lakier, A. D. Brown, and A. Goel. Spiffy: enabling file-system aware storage applications. In Proceedings of the 16th USENIX Conference on File and Storage Technologies (FAST), Oakland, CA, Feb. 2018.</li>\n<li>K. Sun, M. Lakier, A. D. Brown, and A. Goel. Breaking Apart the VFS for Managing File Systems. In Proceedings of the 10th USENIX Workshop on Hot Topics in Storage and File Systems, Boston, MA, July<br />\n2018.</li>\n</ol>\n</blockquote>\n<h1 id=\"conclusion\"><a class=\"anchor\" href=\"#conclusion\">#</a> Conclusion</h1>\n<p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº† JANUSï¼Œä¸€ç§è¿›åŒ–å¼æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œå®ƒé€šè¿‡æ¢ç´¢äºŒç»´è¾“å…¥ç©ºé—´ï¼ˆå³é•œåƒå’Œæ–‡ä»¶æ“ä½œï¼‰æ¥æµ‹è¯•å†…æ ¸æ–‡ä»¶ç³»ç»Ÿã€‚ä¸ç°æœ‰çš„æ–‡ä»¶ç³»ç»Ÿæ¨¡ç³Šæµ‹è¯•å·¥å…·ä¸åŒï¼ŒJANUS èƒ½é«˜æ•ˆå˜å¼‚è¾“å…¥é•œåƒçš„å…ƒæ•°æ®å—ï¼ŒåŒæ—¶åœ¨é•œåƒä¸Šç”Ÿæˆä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å·¥ä½œè´Ÿè½½ã€‚ä¸åŒäºä¼ ç»Ÿçš„è™šæ‹Ÿæœºï¼ŒJANUS ä¾èµ–æ”¯æŒå¿«é€Ÿé‡åŠ è½½çš„åº“æ“ä½œç³»ç»Ÿæ¥æµ‹è¯•æ“ä½œç³»ç»ŸåŠŸèƒ½ï¼Œä»è€Œé¿å…äº†ä¸ç¨³å®šçš„æ‰§è¡Œå’Œæ— æ³•é‡ç°çš„æ¼æ´ã€‚</p>\n<p>æˆ‘ä»¬å‘ä¸Šæ¸¸å†…æ ¸æŠ¥å‘Šäº† JANUS å‘ç°çš„ <strong>90 ä¸ªæ¼æ´</strong>ï¼Œå…¶ä¸­ <strong>43 ä¸ª</strong>å·²è¢«ä¿®å¤ï¼Œå¹¶åˆ†é…äº† <strong>32 ä¸ª CVE</strong>ã€‚åœ¨å¯¹æµè¡Œæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œ 12 å°æ—¶æ¨¡ç³Šæµ‹è¯•æ—¶ï¼ŒJANUS æœ€å¤šæ¯” Syzkaller æ¢ç´¢äº† **4.19 å€ ** çš„ä»£ç è·¯å¾„ï¼Œå¹¶æˆåŠŸå¤ç°äº†å·²å‘ç°å´©æºƒçš„ <strong>88%-100%</strong>ã€‚æˆ‘ä»¬è®¡åˆ’å¼€æº JANUS çš„å®ç°ï¼Œç”±äºæˆ‘ä»¬çš„æ˜¾è‘—æˆæœï¼Œå·²æœ‰å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿå¼€å‘ç¤¾åŒºæå‡ºäº†å¼€æºéœ€æ±‚ã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼ŒJANUS å°†æˆä¸ºæ–‡ä»¶ç³»ç»Ÿæµ‹è¯•çš„ â€œä¸€ç«™å¼è§£å†³æ–¹æ¡ˆâ€ï¼Œå› ä¸ºå®ƒå¯ä»¥ä½œä¸ºåŸºç¡€è®¾æ–½ï¼Œç”¨äºè®¾è®¡æ–°çš„æ–‡ä»¶ç³»ç»Ÿè¯­ä¹‰æ£€æŸ¥å™¨å’Œå´©æºƒä¸€è‡´æ€§æ£€æŸ¥å·¥å…·ã€‚</p>\n",
            "tags": [
                "ç§‘ç ”",
                "è®ºæ–‡é˜…è¯»",
                "æ–‡ä»¶ç³»ç»Ÿ",
                "è®ºæ–‡é˜…è¯»",
                "Fuzz"
            ]
        },
        {
            "id": "https://gality.cn/os/fs/FAT32/",
            "url": "https://gality.cn/os/fs/FAT32/",
            "title": "æ–‡ä»¶ç³»ç»Ÿè¯¦è§£ ï½œ FAT32",
            "date_published": "2024-12-19T08:51:11.000Z",
            "content_html": "<div class=\"note info no-icon\">\n<p>FAT æ–‡ä»¶ç³»ç»Ÿèµ·æºäº 1980 å¹´å·¦å³ï¼Œæ˜¯ MS-DOS é¦–æ¬¡æ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿã€‚å®ƒæœ€åˆæ˜¯ä¸€ä¸ªç®€å•çš„æ–‡ä»¶ç³»ç»Ÿï¼Œé€‚ç”¨äºå®¹é‡å°äº 500k å­—èŠ‚çš„è½¯ç›˜ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå®ƒçš„è§„æ ¼ä¸æ–­æ‰©å¤§ï¼Œæ”¯æŒçš„ä»‹è´¨ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œå®¹é‡ä¹Ÿè¶Šæ¥è¶Šå¤§ã€‚FAT æ˜¯ File Allocation Tableï¼ˆæ–‡ä»¶åˆ†é…è¡¨ï¼‰çš„ç¼©å†™ï¼Œæ˜¯ç®¡ç†æ•°æ®åŒºåˆ†é…çš„é˜µåˆ—ï¼Œä¹Ÿæ˜¯æ–‡ä»¶ç³»ç»Ÿæœ¬èº«çš„åç§°ã€‚ç›®å‰æœ‰ä¸‰ç§ FAT å­ç±»å‹ï¼š <code>FAT12</code> ã€ <code>FAT16</code>  å’Œ  <code>FAT32</code> ã€‚è¿™äº›å­ç±»å‹æŒ‰ç¼–å·é¡ºåºå¼€å‘ï¼Œå®Œå…¨å‘åå…¼å®¹æ—§ç‰ˆæœ¬ã€‚( <code>FAT16</code>  æ€»æ˜¯åŒ…æ‹¬  <code>FAT12</code> ï¼Œ <code>FAT32</code>  åŒ…æ‹¬æ‰€æœ‰ FAT ç±»å‹ï¼‰ã€‚ç”±äº <code>FAT12</code>  å’Œ <code>FAT16</code>  æœ€å¤§å·å¤§å°åªèƒ½æ”¯æŒåˆ° <code>256MB</code>  å’Œ <code>4GB</code> ï¼Œæ‰€ä»¥ç°ä»£æ›´å¤šä½¿ç”¨çš„æ˜¯ <code>FAT32</code>  æ–‡ä»¶ç³»ç»Ÿï¼ˆæœ€å¤§å·å¤§å° <code>2T</code> ï¼‰ï¼Œæ‰€ä»¥æœ¬æ–‡ç€é‡ä»‹ç» <code>FAT32</code>  çš„ç»“æ„ã€‚</p>\n<p>âš ï¸ ç¬”è€…æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯è·ªè¯·ç•™è¨€æŒ‡æ­£ Orz</p>\n</div>\n<h1 id=\"æ–‡ä»¶ç³»ç»ŸåŸºæœ¬æ¦‚å¿µ\"><a class=\"anchor\" href=\"#æ–‡ä»¶ç³»ç»ŸåŸºæœ¬æ¦‚å¿µ\">#</a> æ–‡ä»¶ç³»ç»ŸåŸºæœ¬æ¦‚å¿µ</h1>\n<ul>\n<li>\n<p><ins>æ‰‡åŒºï¼ˆSectorï¼‰</ins>ï¼šæ‰‡åŒºæ˜¯å­˜å‚¨è®¾å¤‡ä¸Šç”¨äºè¯»å†™çš„<strong>æœ€å°æ•°æ®å—å•ä½</strong>ã€‚ä¼ ç»Ÿä¸Šä¸€ä¸ªç¡¬ç›˜æ‰‡åŒºçš„å¤§å°æ˜¯<strong> 512</strong> å­—èŠ‚ã€‚ä½†åœ¨é«˜çº§æ ¼å¼åŒ–ç¡¬ç›˜ä¸­ï¼Œç‰©ç†æ‰‡åŒºå¤§å°æ˜¯ 4096 å­—èŠ‚ï¼Œä¸è¿‡ä¾ç„¶å‘ä¸‹æ”¯æŒ 512 å­—èŠ‚ã€‚å­˜å‚¨è®¾å¤‡ä¸Šçš„æ¯ä¸ªæ‰‡åŒºéƒ½ç”±ä¸€ä¸ªæ‰‡åŒºå·å¯»å€ï¼Œè¯¥æ‰‡åŒºå·ä»å­˜å‚¨è®¾å¤‡é¡¶éƒ¨ä¾æ¬¡æ’åˆ—ã€‚</p>\n</li>\n<li>\n<p><ins>å—ï¼ˆBlockï¼‰/ ç°‡ï¼ˆClusterï¼‰</ins>ï¼šå—ï¼ˆç°‡ï¼‰æ˜¯ æ“ä½œç³»ç»Ÿä¸ç£ç›˜ï¼ˆç¡¬ç›˜ï¼‰äº¤äº’çš„æœ€å°æ•°æ®å•å…ƒï¼ˆåœ¨ Linux ä¸­ç§°ä¸ºå—ï¼Œåœ¨ windows ä¸­ç§°ä¸ºç°‡ï¼‰ï¼Œ å—çš„å¤§å°åœ¨ç¡¬ç›˜æ ¼å¼åŒ–æ—¶è¢«æŒ‡å®šï¼Œä¸€èˆ¬æœ‰ 1Kï¼Œ2Kï¼Œ4Kï¼ˆæœ€å¸¸ç”¨ï¼‰ã€‚å¦‚æœå—çš„å¤§å°è®¾ç½®ä¸º 4Kï¼Œé‚£ä¹ˆç£ç›˜è¦è¯»å– 8 ä¸ªæ‰‡åŒºä¹‹åï¼Œæ‰å°†æ•°æ®å—ä¼ ç»™æ“ä½œç³»ç»Ÿã€‚å¦å¤–ï¼Œå—ä¹Ÿæ˜¯ DOS ä¸‹æ•°æ®å­˜å‚¨çš„æœ€å°å•å…ƒã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªæ–‡ä»¶çš„å¤§å°ä¸º 1Kï¼Œè€Œå—çš„å¤§å°ä¸º 4Kï¼Œé‚£ä¹ˆè¯¥æ–‡ä»¶è¿˜æ˜¯ä¼šå ç”¨ä¸€ä¸ªå—ï¼Œå—ä¸­å‰©ä¸‹çš„ 3K è¢«ç©ºé—²å‡ºæ¥ï¼Œä¸èƒ½ç”¨äºå­˜å‚¨å…¶ä»–æ•°æ®ã€‚</p>\n<details class=\"primary\"><summary>æ‰‡åŒº vs. ç°‡</summary><div>\n<p>æ‰‡åŒºæ˜¯å¯¹ç¡¬ç›˜è€Œè¨€çš„ï¼Œåœ¨ç‰©ç†å±‚ï¼›å—å’Œç°‡æ˜¯å¯¹æ–‡ä»¶ç³»ç»Ÿè€Œè¨€çš„ï¼Œæ˜¯é€»è¾‘å±‚ã€‚</p>\n<p>ç°‡å’Œå—æ˜¯æ“ä½œç³»ç»Ÿæ“ä½œçš„æœ€å°å•ä½ï¼Œæ‰‡åŒºæ˜¯ç£å¤´ä»ç£ç›˜ä¸­è¯»å–æ•°æ®çš„æœ€å°å•ä½ã€‚</p>\n<p>ä¸€èˆ¬æ¥è¯´æ“ä½œç³»ç»Ÿä¼šå°†ç‰©ç†ç£ç›˜ä¸­çš„å¤šä¸ªè¿ç»­æ‰‡åŒºåˆå¹¶æˆç°‡æ¥ç®¡ç†ï¼Œæ¯ä¸ªç°‡ä¸€èˆ¬åŒ…æ‹¬ 2 çš„æ•´æ•°å¹‚ï¼ˆ2ã€4ã€8 ç­‰ï¼‰ä¸ªæ‰‡åŒºã€‚</p>\n</div></details>\n</li>\n<li>\n<p><ins>åˆ†åŒºï¼ˆpartitionï¼‰</ins>ï¼šæ•…åæ€æ„å°±æ˜¯å°†ä¸€å—å„¿ç£ç›˜ä¸Šçš„ä¸€äº›è¿ç»­æ‰‡åŒºåˆ’åˆ†æˆç‹¬ç«‹çš„é€»è¾‘åŒºåŸŸï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥å°†ä¸€ä¸ªç£ç›˜åˆ†ä¸ºå¤šä¸ªåˆ†åŒºã€‚æ¯ä¸ªåˆ†åŒºå¯ä»¥æ ¼å¼åŒ–ä¸ºä¸€ä¸ª â€œå·â€ã€‚åˆ†åŒºè¢«é™åˆ¶åœ¨ä¸€å—ç£ç›˜ä¸­ï¼Œä¸èƒ½è·¨ç£ç›˜å»ºç«‹åˆ†åŒºã€‚åˆ†åŒºçš„è®°å½•å­˜å‚¨åœ¨ç£ç›˜çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºä¸­ï¼Œå®ƒæ˜¯ä¸€ç§è¾ƒä½å±‚æ¬¡çš„æ¦‚å¿µã€‚</p>\n</li>\n<li>\n<p><ins>å·ï¼ˆvolumeï¼‰</ins>ï¼šä¸€ç§æ›´é«˜çº§ã€æ›´æŠ½è±¡çš„åˆ†åŒºï¼Œå¯ä»¥åŒ…å«å¤šä¸ªåˆ†åŒºæˆ–å¤šä¸ªç‰©ç†ç¡¬ç›˜ï¼Œå¯ä»¥è·¨ç¡¬ç›˜ä½¿ç”¨ï¼Œæ˜¯æ“ä½œç³»ç»Ÿçœ¼ä¸­çš„ â€œç¡¬ç›˜çš„æ ·å­â€ï¼Œæ¯ä¸ªå·æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿå¹¶æ”¯æŒè®¸å¤šé«˜çº§åŠŸèƒ½ï¼ˆå¦‚å¿«ç…§ã€å‹ç¼©ç­‰ï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼Œâ€œå·â€ æ˜¯ â€œåˆ†åŒºâ€ çš„æ‰©å±•ï¼Œâ€œåˆ†åŒºâ€ æ˜¯ â€œå·â€ çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚</p>\n</li>\n</ul>\n<h1 id=\"fat32-è¯¦è§£\"><a class=\"anchor\" href=\"#fat32-è¯¦è§£\">#</a> FAT32 è¯¦è§£</h1>\n<p>FAT æ–‡ä»¶ç³»ç»Ÿç”¨ â€œç°‡â€ ä½œä¸ºæ•°æ®å•å…ƒã€‚ä¸€ä¸ª â€œç°‡â€ ç”±ä¸€ç»„è¿ç»­çš„æ‰‡åŒºç»„æˆï¼Œç°‡æ‰€å«çš„æ‰‡åŒºæ•°å¿…é¡»æ˜¯ 2 çš„æ•´æ•°æ¬¡å¹‚ã€‚ç°‡çš„æœ€å¤§å€¼ä¸º 64 ä¸ªæ‰‡åŒºï¼Œå³ 32KBã€‚åœ¨ FAT æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ŒåŒæ—¶ä½¿ç”¨ â€œæ‰‡åŒºåœ°å€â€ å’Œ â€œç°‡åœ°å€â€ ä¸¤ç§åœ°å€ç®¡ç†æ–¹å¼ã€‚è¿™æ˜¯å› ä¸ºåªæœ‰å­˜å‚¨ç”¨æˆ·æ•°æ®çš„æ•°æ®åŒºä½¿ç”¨ç°‡è¿›è¡Œç®¡ç†ï¼Œå…¶ä»–æ–‡ä»¶ç³»ç»Ÿç®¡ç†æ•°æ®åŒºåŸŸæ˜¯ä¸ä»¥ç°‡è¿›è¡Œç®¡ç†çš„ï¼Œè¿™éƒ¨åˆ†åŒºåŸŸä½¿ç”¨æ‰‡åŒºåœ°å€è¿›è¡Œç®¡ç†ã€‚æ–‡ä»¶ç³»ç»Ÿçš„èµ·å§‹æ‰‡åŒºä¸º 0 å·æ‰‡åŒºï¼ˆé€»è¾‘ 0 å·æ‰‡åŒºï¼Œå› ä¸ºå·å¯ä»¥ä¸åœ¨ç‰©ç†ç£ç›˜çš„ç¬¬ä¸€ä¸ªåˆ†åŒºï¼‰ã€‚</p>\n<div class=\"note info\">\n<p>è¯·ä»”ç»†åŒºåˆ† <code>FATå·</code> å’Œ <code>FATè¡¨</code> çš„ä¸åŒï¼Œ <code>FATå·</code> æŒ‡çš„æ˜¯<ins class=\"wavy\"> FAT æ–‡ä»¶ç³»ç»Ÿ</ins>ï¼Œè€Œ <code>FATè¡¨</code> æŒ‡çš„æ˜¯<ins class=\"wavy\"> FAT æ–‡ä»¶ç³»ç»Ÿä¸­ FAT åŒºåŸŸ</ins>ã€‚</p>\n</div>\n<h2 id=\"fat32-æ•´ä½“å¸ƒå±€\"><a class=\"anchor\" href=\"#fat32-æ•´ä½“å¸ƒå±€\">#</a> FAT32 æ•´ä½“å¸ƒå±€</h2>\n<p>FAT32 æ–‡ä»¶ç³»ç»Ÿç”±ä¿ç•™æ‰‡åŒºï¼ŒFAT1ï¼ŒFAT2 å’Œ DATA å››ä¸ªéƒ¨åˆ†ç»„æˆï¼Œå…¶ç»“æ„å¦‚ä¸‹å›¾ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/c1410.png\" alt=\"FAT32 filesystem structure\" /></p>\n<p>è¿™äº›ç»“æ„æ˜¯åœ¨åˆ†åŒºè¢«æ ¼å¼åŒ–æ—¶åˆ›å»ºå‡ºæ¥çš„ï¼Œå«ä¹‰è§£é‡Šå¦‚ä¸‹ï¼š</p>\n<ul>\n<li>\n<p>ä¿ç•™åŒºåŸŸï¼šåŒ…æ‹¬å¼•å¯¼æ‰‡åŒºå’Œä¿ç•™æ‰‡åŒºï¼Œæ˜¯æ–‡ä»¶ç³»ç»Ÿçš„éšè—åŒºåŸŸï¼Œè®°å½•ç€æ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„ä¿¡æ¯ã€‚</p>\n</li>\n<li>\n<p>FAT1ï¼šFAT çš„å«ä¹‰æ˜¯æ–‡ä»¶åˆ†é…è¡¨ï¼ŒFAT32 ä¸€èˆ¬æœ‰ä¸¤ä»½ FATï¼ŒFAT1 æ˜¯ç¬¬ä¸€ä»½ï¼Œä¹Ÿæ˜¯ä¸» FATã€‚</p>\n</li>\n<li>\n<p>FAT2ï¼šFAT2 æ˜¯ FAT32 çš„ç¬¬äºŒä»½æ–‡ä»¶åˆ†é…è¡¨ï¼Œä¹Ÿæ˜¯ FAT1 çš„å¤‡ä»½ã€‚</p>\n</li>\n<li>\n<p>DATAï¼šæ•°æ®åŒºï¼Œæ˜¯ FAT32 æ–‡ä»¶ç³»ç»Ÿçš„ä¸»è¦åŒºåŸŸï¼Œå…¶ä¸­åŒ…å«ç›®å½•åŒºåŸŸã€‚</p>\n</li>\n</ul>\n<h2 id=\"fat32-ä¿ç•™åŒº\"><a class=\"anchor\" href=\"#fat32-ä¿ç•™åŒº\">#</a> FAT32 ä¿ç•™åŒº</h2>\n<p>ä¿ç•™åŒºåŒ…æ‹¬ â€œå¼•å¯¼æ‰‡åŒºâ€ï¼ˆä¸»å¼•å¯¼æ‰‡åŒºï¼‰ï¼Œâ€ å¤‡ä»½å¼•å¯¼æ‰‡åŒº â€œå’Œ â€œä¿ç•™æ‰‡åŒºâ€ã€‚</p>\n<h3 id=\"å¼•å¯¼æ‰‡åŒºboot-sector\"><a class=\"anchor\" href=\"#å¼•å¯¼æ‰‡åŒºboot-sector\">#</a> å¼•å¯¼æ‰‡åŒºï¼ˆBoot Sectorï¼‰</h3>\n<p>åœ¨ FAT æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®è®°å½•åœ¨ â€œå¼•å¯¼æ‰‡åŒºâ€ ä¸­ã€‚å¼•å¯¼æ‰‡åŒºä»æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„ 0 å·æ‰‡åŒºå¼€å§‹ï¼Œé•¿åº¦ä¸º 3 ä¸ªæ‰‡åŒºï¼Œä¹Ÿç§°å…¶ä¸º DBRï¼ˆDOS Boot Recorderâ€”â€”DOS å¼•å¯¼è®°å½•ï¼‰æ‰‡åŒºï¼ŒDBR ä¸­è®°å½•ç€æ–‡ä»¶ç³»ç»Ÿçš„èµ·å§‹ä½ç½®ã€å¤§å°ã€FAT è¡¨ä¸ªæ•°åŠå¤§å°ç­‰ç›¸å…³ä¿¡æ¯ï¼Œè¿™äº›å¯¹äº FAT è‡³å…³é‡è¦çš„é…ç½®å‚æ•°æ‰€åœ¨åŒºåŸŸä¹Ÿè¢«ç§°ä¸º BPBï¼ˆBIOS Parameter Blockï¼‰ï¼Œç”±äºå†å²åŸå› ï¼ŒBPB çš„å®šä¹‰ä¸€ç›´åœ¨å˜åŒ–ã€‚ä¸‹è¡¨åˆ—å‡ºäº†å¼•å¯¼æ‰‡åŒºçš„æ•°æ®å­—æ®µï¼Œä»»ä½•ä»¥  <code>BPB_</code> å‘½åçš„å­—æ®µéƒ½æ˜¯ BPB çš„ä¸€éƒ¨åˆ†ã€‚ä»»ä½•ä»¥  <code>BS_</code>  ä¸ºæ ‡é¢˜çš„å­—æ®µéƒ½ä¸æ˜¯ BPB çš„ä¸€éƒ¨åˆ†ï¼Œè€Œåªæ˜¯å¼•å¯¼æ‰‡åŒºçš„ä¸€éƒ¨åˆ†ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å­—æ®µå</th>\n<th>åç§»</th>\n<th>å¤§å°</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>BS_JmpBoot</code></td>\n<td>0</td>\n<td>3</td>\n<td>è·³è½¬åˆ°æ“ä½œç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹ä½¿ç”¨çš„å¼•å¯¼ä»£ç ï¼ˆx86 æŒ‡ä»¤ï¼‰çš„æŒ‡ä»¤ã€‚è¯¥å­—æ®µæœ‰ä¸¤ç§æ ¼å¼ï¼Œé¦–é€‰å‰ä¸€ç§æ ¼å¼ã€‚<br/>-  <code>0xEB, 0x??, 0x90 (Short jump + NOP)</code>  <br />-  <code>0xE9, 0x??, 0x?? (Near jump)</code> <br/> <code>??</code>  æ˜¯ä»»æ„å€¼ï¼Œå–å†³äºè·³è½¬çš„ä½ç½®ã€‚å¦‚æœä½¿ç”¨è¿™äº›æ ¼å¼ä»¥å¤–çš„ä»»ä½•æ ¼å¼ï¼ŒWindows å°†æ— æ³•è¯†åˆ«å·ã€‚</td>\n</tr>\n<tr>\n<td><code>BS_OEMName</code></td>\n<td>3</td>\n<td>8</td>\n<td>æ¨èä½¿ç”¨  <code>MSWIN 4.1</code> ï¼Œè€Œ  <code>MSDOS 5.0</code>  ä¹Ÿç»å¸¸è¢«ä½¿ç”¨ã€‚å…³äºè¯¥å­—æ®µå­˜åœ¨è®¸å¤šè¯¯è§£ã€‚è¿™ä»…ä»…æ˜¯ä¸€ä¸ªåå­—ï¼Œå¾®è½¯çš„æ“ä½œç³»ç»Ÿå¹¶ä¸ä¼šå…³æ³¨è¿™ä¸ªå­—æ®µï¼Œä½†ä¸€äº› FAT é©±åŠ¨ç¨‹åºä¼šå‚è€ƒå®ƒã€‚æ¨èä½¿ç”¨ä¸Šè¿°å­—ç¬¦ä¸²æ˜¯å› ä¸ºå®ƒè¢«è®¤ä¸ºå¯ä»¥æœ€å¤§ç¨‹åº¦åœ°å‡å°‘å…¼å®¹æ€§é—®é¢˜ã€‚ä½ ä¹Ÿå¯ä»¥è®¾ç½®å…¶ä»–å€¼ï¼Œä½†æŸäº› FAT é©±åŠ¨ç¨‹åºå¯èƒ½æ— æ³•è¯†åˆ«è¯¥å·ã€‚æ­¤å­—æ®µé€šå¸¸è¡¨ç¤ºåˆ›å»ºè¯¥å·çš„ç³»ç»Ÿåç§°ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_BytsPerSec</code></td>\n<td>11</td>\n<td>2</td>\n<td>å­—èŠ‚ä¸ºå•ä½çš„æ‰‡åŒºå¤§å°ã€‚æ­¤å­—æ®µçš„æœ‰æ•ˆå€¼ä¸º  <code>512</code> ã€ <code>1024</code> ã€ <code>2048</code>  æˆ–  <code>4096</code> ã€‚å¾®è½¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®æ”¯æŒè¿™äº›æ‰‡åŒºå¤§å°ã€‚ä¸€äº› FAT é©±åŠ¨ç¨‹åºå‡è®¾æ‰‡åŒºå¤§å°ä¸º  <code>512</code> ï¼Œå¹¶ä¸”ä¸ä¼šæ£€æŸ¥æ­¤å­—æ®µã€‚å› æ­¤ï¼Œä¸ºäº†æœ€å¤§å…¼å®¹æ€§ï¼Œåº”ä½¿ç”¨  <code>512</code> ã€‚ä¸è¿‡ï¼Œä¸è¦è¯¯è§£ä¸ºæ­¤å­—æ®µä»…ä¸å…¼å®¹æ€§æœ‰å…³ã€‚æ­¤å€¼å¿…é¡»ä¸åŒ…å« FAT å·çš„å­˜å‚¨è®¾å¤‡çš„æ‰‡åŒºå¤§å°ä¸€è‡´ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_SecPerClus</code></td>\n<td>13</td>\n<td>1</td>\n<td>æ¯ä¸ªåˆ†é…å•å…ƒçš„æ‰‡åŒºæ•°ã€‚åœ¨ FAT æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåˆ†é…å•å…ƒè¢«ç§°ä¸ºç°‡ (Cluster)ã€‚ç°‡æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç»­æ‰‡åŒºç»„æˆçš„æ•°æ®å—ï¼Œæ•°æ®åŒºä»¥æ­¤å•å…ƒè¿›è¡Œç®¡ç†ã€‚æ¯ä¸ªç°‡çš„æ‰‡åŒºæ•°å¿…é¡»æ˜¯ 2 çš„å¹‚ï¼Œå› æ­¤æœ‰æ•ˆå€¼ä¸º 1ã€2ã€4ã€... ä»¥åŠ 128ã€‚ä¸è¿‡ï¼Œç°‡å¤§å° ( <code>BPB_BytsPerSec</code>  *  <code>BPB_SecPerClus</code> ) è¶…è¿‡  <code>32 KB</code>  çš„å€¼ä¸åº”ä½¿ç”¨ã€‚å°½ç®¡ç°ä»£ç³»ç»Ÿï¼ˆå¦‚ Windowsï¼‰æ”¯æŒè¶…è¿‡  <code>32 KB</code>  çš„ç°‡å¤§å°ï¼ˆå¦‚  <code>64 KB</code> ã€ <code>128 KB</code>  å’Œ  <code>256</code>  KBï¼‰ï¼Œä½† MS-DOS æˆ–æ—§ç‰ˆç£ç›˜å·¥å…·æ— æ³•æ­£ç¡®è¯†åˆ«æ­¤ç±»å·ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_ResvdSecCnt</code></td>\n<td>14</td>\n<td>2</td>\n<td>ä¿ç•™åŒºä¸­çš„æ‰‡åŒºæ•°ã€‚æ­¤å­—æ®µä¸èƒ½ä¸º  <code>0</code> ï¼Œå› ä¸ºåŒ…å«æ­¤ BPB çš„å¼•å¯¼æ‰‡åŒºæœ¬èº«å°±åœ¨ä¿ç•™åŒºåŸŸä¸­ã€‚ä¸ºé¿å…å…¼å®¹æ€§é—®é¢˜ï¼Œåœ¨  <code>FAT12/16</code>  å·ä¸Šæ­¤å­—æ®µåº”ä¸º  <code>1</code> ï¼Œè¿™æ˜¯å› ä¸ºä¸€äº›æ—§ç‰ˆ FAT é©±åŠ¨ç¨‹åºå¿½ç•¥æ­¤å­—æ®µï¼Œå¹¶å‡è®¾ä¿ç•™åŒºåŸŸçš„å¤§å°ä¸º  <code>1</code> ã€‚åœ¨  <code>FAT32</code>  å·ä¸Šï¼Œé€šå¸¸è®¾ç½®ä¸º  <code>32</code> ã€‚å¾®è½¯çš„æ“ä½œç³»ç»Ÿèƒ½æ­£ç¡®æ”¯æŒå€¼ä¸º 1 æˆ–æ›´å¤§çš„ä»»ä½•å€¼ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_NumFATs</code></td>\n<td>16</td>\n<td>1</td>\n<td>FAT è¡¨çš„æ•°é‡ã€‚æ­¤å­—æ®µçš„å€¼åº”å§‹ç»ˆä¸º  <code>2</code> ã€‚ä»»ä½•å€¼å¤§äºæˆ–ç­‰äº  <code>1</code>  éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œä½†å¼ºçƒˆå»ºè®®ä¸è¦ä½¿ç”¨é™¤  <code>2</code>  ä»¥å¤–çš„å€¼ä»¥é¿å…å…¼å®¹æ€§é—®é¢˜ã€‚å¾®è½¯çš„ FAT é©±åŠ¨ç¨‹åºèƒ½æ­£ç¡®æ”¯æŒé 2 çš„å€¼ï¼Œä½†ä¸€äº›å·¥å…·å’Œ FAT é©±åŠ¨ç¨‹åºä¼šå¿½ç•¥æ­¤å­—æ®µï¼Œå¹¶å‡è®¾ FAT è¡¨çš„æ•°é‡ä¸º  <code>2</code> ã€‚è®¾ç½®ä¸º  <code>2</code>  æ˜¯æ ‡å‡†å€¼ï¼Œç”¨äºä¸º FAT æ•°æ®æä¾›å†—ä½™ã€‚é€šå¸¸ä»ç¬¬ä¸€ä¸ª FAT è¡¨è¯»å–æ¡ç›®ï¼Œå¹¶å°†æ›´æ”¹åŒæ­¥åˆ°æ‰€æœ‰ FAT å‰¯æœ¬ã€‚å¦‚æœ FAT åŒºåŸŸçš„æŸä¸ªæ‰‡åŒºæŸåï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œå› ä¸ºå¦ä¸€ä»½ FAT ä¸­æœ‰å¤‡ä»½ï¼Œä»è€Œæœ€å¤§ç¨‹åº¦é™ä½æ•°æ®ä¸¢å¤±é£é™©ã€‚åœ¨éç£ç›˜å­˜å‚¨ï¼ˆå¦‚å­˜å‚¨å¡ï¼‰ä¸­ï¼Œæ­¤å†—ä½™åŠŸèƒ½æ— æ„ä¹‰ï¼Œå› æ­¤å¯å°† FAT è¡¨æ•°é‡è®¾ç½®ä¸º  <code>1</code>  æ¥èŠ‚çœç©ºé—´ã€‚ä½†æŸäº› FAT é©±åŠ¨ç¨‹åºå¯èƒ½æ— æ³•æ­£ç¡®è¯†åˆ«æ­¤ç±»å·ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_RootEntCnt</code></td>\n<td>17</td>\n<td>2</td>\n<td>åœ¨  <code>FAT12/16</code>  å·ä¸Šï¼Œæ­¤å­—æ®µè¡¨ç¤ºæ ¹ç›®å½•ä¸­  <code>32</code>  å­—èŠ‚ç›®å½•é¡¹çš„æ•°é‡ã€‚è¯¥å€¼åº”è®¾ç½®ä¸ºä½¿æ ¹ç›®å½•çš„å¤§å°å¯¹é½åˆ°æ‰‡åŒºçš„è¾¹ç•Œï¼Œå³  <code>BPB_RootEntCnt * 32</code>  æ˜¯  <code>BPB_BytsPerSec</code>  çš„æ•´å€æ•°ã€‚ä¸ºæœ€å¤§å…¼å®¹æ€§ï¼Œ <code>FAT16</code>  å·ä¸Šæ­¤å­—æ®µåº”è®¾ç½®ä¸º  <code>512</code> ã€‚åœ¨  <code>FAT32</code>  å·ä¸Šï¼Œæ­¤å­—æ®µå¿…é¡»ä¸º  <code>0</code> ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_TotSec16</code></td>\n<td>19</td>\n<td>2</td>\n<td>æ—§çš„  <code>16</code>  ä½å­—æ®µä¸­å·çš„æ€»æ‰‡åŒºæ•°ã€‚è¯¥å€¼åŒ…æ‹¬å·çš„æ‰€æœ‰å››ä¸ªåŒºåŸŸçš„æ‰‡åŒºæ•°ã€‚å½“  <code>FAT12/16</code>  å·çš„æ‰‡åŒºæ•°ä¸º  <code>0x10000</code>  æˆ–æ›´å¤§æ—¶ï¼Œæ­¤å­—æ®µå°†è®¾ç½®ä¸ºæ— æ•ˆå€¼  <code>0</code> ï¼Œè€Œå®é™…å€¼å­˜å‚¨åœ¨  <code>BPB_TotSec32</code>  ä¸­ã€‚åœ¨  <code>FAT32</code>  å·ä¸­ï¼Œæ­¤å­—æ®µå¿…é¡»å§‹ç»ˆä¸º  <code>0</code> ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_Media</code></td>\n<td>21</td>\n<td>1</td>\n<td>æ­¤å­—æ®µçš„æœ‰æ•ˆå€¼ä¸º  <code>0xF0</code> ã€ <code>0xF8</code> ã€ <code>0xF9</code> ã€ <code>0xFA</code> ã€ <code>0xFB</code> ã€ <code>0xFC</code> ã€ <code>0xFD</code> ã€ <code>0xFE</code>  å’Œ  <code>0xFF</code> ã€‚ <code>0xF8</code>  æ˜¯éå¯ç§»åŠ¨ç£ç›˜çš„æ ‡å‡†å€¼ï¼Œ <code>0xF0</code>  å¸¸ç”¨äºæœªåˆ†åŒºçš„å¯ç§»åŠ¨ç£ç›˜ã€‚å¦ä¸€ä¸ªé‡è¦ç‚¹æ˜¯ï¼ŒåŒæ ·çš„å€¼å¿…é¡»è®¾ç½®åœ¨  <code>FAT[0]</code>  çš„ä½  <code>8</code>  ä½ã€‚è¿™æºäº MS-DOS 1.0 çš„åª’ä½“ç¡®å®šæ–¹æ³•ï¼Œä½†ç°åœ¨ä¸å†æœ‰ä»»ä½•å®é™…ç”¨é€”ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_FATSz16</code></td>\n<td>22</td>\n<td>2</td>\n<td>FAT è¡¨å ç”¨çš„æ‰‡åŒºæ•°ã€‚æ­¤å­—æ®µä»…é€‚ç”¨äº  <code>FAT12/16</code>  å·ã€‚åœ¨  <code>FAT32</code>  å·ä¸Šï¼Œè¯¥å­—æ®µå¿…é¡»æ˜¯æ— æ•ˆå€¼  <code>0</code> ï¼Œæ”¹ç”¨  <code>BPB_FATSz32</code> ã€‚ <code>FAT</code>  åŒºåŸŸçš„å¤§å°ä¸º  <code>BPB_FATSz?? * BPB_NumFATs</code>  æ‰‡åŒºã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_SecPerTrk</code></td>\n<td>24</td>\n<td>2</td>\n<td>æ¯ç£é“çš„æ‰‡åŒºæ•°ã€‚æ­¤å­—æ®µä»…ä¸å…·æœ‰å‡ ä½•ç»“æ„çš„ä»‹è´¨ç›¸å…³ï¼Œå¹¶ä¸”ä»…ç”¨äº IBM PC çš„ç£ç›˜ BIOSã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_NumHeads</code></td>\n<td>26</td>\n<td>2</td>\n<td>ç£å¤´æ•°é‡ã€‚æ­¤å­—æ®µä»…ä¸å…·æœ‰å‡ ä½•ç»“æ„çš„ä»‹è´¨ç›¸å…³ï¼Œå¹¶ä¸”ä»…ç”¨äº IBM PC çš„ç£ç›˜ BIOSã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_HiddSec</code></td>\n<td>28</td>\n<td>4</td>\n<td>FAT å·å‰çš„éšè—ç‰©ç†æ‰‡åŒºæ•°ã€‚é€šå¸¸ä¸ IBM PC ç£ç›˜ BIOS è®¿é—®çš„å­˜å‚¨ç›¸å…³ï¼Œæ­¤å­—æ®µçš„å€¼å–å†³äºå¹³å°ã€‚å¦‚æœå·ä»å­˜å‚¨çš„èµ·å§‹å¤„å¼€å§‹ï¼ˆå¦‚æœªåˆ†åŒºç£ç›˜ï¼Œä¾‹å¦‚è½¯ç›˜ï¼‰ï¼Œæ­¤å­—æ®µåº”å§‹ç»ˆä¸º  <code>0</code> ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_TotSec32</code></td>\n<td>32</td>\n<td>4</td>\n<td>æ–°çš„  <code>32</code>  ä½å­—æ®µä¸­ FAT å·çš„æ€»æ‰‡åŒºæ•°ã€‚è¯¥å€¼åŒ…æ‹¬å·çš„æ‰€æœ‰å››ä¸ªåŒºåŸŸçš„æ‰‡åŒºæ•°ã€‚å½“  <code>FAT12/16</code>  å·çš„æ‰‡åŒºæ•°å°äº  <code>0x10000</code>  æ—¶ï¼Œæ­¤å­—æ®µå¿…é¡»ä¸ºæ— æ•ˆå€¼  <code>0</code> ï¼Œè€Œå®é™…å€¼å­˜å‚¨åœ¨  <code>BPB_TotSec16</code>  ä¸­ã€‚åœ¨ FAT32 å·ä¸­ï¼Œæ­¤å­—æ®µå§‹ç»ˆæœ‰æ•ˆï¼Œè€Œæ—§å­—æ®µä¸å†ä½¿ç”¨ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_FATSz32</code></td>\n<td>36</td>\n<td>4</td>\n<td>FAT è¡¨çš„å¤§å°ï¼ˆä»¥æ‰‡åŒºä¸ºå•ä½ï¼‰ã€‚ <code>FAT</code>  åŒºåŸŸçš„æ€»å¤§å°ä¸º  <code>BPB_FATSz32 * BPB_NumFATs</code>  æ‰‡åŒºã€‚ æ­¤å­—æ®µæ˜¯å”¯ä¸€ä¸€ä¸ªéœ€è¦åœ¨ç¡®å®š FAT ç±»å‹å‰è¢«å¼•ç”¨çš„å­—æ®µï¼Œä½†è¯¥å­—æ®µä»…å­˜åœ¨äº  <code>FAT32</code>  å·ä¸­ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_ExtFlags</code></td>\n<td>40</td>\n<td>2</td>\n<td>æ‰©å±•æ ‡å¿—ä½ï¼Œç”¨äºç®¡ç† FAT è¡¨çš„æ´»åŠ¨çŠ¶æ€å’Œé•œåƒã€‚ <br />Bit3-0: æ´»åŠ¨ FATï¼Œä» 0 å¼€å§‹è®¡æ•°ã€‚å½“ Bit7 ä¸º 1 æ—¶æœ‰æ•ˆã€‚<br />Bit6-4: ä¿ç•™ä½ï¼ˆåº”è®¾ç½®ä¸º 0ï¼‰ã€‚ <br />Bit7:   <code>0</code> : æ‰€æœ‰ FAT è¡¨éƒ½å¤„äºæ´»åŠ¨çŠ¶æ€å¹¶è¢«é•œåƒã€‚  <code>1</code> : ä»…ç”± Bit3-0 æŒ‡å®šçš„ FAT è¡¨å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚<br /> Bit15-8-4: ä¿ç•™ä½ï¼ˆåº”è®¾ç½®ä¸º 0ï¼‰ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_FSVer</code></td>\n<td>42</td>\n<td>2</td>\n<td><code>FAT32</code>  ç‰ˆæœ¬å·ã€‚é«˜å­—èŠ‚ä¸ºä¸»ç‰ˆæœ¬å·ï¼Œä½å­—èŠ‚ä¸ºæ¬¡ç‰ˆæœ¬å·ã€‚æ­¤å­—æ®µä¸º  <code>FAT32</code>  æ–‡ä»¶ç³»ç»Ÿæœªæ¥æ‰©å±•é¢„ç•™ï¼Œå®é™…  <code>FAT32</code>  å·çš„æ›´æ–°å·²åœæ­¢ï¼Œæ‰€ä»¥è¿™é‡Œä¸€ç›´æ˜¯é»˜è®¤å€¼ <code>0.0</code> ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_RootClus</code></td>\n<td>44</td>\n<td>4</td>\n<td>æ ¹ç›®å½•çš„ç¬¬ä¸€ä¸ªç°‡å·ã€‚é€šå¸¸è®¾ç½®ä¸º  <code>2</code> ï¼ˆå³å·çš„ç¬¬ä¸€ä¸ªç°‡ï¼‰ï¼Œä½†ä¸ä¸€å®šæ€»æ˜¯  <code>2</code> ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_FSInfo</code></td>\n<td>48</td>\n<td>2</td>\n<td><code>FSInfo</code>  ç»“æ„çš„æ‰‡åŒºåç§»é‡ï¼ˆç›¸å¯¹äº  <code>FAT32</code>  å·çš„èµ·å§‹ä½ç½®ï¼‰ã€‚é€šå¸¸è®¾ç½®ä¸º  <code>1</code> ï¼Œå³ä½äºå¼•å¯¼æ‰‡åŒºçš„ä¸‹ä¸€ä¸ªæ‰‡åŒºã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_BkBootSec</code></td>\n<td>50</td>\n<td>2</td>\n<td>å¤‡ä»½å¼•å¯¼æ‰‡åŒºçš„æ‰‡åŒºåç§»é‡ï¼ˆç›¸å¯¹äº  <code>FAT32</code>  å·çš„èµ·å§‹ä½ç½®ï¼‰ã€‚é€šå¸¸è®¾ç½®ä¸º  <code>6</code> ï¼Œå³ç´§é‚»å¼•å¯¼æ‰‡åŒºçš„ä½ç½®ã€‚ä¸æ¨èè®¾ç½®å…¶ä»–å€¼ã€‚</td>\n</tr>\n<tr>\n<td><code>BPB_Reserved</code></td>\n<td>52</td>\n<td>12</td>\n<td>ä¿ç•™å­—æ®µï¼Œå¿…é¡»å¡«å……ä¸º 0ã€‚</td>\n</tr>\n<tr>\n<td><code>BS_DrvNum</code></td>\n<td>64</td>\n<td>1</td>\n<td>ç£ç›˜ BIOS ä½¿ç”¨çš„é©±åŠ¨å™¨ç¼–å·ï¼Œé€‚ç”¨äº IBM PCã€‚æ­¤å­—æ®µåœ¨ MS-DOS å¯åŠ¨åŠ è½½ç¨‹åºä¸­ä½¿ç”¨ï¼š<br /> <code>0x00</code> : è½¯ç›˜é©±åŠ¨å™¨<br /> <code>0x80</code> : å›ºå®šç£ç›˜ï¼ˆç¡¬ç›˜ï¼‰<br />å®é™…ä¸Šæ­¤å€¼å–å†³äºæ“ä½œç³»ç»Ÿã€‚</td>\n</tr>\n<tr>\n<td><code>BS_Reserved</code></td>\n<td>65</td>\n<td>1</td>\n<td>ä¿ç•™å­—æ®µï¼ŒWindows NT ä½¿ç”¨ã€‚åˆ›å»ºå·æ—¶ï¼Œæ­¤å­—æ®µåº”è®¾ç½®ä¸º  <code>0</code> ã€‚</td>\n</tr>\n<tr>\n<td><code>BS_BootSig</code></td>\n<td>66</td>\n<td>1</td>\n<td>æ‰©å±•å¼•å¯¼ç­¾åï¼ˆå€¼ä¸º  <code>0x29</code> ï¼‰ã€‚æ­¤ç­¾åå­—èŠ‚è¡¨ç¤ºæ¥ä¸‹æ¥çš„ä¸‰ä¸ªå­—æ®µï¼ˆ <code>BS_VolID</code> ã€ <code>BS_VolLab</code>  å’Œ  <code>BS_FilSysType</code> ï¼‰å­˜åœ¨ã€‚</td>\n</tr>\n<tr>\n<td><code>BS_VolID</code></td>\n<td>67</td>\n<td>4</td>\n<td>å·åºåˆ—å·ï¼Œä¸  <code>BS_VolLab</code>  é…åˆä½¿ç”¨ï¼Œç”¨äºåœ¨å¯ç§»åŠ¨å­˜å‚¨ä»‹è´¨ä¸Šè·Ÿè¸ªå·ã€‚<br/>FAT é©±åŠ¨ç¨‹åºé€šè¿‡æ­¤å­—æ®µæ£€æµ‹é”™è¯¯çš„åª’ä½“æ›´æ¢ã€‚é€šå¸¸åœ¨æ ¼å¼åŒ–æ—¶ï¼Œæ ¹æ®å½“å‰æ—¶é—´å’Œæ—¥æœŸè‡ªåŠ¨ç”Ÿæˆã€‚</td>\n</tr>\n<tr>\n<td><code>BS_VolLab</code></td>\n<td>71</td>\n<td>11</td>\n<td>å·çš„ 11 å­—èŠ‚æ ‡ç­¾ï¼Œéœ€ä¸æ ¹ç›®å½•ä¸­è®°å½•çš„å·æ ‡ç­¾åŒ¹é…ã€‚<br />å½“æ ¹ç›®å½•ä¸­çš„å·æ ‡ç­¾å‘ç”Ÿæ›´æ”¹æ—¶ï¼ŒFAT é©±åŠ¨ç¨‹åºåº”æ›´æ–°æ­¤å­—æ®µã€‚ MS-DOS ä¼šè‡ªåŠ¨æ›´æ–°æ­¤å­—æ®µï¼Œä½† Windows ä¸ä¼šæ›´æ–°ã€‚ å¦‚æœå·æ ‡ç­¾ä¸å­˜åœ¨ï¼Œåº”è®¾ç½®ä¸º  <code>&quot;NO NAME &quot;</code> ï¼ˆå…± 11 å­—èŠ‚ï¼Œå³ä¾§å¡«å……ç©ºæ ¼ï¼‰ã€‚</td>\n</tr>\n<tr>\n<td><code>BS_FilSysType</code></td>\n<td>82</td>\n<td>8</td>\n<td>æ–‡ä»¶ç³»ç»Ÿç±»å‹å­—ç¬¦ä¸²ï¼Œé€šå¸¸ä¸º  <code>&quot;FAT12&quot;</code> ,  <code>&quot;FAT16&quot;</code> ï¼Œ <code>&quot;FAT32&quot;</code>  æˆ–  <code>&quot;FAT &quot;</code> ã€‚<br />è®¸å¤šäººè¯¯è®¤ä¸ºæ­¤å­—ç¬¦ä¸²å½±å“ FAT ç±»å‹çš„ç¡®å®šï¼Œå®é™…ä¸Šè¿™æ˜¯ä¸€ä¸ªè¯¯è§£ã€‚ ä»å­—æ®µåç§°å¯çŸ¥ï¼Œå®ƒå¹¶ä¸å±äº  <code>BPB</code> ï¼ˆBIOS å‚æ•°å—ï¼‰ã€‚ æ­¤å­—ç¬¦ä¸²ç»å¸¸è¢«è®¾ç½®ä¸æ­£ç¡®æˆ–æœªè®¾ç½®ï¼Œå› æ­¤ Microsoft çš„ FAT é©±åŠ¨ç¨‹åºä¸ä¼šä½¿ç”¨æ­¤å­—æ®µæ¥ç¡®å®š FAT ç±»å‹ã€‚ ç„¶è€Œï¼Œä¸€äº›æ—§çš„ FAT é©±åŠ¨ç¨‹åºä¾èµ–æ­¤å­—æ®µæ¥ç¡®å®š FAT ç±»å‹ï¼Œå› æ­¤ï¼Œä¸ºé¿å…å…¼å®¹æ€§é—®é¢˜ï¼Œåº”è¯¥æ ¹æ®å·çš„ FAT ç±»å‹æ­£ç¡®è®¾ç½®æ­¤å­—æ®µã€‚</td>\n</tr>\n<tr>\n<td><code>BS_BootCode32</code></td>\n<td>90</td>\n<td>420</td>\n<td>å¼•å¯¼ç¨‹åºã€‚å®ƒä¸å¹³å°æœ‰å…³ï¼Œä¸ä½¿ç”¨æ—¶å¡«å……  <code>0</code> ã€‚</td>\n</tr>\n<tr>\n<td><code>BS_Sign</code></td>\n<td>510</td>\n<td>2</td>\n<td>åº”ä¸ºå›ºå®šå€¼ <code>0xAA55</code>  ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆå¼•å¯¼æ‰‡åŒºçš„å¼•å¯¼ç­¾åã€‚</td>\n</tr>\n<tr>\n<td></td>\n<td>512</td>\n<td></td>\n<td>å½“æ‰‡åŒºå¤§å°å¤§äº  <code>512</code>  å­—èŠ‚æ—¶ï¼Œæ‰‡åŒºä¸­çš„å…¶ä½™éƒ¨åˆ†åº”ä¸ºé›¶ã€‚</td>\n</tr>\n</tbody>\n</table>\n<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®ä¾‹å¹¶è§£é‡Šä¸€äº›é‡ç‚¹è‡ªåŠ¨</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/eadc7.png\" alt=\"Boot Loader Sector\" /></p>\n<ol>\n<li><code>0xEB 0x58 0x90</code> ï¼šæ±‡ç¼–æŒ‡ä»¤è·³è½¬åˆ° <code>0x58</code>  åç§»å¤„ï¼Œè¿™ä¸ªåç§»æ˜¯ç›¸å¯¹äºå½“å‰æŒ‡ä»¤çš„ï¼Œæ‰€ä»¥åŠ ä¸Šæœ¬èº« <code>0xEB 0x58</code>  è¿™ä¸¤ä¸ªå­—èŠ‚æŒ‡ä»¤ï¼Œæ­£å¥½è·³è½¬åˆ° <code>0x5A</code>  å¤„æ‰¾åˆ°å¼•å¯¼ç¨‹åºçš„å¼€å¤´ï¼Œä¹Ÿå°±æ˜¯æ ‡å· 10 çš„ä½ç½®ã€‚</li>\n<li>æ‰‡åŒºå¤§å°ä¸º <code>0x200</code>  ä¹Ÿå°±æ˜¯ <code>512</code>  å­—èŠ‚ã€‚14983*2+2802=</li>\n<li>ä¸€ä¸ªç°‡å†…å«æœ‰ <code>0x10</code>  ä¸ªæ‰‡åŒºï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç°‡ä¸­æœ‰ <code>16</code>  ä¸ªæ‰‡åŒº.</li>\n<li>ä¿ç•™åŒºåŸŸä¸­çš„æ‰‡åŒºæ•°ä¸º <code>0xAF2=2802</code>  ä¸ªï¼Œç”±äºæ‰‡åŒºæ˜¯ä» 0 å¼€å§‹ç¼–å·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>FAT1</code>  ä»ç¬¬ 2802 å·æ‰‡åŒºå¼€å§‹ã€‚</li>\n<li>æœ‰ <code>2</code>  ä¸ª FAT è¡¨ã€‚</li>\n<li>FAT å·å‰çš„éšè—ç‰©ç†æ‰‡åŒºæ•°ä¸º <code>0x800=2048</code> ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ FAT å·å‰è¿˜æœ‰ <code>2048</code>  ä¸ªç‰©ç†æ‰‡åŒºï¼Œå³é€»è¾‘ä¸Šçš„ 0 å·æ‰‡åŒºå…¶å®å¯¹åº”ç€ç‰©ç†ç£ç›˜ä¸­çš„ç¬¬ <code>2048</code>  å·æ‰‡åŒºã€‚</li>\n<li>FAT å·çš„æ€»æ‰‡åŒºæ•°ä¸º <code>0x1D4B7D0=30717904</code>  ä¸ªï¼Œæ€»æ‰‡åŒºåŒ…æ‹¬ <code>ä¿ç•™åŒº</code> ã€ <code>FAT1</code> ã€ <code>FAT2</code>  å’Œ <code>DATA</code>  å››ä¸ªåˆ†åŒºçš„æ‰€æœ‰æ‰‡åŒºï¼Œæ˜¯ FAT å·èƒ½ç®¡ç†çš„æ‰€æœ‰æ‰‡åŒºçš„æ•°é‡ã€‚</li>\n<li>FAT è¡¨çš„å¤§å°ä¸º <code>0x3A87=14983</code>  ä¸ªæ‰‡åŒºã€‚ <code>FATè¡¨å¤§å° * FATè¡¨ä¸ªæ•° + ä¿ç•™åŒºå¤§å° = DATAåŒºå¼€å§‹åœ°å€</code> ã€‚</li>\n<li>å·åºåˆ—å·ä¸º <code>0x2AEB8680</code> ï¼Œç”¨äºåœ¨å¯ç§»åŠ¨å­˜å‚¨ä»‹è´¨ä¸Šè·Ÿè¸ªå·ã€‚</li>\n</ol>\n<h4 id=\"ä¸€äº›è®¡ç®—\"><a class=\"anchor\" href=\"#ä¸€äº›è®¡ç®—\">#</a> ä¸€äº›è®¡ç®—</h4>\n<p>æ¯ä¸€ä¸ªåŒºåŸŸçš„åç§»å’Œå¤§å°éƒ½æ˜¯ç”± BPB å‚æ•°è®¡ç®—å‡ºæ¥çš„ï¼š</p>\n<ul>\n<li>\n<p><strong>FAT åŒº</strong>åœ¨ä¿ç•™åŒºçš„åé¢ï¼Œå…¶ä½ç½®å’Œå¤§å°ï¼ˆæ‰‡åŒºæ•°ï¼‰çš„è®¡ç®—ä¸ºï¼š</p>\n<figure class=\"highlight txt\"><figcaption data-lang=\"txt\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Fat1StartSector = BPB_ResvdSecCnt;</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>FatSectors = BPB_FATSz32 * BPB_NumFATs;</pre></td></tr></table></figure></li>\n<li>\n<p><strong>FAT2 åŒº</strong>åœ¨ <code>FAT1</code>  åŒºçš„åé¢ï¼Œå…¶ä½ç½®å’Œå¤§å°ï¼ˆæ‰‡åŒºæ•°ï¼‰çš„è®¡ç®—ä¸ºï¼š</p>\n<figure class=\"highlight txt\"><figcaption data-lang=\"txt\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>Fat2StartSector = BPB_ResvdSecCnt + FatSectors;</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Fat2Sectors = FatSectors = BPB_FATSz32 * BPB_NumFATs;</pre></td></tr></table></figure></li>\n<li>\n<p><strong>DATA åŒº</strong>åœ¨æ‰€æœ‰ FAT åŒºçš„åé¢ï¼Œå…¶ä½ç½®å’Œå¤§å°ï¼ˆæ‰‡åŒºæ•°ï¼‰çš„è®¡ç®—ä¸ºï¼š</p>\n<figure class=\"highlight txt\"><figcaption data-lang=\"txt\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>DataStartSectors = BPB_FATSz32 * BPB_NumFATs + BPB_ResvdSecCnt;</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>DataSectors = BPB_TotSec32 - DataStartSectors;</pre></td></tr></table></figure></li>\n<li>\n<p>å¦‚æœ <code>FATå·</code> ä¸æ˜¯ä»ç¡¬ç›˜çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºå¼€å§‹çš„ï¼Œé‚£ä¹ˆ <code>FATå·</code> ä¸­çš„æ¯ä¸ªæ‰‡åŒºå¯¹åº”çš„ç‰©ç†æ‰‡åŒºä¸ºï¼š <code>BPB_HiddSec + é€»è¾‘æ‰‡åŒº</code></p>\n</li>\n</ul>\n<h4 id=\"fsinfoä¿¡æ¯æ‰‡åŒº\"><a class=\"anchor\" href=\"#fsinfoä¿¡æ¯æ‰‡åŒº\">#</a> FSINFO ä¿¡æ¯æ‰‡åŒº</h4>\n<p><code>FAT32</code>  åœ¨ä¿ç•™åŒºä¸­å¢åŠ äº†ä¸€ä¸ª  <code>FSINFO</code>  æ‰‡åŒºï¼Œç”¨ä»¥è®°å½•æ–‡ä»¶ç³»ç»Ÿä¸­ç©ºé—²ç°‡çš„æ•°é‡ä»¥åŠä¸‹ä¸€å¯ç”¨ç°‡çš„ç°‡å·ç­‰ä¿¡æ¯ï¼Œä½¿å¾—æ“ä½œç³»ç»Ÿå¯ä»¥å¿«é€Ÿæ‰¾åˆ°å¯ç”¨çš„ç°‡è€Œæ— éœ€åœ¨æ¯æ¬¡ä½¿ç”¨æ—¶é‡æ–°æ‰«ææ•´ä¸ª <code>FATå·</code> ã€‚ <code>FSINFO</code>  æ‰‡åŒºçš„ä½ç½®ç”± <code>BPB_FSInfo</code>  æŒ‡å®šï¼Œé€šå¸¸æ˜¯ <code>1</code> ï¼Œä¹Ÿå°±æ˜¯ 1 å·æ‰‡åŒºï¼Œç´§é‚»ç€å¼•å¯¼æ‰‡åŒºï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å­—æ®µå</th>\n<th>åç§»</th>\n<th>å¤§å°</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>FSI_LeadSig</code></td>\n<td>0</td>\n<td>4</td>\n<td>å›ºå®šå€¼ <code>0x41615252</code> ï¼Œå¼•å¯¼ç­¾åï¼Œç”¨äºéªŒè¯è¯¥æ‰‡åŒºç¡®å®æ˜¯ä¸€ä¸ª FSInfo æ‰‡åŒºã€‚</td>\n</tr>\n<tr>\n<td><code>FSI_Reserved1</code></td>\n<td>4</td>\n<td>480</td>\n<td>ä¿ç•™å­—æ®µã€‚æ­¤å­—æ®µåº”å§‹ç»ˆåˆå§‹åŒ–ä¸ºé›¶ã€‚</td>\n</tr>\n<tr>\n<td><code>FSI_StrucSig</code></td>\n<td>484</td>\n<td>4</td>\n<td>å›ºå®šå€¼ <code>0x61417272</code> ï¼Œå¦ä¸€ä¸ªç­¾åï¼Œæ›´åŠ å±€éƒ¨åœ°æ ‡è¯†äº†ä¸è¯¥æ‰‡åŒºä¸­ä½¿ç”¨çš„å­—æ®µç›¸å…³çš„ä½ç½®ã€‚</td>\n</tr>\n<tr>\n<td><code>FSI_Free_Count</code></td>\n<td>488</td>\n<td>4</td>\n<td>è¡¨ç¤ºå·ä¸Šæœ€åä¸€æ¬¡æ›´æ–°åå·²çŸ¥çš„ç©ºé—²ç°‡æ•°ã€‚å¦‚æœè¯¥å€¼ä¸º  <code>0xFFFFFFFF</code> ï¼Œåˆ™è¡¨ç¤ºç©ºé—²ç°‡æ•°æœªçŸ¥ã€‚<br/>è¿™ä¸ä¸€å®šæ˜¯æ­£ç¡®çš„ï¼Œå› æ­¤  <code>FAT</code>  é©±åŠ¨ç¨‹åºéœ€è¦ç¡®ä¿è¯¥å€¼å¯¹å·æ˜¯æœ‰æ•ˆçš„ã€‚</td>\n</tr>\n<tr>\n<td><code>FSI_Nxt_Free</code></td>\n<td>492</td>\n<td>4</td>\n<td>æ­¤å­—æ®µä¸º FAT é©±åŠ¨ç¨‹åºæä¾›ä¸€ä¸ªæç¤ºï¼ŒæŒ‡ç¤ºé©±åŠ¨ç¨‹åºåº”ä»å“ªä¸ªç°‡å¼€å§‹æŸ¥æ‰¾ç©ºé—²ç°‡ã€‚ ç”±äº  <code>FAT32</code>  çš„  <code>FAT</code>  å¾ˆå¤§ï¼Œå¦‚æœå¼€å§‹æŸ¥æ‰¾æ—¶æœ‰å¾ˆå¤šå·²åˆ†é…çš„ç°‡ï¼Œåˆ™ä» FAT å·çš„ç¬¬ä¸€ä¸ªç°‡å¼€å§‹æŸ¥æ‰¾ç©ºé—²ç°‡å¯èƒ½ä¼šéå¸¸è€—æ—¶ã€‚ é€šå¸¸ï¼Œæ­¤å€¼è®¾ç½®ä¸ºé©±åŠ¨ç¨‹åºä¸Šæ¬¡åˆ†é…çš„æœ€åä¸€ä¸ªç°‡å·ã€‚å¦‚æœå€¼ä¸º  <code>0xFFFFFFFF</code> ï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰æç¤ºï¼Œé©±åŠ¨ç¨‹åºåº”ä»ç°‡ 2 å¼€å§‹æŸ¥æ‰¾ã€‚ æ­¤å€¼å¯èƒ½ä¸å‡†ç¡®ï¼Œå› æ­¤ FAT é©±åŠ¨ç¨‹åºéœ€è¦ç¡®ä¿å®ƒå¯¹å·æ˜¯æœ‰æ•ˆçš„ã€‚</td>\n</tr>\n<tr>\n<td><code>FSI_Reserved2</code></td>\n<td>496</td>\n<td>12</td>\n<td>ä¿ç•™å­—æ®µã€‚æ­¤å­—æ®µåº”å§‹ç»ˆåˆå§‹åŒ–ä¸ºé›¶ã€‚</td>\n</tr>\n<tr>\n<td><code>FSI_TrailSig</code></td>\n<td>508</td>\n<td>4</td>\n<td>å›ºå®šå€¼ <code>0xAA550000</code> ï¼Œç»“å°¾ç­¾åï¼Œç”¨äºéªŒè¯è¯¥æ‰‡åŒºç¡®å®æ˜¯ä¸€ä¸ª  <code>FSInfo</code>  æ‰‡åŒºã€‚</td>\n</tr>\n<tr>\n<td></td>\n<td>512</td>\n<td></td>\n<td>å¦‚æœæ‰‡åŒºå¤§å°å¤§äº 512 å­—èŠ‚ï¼Œåˆ™å…¶ä½™å­—èŠ‚åº”åˆå§‹åŒ–ä¸ºé›¶ã€‚</td>\n</tr>\n</tbody>\n</table>\n<p>ä¸€ä¸ªè¯¦ç»†çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/29170.png\" alt=\"FSINFO Sector\" /></p>\n<ol>\n<li>FAT å·æœ€åä¸€æ¬¡æ›´æ–°åå·²çŸ¥çš„ç©ºé—²ç°‡æ•°ä¸º <code>0x1817A8=1578920</code>  ä¸ªã€‚ä¹Ÿå³è¿˜æœ‰ 82% çš„ç©ºä½™ã€‚</li>\n<li>æœ€é å‰çš„ä¸€ä¸ªç©ºé—²ç°‡å·ä¸º <code>0x2BDB=11227</code>  å·ã€‚</li>\n</ol>\n<h4 id=\"2å·æ‰‡åŒº\"><a class=\"anchor\" href=\"#2å·æ‰‡åŒº\">#</a> 2 å·æ‰‡åŒº</h4>\n<p>æœ‰å…³ 2 å·æ‰‡åŒºçš„å†…å®¹ç½‘ç»œä¸Šçš„æè¿°æ¯”è¾ƒå°‘ï¼Œä¼¼ä¹ FAT æ–‡ä»¶ç³»ç»Ÿæ ‡å‡†ä¸­å¹¶æ²¡æœ‰å¯¹ 2 å·æ‰‡åŒºåšå¤ªå¤šè§„èŒƒï¼Œå”¯ä¸€çš„è§„èŒƒæ˜¯ï¼Œç”±äºå…¶ä»å±äºå¼•å¯¼æ‰‡åŒºçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥è¯¥æ‰‡åŒºç»“å°¾ 4 ä¸ªå­—èŠ‚ä»å¿…é¡»æ˜¯å¼•å¯¼æ‰‡åŒºç­¾å <code>0xAA550000</code> ã€‚ç„¶è€Œåœ¨ç°åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè¯¥æ‰‡åŒºä¸€èˆ¬ä¼šå­˜æ”¾ä¸€äº› 0 å·æ‰‡åŒºä¸­æ”¾ä¸ä¸‹çš„å¼•å¯¼åŠ è½½ç¨‹åºçš„ä¸€äº›é¢å¤–ä»£ç ï¼Œè¯¥éƒ¨åˆ†çš„ä»£ç ä¼šåœ¨ 0 å·æ‰‡åŒºä¸­é€šè¿‡ <code>jmp 400h</code>  çš„æ±‡ç¼–æŒ‡ä»¤ç›´æ¥è·³è½¬åˆ°è¾¾ï¼Œè¯¥éƒ¨åˆ†çš„ä»£ç ä¹Ÿå¯ä»¥åœ¨ Intel 80386 å®æ¨¡å¼ä¸‹çš„ 16 ä½æ¨¡å¼è¿›è¡Œåæ±‡ç¼–ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/d6152.png\" alt=\"second sector\" /></p>\n<h3 id=\"å¤‡ä»½å¼•å¯¼æ‰‡åŒº\"><a class=\"anchor\" href=\"#å¤‡ä»½å¼•å¯¼æ‰‡åŒº\">#</a> å¤‡ä»½å¼•å¯¼æ‰‡åŒº</h3>\n<p><code>FAT32</code>  ä¸­ä¼šå°†å¼•å¯¼æ‰‡åŒºçš„ 3 ä¸ªæ‰‡åŒºéƒ½åšä¸€ä»½å¤‡ä»½ç”¨äºå†—ä½™ï¼Œå½“ä¸»å¼•å¯¼æ‰‡åŒºæŸåæ—¶å¯ä»¥é€šè¿‡å¤‡ä»½å¼•å¯¼æ‰‡åŒºæ¢å¤æ–‡ä»¶ç³»ç»Ÿï¼Œå¤‡ä»½å¼•å¯¼æ‰‡åŒºçš„ä½ç½®ç”± 0 å·æ‰‡åŒºä¸­çš„ <code>BPB_BkBootSec</code>  å­—æ®µæŒ‡å®šï¼Œä¸€èˆ¬æ˜¯ <code>6</code> ï¼Œä¹Ÿå°±æ˜¯ä» <code>6</code>  å·æ‰‡åŒºå¼€å§‹ã€‚ <code>6</code> ã€ <code>8</code>  å·æ‰‡åŒºçš„å†…å®¹æ˜¯ <code>0</code> ã€ <code>2</code>  å·æ‰‡åŒºçš„åŸæ ·æ‹·è´ï¼Œç„¶è€Œç¬¬ <code>7</code>  å·æ‰‡åŒºï¼Œä¹Ÿå°±æ˜¯ <code>FSINFO</code>  çš„å¤‡ä»½æ‰‡åŒºçš„å†…å®¹ä¸åŸæ‰‡åŒºå†…å®¹ä¸å¤ªä¸€æ ·ï¼Œæ˜¯è¯¥æ‰‡åŒºçš„æœªåˆå§‹åŒ–ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯è¯´å½“æ“ä½œç³»ç»Ÿä½¿ç”¨å¤‡ä»½æ‰‡åŒºæ—¶éœ€è¦é‡æ–°æœç´¢ç©ºé—´ç°‡æ•°é‡å’Œä½ç½®ï¼Œè¿™ä¹Ÿæ˜¯éå¸¸åˆç†çš„ï¼Œå½“å‘ç”Ÿç¡¬ç›˜æŸåæ—¶åŸæœ¬çš„ç©ºé—²ç°‡ä¿¡æ¯å¯èƒ½ä¹Ÿä¸åœ¨å¯é äº†ï¼Œéœ€è¦é‡æ–°æœç´¢ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/1406b.png\" alt=\"FSINFO Backup Sector\" /></p>\n<h3 id=\"ä¿ç•™æ‰‡åŒº\"><a class=\"anchor\" href=\"#ä¿ç•™æ‰‡åŒº\">#</a> ä¿ç•™æ‰‡åŒº</h3>\n<p>ä¿ç•™åŒºçš„å‰©ä¸‹æ‰‡åŒºéƒ½æ—¶ä¿ç•™æ‰‡åŒºï¼Œä¾›ä½¿ç”¨è€…çµæ´»ä½¿ç”¨ã€‚</p>\n<h2 id=\"fat32-fat-åŒº\"><a class=\"anchor\" href=\"#fat32-fat-åŒº\">#</a> FAT32 FAT åŒº</h2>\n<p>FAT åŒºä½äºä¿ç•™åŒºåï¼Œä¸€èˆ¬æ˜¯ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„ FATï¼ˆFile Allocation Tableï¼Œæ–‡ä»¶åˆ†é…è¡¨ï¼‰è¡¨ç»„æˆï¼Œ FAT æ–‡ä»¶ç³»ç»Ÿçš„åå­—ä¹Ÿæ˜¯å› æ­¤è€Œæ¥ã€‚</p>\n<p>FAT æ–‡ä»¶ç³»ç»Ÿä¹‹æ‰€ä»¥æœ‰ 12ï¼Œ16ï¼Œ32 ä¸åŒçš„ç‰ˆæœ¬ä¹‹åˆ†ï¼Œå…¶æ ¹æœ¬åœ¨äº FAT è¡¨é¡¹ç”¨æ¥è®°å½•ä¸€ç°‡ç©ºé—´æ‰€å ç”¨çš„äºŒè¿›åˆ¶ä½æ•°ã€‚ä»¥ <code>FAT16</code>  ä¸ºä¾‹ï¼Œæ¯ä¸€ç°‡åœ¨ FAT è¡¨ä¸­å æ® <code>16 bit</code> ï¼ˆ2 å­—èŠ‚ï¼‰ã€‚æ‰€ä»¥ï¼ŒFAT16 æœ€å¤§å¯ä»¥è¡¨ç¤ºçš„ç°‡å·ä¸º <code>0xFFFF</code> ï¼ˆ <code>65535</code> ï¼‰ï¼Œå¦‚æœä»¥ <code>32K</code> ï¼ˆæœ€å¤šåªæ”¯æŒ 64 ä¸ªæ‰‡åŒºï¼‰ä¸ºç°‡çš„å¤§å°çš„è¯ï¼Œ <code>FAT16</code>  å¯ä»¥ç®¡ç†çš„æœ€å¤§ç£ç›˜ç©ºé—´ä¸ºï¼š <code>32KBÃ—65535=2048MB</code> ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code>FAT16</code>  ä¸æ”¯æŒè¶…è¿‡ <code>2GB</code>  åˆ†åŒºçš„åŸå› ï¼ˆDOS ä¸‹ï¼‰ã€‚æ³¨æ„ï¼š</p>\n<ul>\n<li>å¯¹äºæ–‡ä»¶ç³»ç»Ÿæ¥è¯´ï¼ŒFAT è¡¨æœ‰ä¸¤ä¸ªé‡è¦ä½œç”¨ï¼šæè¿°ç°‡çš„åˆ†é…çŠ¶æ€ä»¥åŠæ ‡æ˜æ–‡ä»¶æˆ–ç›®å½•çš„ä¸‹ä¸€ç°‡çš„ç°‡å·ã€‚</li>\n<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ª FAT æ–‡ä»¶ç³»ç»Ÿä¼šæœ‰ä¸¤ä¸ª FAT è¡¨ï¼Œä½†æœ‰æ—¶ä¹Ÿå…è®¸åªæœ‰ä¸€ä¸ª FAT è¡¨ï¼ŒFAT è¡¨çš„å…·ä½“ä¸ªæ•°è®°å½•åœ¨å¼•å¯¼æ‰‡åŒºçš„ <code>BPB_NumFATs</code>  å­—æ®µå¤„ã€‚</li>\n<li><code>FAT32</code>  çš„ FAT è¡¨ç”±ä¸€ç³»åˆ—å¤§å°ç›¸ç­‰çš„ FAT è¡¨é¡¹ç»„æˆï¼Œæ¯ä¸ªè¡¨é¡¹å  <code>32bit</code> ï¼ˆ4 å­—èŠ‚ï¼‰ã€‚è¡¨é¡¹ä» FAT åŒºçš„èµ·å§‹ä½ç½®å¼€å§‹è¿›è¡Œç¼–å·ï¼ŒFAT åŒºç¬¬ä¸€ä¸ªæ‰‡åŒºçš„å¤´ 4 ä¸ªå­—èŠ‚ä¸º 0 å·åœ°å€ï¼Œä¾æ¬¡ç±»æ¨ã€‚0 å·åœ°å€ä¸ 1 å·åœ°å€è¢«ç³»ç»Ÿä¿ç•™å¹¶å­˜å‚¨ç‰¹æ®Šæ ‡å¿—å†…å®¹ï¼Œä» 2 å·è¡¨é¡¹å¼€å§‹ï¼Œæ¯ä¸ªåœ°å€å¯¹åº”ä¸€ä¸ªæ•°æ®åŒºçš„ç°‡å·ï¼ŒFAT è¡¨ä¸­çš„åœ°å€ç¼–å·ä¸æ•°æ®åŒºä¸­çš„ç°‡å·ç›¸åŒã€‚</li>\n</ul>\n<p>FAT è¡¨çš„æ¯ä¸ªæ¡ç›®è®°å½•å¦‚ä¸‹ 5 ç§ä¿¡æ¯ä¸­çš„ä¸€ç§ï¼š</p>\n<ol>\n<li>æ–‡ä»¶ä¸‹ä¸€ä¸ªç°‡çš„åœ°å€</li>\n<li>ä¸€ä¸ªç‰¹æ®Šçš„<strong>ç°‡é“¾ç»“æŸç¬¦</strong>ï¼ˆ<strong>EOC</strong>ï¼ŒEnd Of Cluster-chainï¼Œæˆ–ç§° End Of Chainï¼‰ç¬¦å·æŒ‡ç¤ºæ–‡ä»¶çš„ç»“æŸ</li>\n<li>ä¸€ä¸ªç‰¹æ®Šçš„ç¬¦å·æ ‡ç¤ºåç°‡</li>\n<li>ä¸€ä¸ªç‰¹æ®Šçš„ç¬¦å·æ ‡ç¤ºä¿ç•™ç°‡</li>\n<li>0 æ¥è¡¨ç¤ºç©ºé—²ç°‡</li>\n</ol>\n<p>å…¶æ¡ç›®å€¼å¾—å…·ä½“è§„èŒƒå¦‚ä¸‹ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>FAT 32 è¡¨é¡¹å€¼</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>0x?0000000</code></td>\n<td>ç©ºé—²ç°‡</td>\n</tr>\n<tr>\n<td><code>0x?0000001</code></td>\n<td>ä¿ç•™ç°‡</td>\n</tr>\n<tr>\n<td><code>0x?0000002 - 0x?FFFFFEF</code></td>\n<td>è¢«å ç”¨çš„ç°‡ï¼›æŒ‡å‘ä¸‹ä¸€ä¸ªç°‡</td>\n</tr>\n<tr>\n<td><code>0x?FFFFFF0 - 0x?FFFFFF6</code></td>\n<td>ä¿ç•™å€¼</td>\n</tr>\n<tr>\n<td><code>0x?FFFFFF7</code></td>\n<td>ç°‡ä¸­å«æœ‰åæ‰‡åŒºï¼Œä¼šå°†æ•´ä¸ªç°‡æ ‡è®°ä¸ºåç°‡</td>\n</tr>\n<tr>\n<td><code>0x?FFFFFF8 - 0x?FFFFFFF</code></td>\n<td>æ–‡ä»¶æœ€åä¸€ä¸ªç°‡</td>\n</tr>\n</tbody>\n</table>\n<p>âš ï¸ æ³¨æ„ <code>FAT32</code>  åªä½¿ç”¨ 32 ä½ä¸­çš„ <code>28ä½</code> ã€‚é«˜ 4 ä½é€šå¸¸æ˜¯ <code>0</code> ï¼Œä½†å®ƒä»¬æ˜¯ä¿ç•™ä½ï¼Œä¸è¦æ›´æ”¹å®ƒä»¬ã€‚åœ¨ä¸Šé¢çš„è¡¨ä¸­å®ƒä»¬ç”¨<strong>é—®å·</strong>è¡¨ç¤ºã€‚</p>\n<p>ä¸€ä¸ªå…·ä½“çš„ä¾‹å­å¦‚ä¸‹ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/491ba.png\" alt=\"FAT\" /></p>\n<ol>\n<li>0 å·è¡¨é¡¹ï¼ˆæ ‡å· 1ï¼‰çš„å€¼æ€»æ˜¯ <code>0x0FFFFFF8</code> ã€‚</li>\n<li>1 å·è¡¨é¡¹ï¼ˆæ ‡å· 2ï¼‰å¯èƒ½è¢«ç”¨äºè®°å½•è„æ ‡å¿—ï¼Œä»¥è¯´æ˜æ–‡ä»¶ç³»ç»Ÿæ²¡æœ‰è¢«æ­£å¸¸å¸è½½æˆ–è€…ç£ç›˜è¡¨é¢å­˜åœ¨é”™è¯¯ã€‚ä¸è¿‡è¿™ä¸ªå€¼å¹¶ä¸é‡è¦ã€‚æ­£å¸¸æƒ…å†µä¸‹ 1 å·è¡¨é¡¹çš„å€¼ä¸º <code>0xFFFFFFFF</code>  æˆ– <code>0xFFFFFFF</code> ã€‚</li>\n<li>å¦‚æœæŸä¸ªç°‡<strong>æœªè¢«åˆ†é…ä½¿ç”¨</strong>ï¼Œå®ƒæ‰€å¯¹åº”çš„è¡¨é¡¹å€¼å³ç”¨  <code>0</code>  è¿›è¡Œå¡«å……ï¼Œè¡¨ç¤ºè¯¥ FAT è¡¨ é¡¹æ‰€å¯¹åº”çš„ç°‡æœªè¢«åˆ†é…ã€‚å½“æŸä¸ªç°‡<strong>å·²è¢«åˆ†é…ä½¿ç”¨</strong>æ—¶ï¼Œåˆ™å®ƒå¯¹åº”çš„è¡¨é¡¹å€¼æ˜¯è¯¥æ–‡ä»¶çš„ä¸‹ä¸€ä¸ªå­˜å‚¨ä½ç½®çš„ç°‡å·ã€‚å¦‚æœè¯¥æ–‡ä»¶ç»“æŸäºè¯¥ç°‡ï¼Œåˆ™åœ¨å®ƒçš„ FAT è¡¨é¡¹ä¸­è®°å½•çš„æ˜¯ä¸€ä¸ªæ–‡ä»¶ç»“æŸæ ‡è®°ï¼Œå¯¹äº FAT32 è€Œè¨€ï¼Œä»£è¡¨æ–‡ä»¶ç»“æŸçš„ FAT è¡¨é¡¹å€¼ä¸º  <code>0x0FFFFFFF</code> ã€‚è¿™é‡Œçš„æ ‡å¿—è¯´æ˜ 2 å·ç°‡å†…çš„æ–‡ä»¶æ¯”è¾ƒå°ï¼Œå•ç‹¬ä¸€ä¸ª 2 å·ç°‡çš„ç©ºé—´å°±å·²ç»å¯ä»¥å­˜å‚¨æ•´ä¸ªæ–‡ä»¶äº†ã€‚</li>\n<li>7 å·ç°‡çš„è¡¨é¡¹å€¼è¯´æ˜è¯¥ç°‡å†…å­˜å‚¨çš„æ–‡ä»¶éå¸¸å¤§ï¼Œä¸€ä¸ªç°‡å­˜å‚¨ä¸ä¸‹ï¼Œå­˜å‚¨ä¸ä¸‹çš„å†…å®¹éœ€è¦å» <code>0x8</code>  å·ç°‡å»å¯»æ‰¾ï¼Œä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç°‡çš„è¡¨é¡¹å€¼ä¸ºæ–‡ä»¶ç»“æŸæ ‡å¿—ã€‚</li>\n</ol>\n<p>å½“æ–‡ä»¶ç³»ç»Ÿè¢«åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯è¿›è¡Œæ ¼å¼åŒ–æ“ä½œæ—¶ï¼Œåˆ†é…ç»™ FAT åŒºåŸŸçš„ç©ºé—´å°†ä¼šè¢«æ¸…ç©ºï¼Œç„¶ååœ¨  <code>FAT1</code>  ä¸  <code>FAT2</code>  çš„ 0 å·è¡¨é¡¹ä¸ 1 å·è¡¨é¡¹å†™å…¥ä¸Šè¿°ç‰¹å®šå€¼ã€‚ç”±äºåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿçš„åŒæ—¶ä¹Ÿä¼šåˆ›å»ºæ ¹ç›®å½•ï¼Œä¹Ÿå°±æ˜¯ä¸ºæ ¹ç›®å½•åˆ†é…äº†ä¸€ä¸ªç°‡ç©ºé—´ï¼Œé€šå¸¸ä¸º 2 å·ç°‡ï¼Œæ‰€ä»¥ 2 å·ç°‡æ‰€å¯¹åº”çš„ 2 å· FAT è¡¨é¡¹ä¹Ÿä¼šè¢«å†™å…¥ä¸€ä¸ªç»“æŸæ ‡è®°ã€‚å¦‚æœæŸä¸ªç°‡å­˜åœ¨<strong>åæ‰‡åŒº</strong>ï¼Œåˆ™æ•´ä¸ªç°‡ä¼šç”¨ FAT è¡¨é¡¹å€¼  <code>0xFFFFFFF7</code>  æ ‡è®°ä¸ºåç°‡ï¼Œä¸å†ä½¿ç”¨ï¼Œè¿™ä¸ªåç°‡ æ ‡è®°å°±è®°å½•åœ¨å®ƒæ‰€å¯¹åº”çš„ FAT è¡¨é¡¹ä¸­ã€‚</p>\n<div class=\"note primary no-icon\">\n<p><strong>æ–°å»ºæ–‡ä»¶ / ç›®å½•è¿‡ç¨‹</strong></p>\n<ul>\n<li>åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­<strong>æ–°å»ºæ–‡ä»¶</strong>æ—¶ï¼Œå¦‚æœæ–°å»ºçš„æ–‡ä»¶åªå ç”¨ä¸€ä¸ªç°‡ï¼Œä¸ºå…¶åˆ†é…çš„ç°‡å¯¹åº”çš„ FAT è¡¨é¡¹å°†ä¼šå†™å…¥ç»“æŸæ ‡è®°ã€‚å¦‚æœæ–°å»ºçš„æ–‡ä»¶ä¸åªå ç”¨ä¸€ä¸ªç°‡ï¼Œåˆ™åœ¨å…¶æ‰€å ç”¨çš„æ¯ä¸ªç°‡å¯¹åº”çš„ FAT è¡¨é¡¹ä¸­å†™å…¥ä¸ºå…¶åˆ†é…çš„ä¸‹ä¸€ç°‡çš„ç°‡å·ï¼Œåœ¨æœ€åä¸€ä¸ªç°‡å¯¹åº”çš„ FAT è¡¨è±¡ä¸­å†™å…¥ç»“æŸæ ‡è®°ã€‚</li>\n<li><strong>æ–°å»ºç›®å½•</strong>æ—¶ï¼Œåªä¸ºå…¶åˆ†é…ä¸€ä¸ªç°‡çš„ç©ºé—´ï¼Œå¯¹åº”çš„ FAT è¡¨é¡¹ä¸­å†™å…¥ç»“æŸæ ‡è®°ã€‚å½“ç›®å½•å¢å¤§è¶…å‡ºä¸€ä¸ªç°‡çš„å¤§å°æ—¶ï¼Œå°†ä¼šåœ¨ç©ºé—²ç©ºé—´ä¸­ç»§ç»­ä¸ºå…¶åˆ†é…ä¸€ä¸ªç°‡ï¼Œå¹¶åœ¨ FAT è¡¨ä¸­ä¸ºå…¶å»ºç«‹ FAT è¡¨é“¾ä»¥æè¿°å®ƒæ‰€å ç”¨çš„ç°‡æƒ…å†µã€‚</li>\n</ul>\n<p>æ›´åŠ è¯¦ç»†çš„è¿‡ç¨‹å¯ä»¥çœ‹<a href=\"https://gality.cn/os/fs/FAT32/#fat32-%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B\"> FAT32 å·¥ä½œè¿‡ç¨‹</a></p>\n</div>\n<h2 id=\"fat32-dataåŒº\"><a class=\"anchor\" href=\"#fat32-dataåŒº\">#</a> FAT32 DATA åŒº</h2>\n<p>æ•°æ®åŒºæ—¶çœŸæ­£ç”¨äºå­˜æ”¾ç”¨æˆ·æ•°æ®çš„åŒºåŸŸã€‚æ•°æ®åŒºç´§è·Ÿåœ¨ FAT2 ä¹‹åï¼Œè¢«åˆ’åˆ†æˆä¸€ä¸ªä¸ªçš„ç°‡ã€‚æ‰€æœ‰çš„ç°‡ ä» 2 å¼€å§‹è¿›è¡Œç¼–å·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ2 å·ç°‡çš„èµ·å§‹ä½ç½®å°±æ˜¯æ•°æ®åŒºçš„èµ·å§‹ä½ç½®ã€‚</p>\n<h3 id=\"ç›®å½•è¡¨\"><a class=\"anchor\" href=\"#ç›®å½•è¡¨\">#</a> ç›®å½•è¡¨</h3>\n<p><strong>ç›®å½•è¡¨</strong>æ˜¯ä¸€ä¸ªè¡¨ç¤ºç›®å½•çš„ç‰¹æ®Šç±»å‹æ–‡ä»¶ï¼ˆç°ä»Šé€šå¸¸ç§°ä¸ºæ–‡ä»¶å¤¹ï¼‰ã€‚å®ƒé‡Œé¢ä¿å­˜çš„æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä½¿ç”¨è¡¨ä¸­çš„ <code>32å­—èŠ‚</code> æ¡ç›®è¡¨ç¤ºã€‚æ¯ä¸ªæ¡ç›®è®°å½•åå­—ã€æ‰©å±•åã€å±æ€§ï¼ˆæ¡£æ¡ˆã€ç›®å½•ã€éšè—ã€åªè¯»ã€ç³»ç»Ÿå’Œå·ï¼‰ã€åˆ›å»ºçš„æ—¥æœŸå’Œæ—¶é—´ã€æ–‡ä»¶ï¼ç›®å½•æ•°æ®ç¬¬ä¸€ä¸ªç°‡çš„åœ°å€ï¼Œæœ€åæ˜¯æ–‡ä»¶ï¼ç›®å½•çš„å¤§å°ã€‚åœ¨ <code>FAT32</code>  ä¸­æ‰€æœ‰ç›®å½•è¡¨éƒ½å­˜åœ¨æ•°æ®åŒºåŸŸï¼ˆDATA åŒºï¼‰ä¸­ã€‚ç›®å½•è¡¨é¡¹éµå¾ªä»¥ä¸‹æ ¼å¼ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å­—æ®µå</th>\n<th>åç§»</th>\n<th>å¤§å°</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>DIR_Name</code></td>\n<td>0</td>\n<td>11</td>\n<td>çŸ­æ–‡ä»¶åï¼ˆåŒ…æ‹¬æ–‡ä»¶åå’Œæ‰©å±•åï¼Œ <code>8-11</code>  ä½ä¸ºæ–‡ä»¶æ‰©å±•åï¼Œä½¿ç”¨ç©ºæ ¼è¡¥é½ï¼‰<br />ç¬¬ä¸€ä¸ªå­—èŠ‚å¯ä»¥æ˜¯ä¸‹é¢çš„ç‰¹æ®Šæ•°å€¼ï¼š<br />- 0x00ï¼šè¿™ä¸ªæ¡ç›®æœªä½¿ç”¨å¹¶ä¸”åé¢æ²¡æœ‰è¢«å ç”¨æ¡ç›®ï¼ˆåé¢æ‰€æœ‰æ¡ç›®è¯¥é¡¹ä¹Ÿä¸º 0ï¼‰<br />- 0x05ï¼šæœ€åˆå­—ç¬¦ç¡®å®æ˜¯ 0xE5 æ—¶ä½¿ç”¨è¯¥å€¼æ›¿ä»£<br />- 0x2Eï¼š' ç‚¹ ' æ¡ç›®ï¼›'.' æˆ–è€… '..'<br />- 0xE5ï¼šè¿™ä¸ªæ¡ç›®æ›¾ç»è¢«åˆ é™¤ä¸å†æœ‰ç”¨ã€‚å–æ¶ˆåˆ é™¤æ–‡ä»¶å·¥å…·ä½œä¸ºå–æ¶ˆåˆ é™¤çš„ä¸€æ­¥å¿…é¡»ä½¿ç”¨ä¸€ä¸ªæ­£å¸¸çš„å­—ç¬¦å–ä»£å®ƒã€‚</td>\n</tr>\n<tr>\n<td><code>DIR_Attr</code></td>\n<td>11ï¼ˆ0Bï¼‰</td>\n<td>1</td>\n<td>æ–‡ä»¶å±æ€§æ ‡å¿—ä½ï¼ˆé«˜ <code>2</code>  ä½æ˜¯ä¿ç•™ä½ä¸”å¿…é¡»ç½®ä¸º 0ï¼‰<br />-  <code>0x01</code> ï¼šåªè¯»<br />-  <code>0x02</code> ï¼šéšè—<br />-  <code>0x04</code> ï¼šç³»ç»Ÿ<br />-  <code>0x08</code> ï¼šå·æ ‡<br />-  <code>0x10</code> ï¼šå­ç›®å½•<br />-  <code>0x20</code> ï¼šæ¡£æ¡ˆï¼ˆåªè¦å®Œæˆäº†å†™æ“ä½œå¹¶å·²å…³é—­ï¼Œåˆ™è¯¥ä½ç½®ä½ 1ï¼‰<br />-  <code>0x0F</code> : é•¿æ–‡ä»¶æ¡ç›®ï¼ˆLong File Name Entryï¼ŒLFN Entryï¼‰</td>\n</tr>\n<tr>\n<td><code>DIR_NTRes</code></td>\n<td>12ï¼ˆ0Cï¼‰</td>\n<td>1</td>\n<td>NT ä¿ç•™æ ‡å¿—ï¼ŒæŒ‡ç¤ºçŸ­æ–‡ä»¶å (SFN) çš„å¤§å°å†™ä¿¡æ¯ï¼š<br />-  <code>0x08</code> : åç§°ä¸»ä½“ä¸­çš„æ‰€æœ‰å­—æ¯å‡ä¸ºå°å†™ã€‚<br />-  <code>0x10</code> : æ‰©å±•åä¸­çš„æ‰€æœ‰å­—æ¯å‡ä¸ºå°å†™ã€‚</td>\n</tr>\n<tr>\n<td><code>DIR_CrtTimeTenth</code></td>\n<td>13ï¼ˆ0Dï¼‰</td>\n<td>1</td>\n<td>ä¸  <code>DIR_CrtTime</code>  å¯¹åº”çš„å­ç§’ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰ã€‚ <code>DIR_CrtTime</code>  çš„æ—¶é—´åˆ†è¾¨ç‡ä¸º 2 ç§’ï¼Œå› æ­¤æ­¤å­—æ®µä»¥ 10 æ¯«ç§’ä¸ºå•ä½è¡¨ç¤ºå­ç§’è®¡æ•°ï¼Œå…¶æœ‰æ•ˆå€¼èŒƒå›´ä¸º 0 åˆ° 199ã€‚å¦‚æœä¸æ”¯æŒï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º 0ï¼Œå¹¶ä¸”ä¹‹åä¸è¦æ›´æ”¹ã€‚</td>\n</tr>\n<tr>\n<td><code>DIR_CrtTime</code></td>\n<td>14</td>\n<td>2</td>\n<td>æ–‡ä»¶åˆ›å»ºæ—¶é—´ï¼ˆå¯é€‰ï¼‰ã€‚å¦‚æœä¸æ”¯æŒï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º 0ï¼Œå¹¶ä¸”ä¹‹åä¸è¦æ›´æ”¹ã€‚å°æ—¶ã€åˆ†é’Ÿå’Œç§’æ ¹æ®åé¢çš„å›¾ç¤ºæè¿°è¿›è¡Œç¼–ç ï¼š<br />-  <code>15-11ä½</code> ï¼šå°æ—¶ï¼ˆ0-23ï¼‰<br />-  <code>10-5ä½</code> ï¼šåˆ†é’Ÿï¼ˆ0-59ï¼‰<br />-  <code>4-0ä½</code> ï¼šç§’ / 2 ï¼ˆ0-29ï¼‰</td>\n</tr>\n<tr>\n<td><code>DIR_CrtDate</code></td>\n<td>16</td>\n<td>2</td>\n<td>æ–‡ä»¶åˆ›å»ºæ—¥æœŸï¼ˆå¯é€‰ï¼‰ã€‚å¦‚æœä¸æ”¯æŒï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º 0ï¼Œå¹¶ä¸”ä¹‹åä¸è¦æ›´æ”¹ã€‚å¹´ã€æœˆå’Œæ—¥æ ¹æ®åé¢çš„å›¾ç¤ºç¼–ç ï¼š<br />-  <code>15-9ä½</code> ï¼šå¹´ï¼ˆ0 = 1980, 127 = 2107ï¼‰<br />-  <code>8-5ä½</code> ï¼š æœˆï¼ˆ1 =1 æœˆï¼Œ 12 = 12 æœˆï¼‰<br />-  <code>4-0ä½</code> ï¼šæ—¥ï¼ˆ1 - 31ï¼‰</td>\n</tr>\n<tr>\n<td><code>DIR_LstAccDate</code></td>\n<td>18</td>\n<td>2</td>\n<td>æ–‡ä»¶æœ€è¿‘è®¿é—®æ—¥æœŸï¼ˆå¯é€‰ï¼‰ã€‚åˆ†è¾¨ç‡ä¸º 1 å¤©ã€‚ å¦‚æœä¸æ”¯æŒï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º 0ï¼Œå¹¶ä¸”ä¹‹åä¸è¦æ›´æ”¹ã€‚</td>\n</tr>\n<tr>\n<td><code>DIR_FstClusHI</code></td>\n<td>20</td>\n<td>2</td>\n<td>ç°‡å·çš„é«˜ 16 ä½ã€‚åœ¨ FAT12/16 å·ä¸Šå§‹ç»ˆä¸ºé›¶ã€‚</td>\n</tr>\n<tr>\n<td><code>DIR_WrtTime</code></td>\n<td>22</td>\n<td>2</td>\n<td>æ–‡ä»¶çš„æœ€åå†™å…¥æ—¶é—´ï¼ˆé€šå¸¸åœ¨æ–‡ä»¶å…³é—­æ—¶æ›´æ–°ï¼‰ï¼Œç¼–ç æ ¼å¼ä¸ <code>DIR_CrtTime</code>  ç›¸åŒã€‚</td>\n</tr>\n<tr>\n<td><code>DIR_WrtDate</code></td>\n<td>24</td>\n<td>2</td>\n<td>æ–‡ä»¶çš„æœ€åå†™å…¥æ—¥æœŸï¼ˆé€šå¸¸åœ¨æ–‡ä»¶å…³é—­æ—¶æ›´æ–°ï¼‰ï¼Œç¼–ç æ ¼å¼ä¸ <code>DIR_CrtDate</code>  ç›¸åŒã€‚</td>\n</tr>\n<tr>\n<td><code>DIR_FstClusLO</code></td>\n<td>26</td>\n<td>2</td>\n<td>ç°‡å·çš„ä½ 16 ä½ã€‚å½“æ–‡ä»¶å¤§å°ä¸º 0 æ—¶ï¼Œä¸åˆ†é…ç°‡ï¼Œæ­¤é¡¹å¿…é¡»ä¸º 0ã€‚ å¦‚æœæ˜¯ç›®å½•ï¼Œåˆ™æ­¤å€¼å§‹ç»ˆä¸ºæœ‰æ•ˆå€¼ã€‚</td>\n</tr>\n<tr>\n<td><code>DIR_FileSize</code></td>\n<td>28</td>\n<td>4</td>\n<td>æ–‡ä»¶çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ã€‚å¦‚æœæ˜¯ç›®å½•ï¼Œæ­¤å­—æ®µæœªä½¿ç”¨ï¼Œå¹¶ä¸”å…¶å€¼å¿…é¡»å§‹ç»ˆä¸º 0ã€‚</td>\n</tr>\n</tbody>\n</table>\n<p>å½“ <code>DIR_Attr</code>  ä¸º <code>0x0F</code>  æ—¶ï¼Œè¯¥ç›®å½•è¡¨çš„å­—æ®µå«ä¹‰ä¸ºï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å­—æ®µå</th>\n<th>åç§»</th>\n<th>å¤§å°</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>LDIR_Ord</code></td>\n<td>0</td>\n<td>1</td>\n<td>åºå· (1-20)ï¼Œç”¨äºæ ‡è¯†æ­¤æ¡ç›®åœ¨ç»„æˆ LFN çš„æ‰€æœ‰æ¡ç›®ä¸­çš„ä½ç½®ã€‚ <code>0x01</code>  è¡¨ç¤º LFN çš„èµ·å§‹éƒ¨åˆ†ã€‚ä»»ä½•å¸¦æœ‰ <strong>LAST_LONG_ENTRY</strong> æ ‡å¿— ( <code>0x40</code> ) çš„å€¼è¡¨ç¤º LFN çš„æœ€åä¸€éƒ¨åˆ†ã€‚</td>\n</tr>\n<tr>\n<td><code>LDIR_Name1</code></td>\n<td>1</td>\n<td>10</td>\n<td>æ–‡ä»¶åçš„ç¬¬ 1-5 ä¸ªå­—ç¬¦ï¼ˆUTF-16ï¼‰ï¼Œæœªä½¿ç”¨çš„éƒ¨åˆ†å…ˆå¡«å……ä¸¤ä¸ªå­—èŠ‚çš„ <code>0x00</code> ï¼Œç„¶åç”¨ <code>0xFF</code>  å¡«å……ã€‚</td>\n</tr>\n<tr>\n<td><code>LDIR_Attr</code></td>\n<td>11</td>\n<td>1</td>\n<td>LFN ç›®å½•å±æ€§æ ‡å¿— <code>0x0F</code></td>\n</tr>\n<tr>\n<td><code>LDIR_Type</code></td>\n<td>12</td>\n<td>1</td>\n<td>ä¿ç•™æœªä½¿ç”¨</td>\n</tr>\n<tr>\n<td><code>LDIR_Chksum</code></td>\n<td>13</td>\n<td>1</td>\n<td>æ–‡ä»¶åæ ¡éªŒå’Œ</td>\n</tr>\n<tr>\n<td><code>LDIR_Name2</code></td>\n<td>14</td>\n<td>12</td>\n<td>æ–‡ä»¶åçš„ç¬¬ 6-11 ä¸ªå­—ç¬¦ï¼ˆUTF-16ï¼‰ï¼Œæœªä½¿ç”¨çš„éƒ¨åˆ†å…ˆå¡«å……ä¸¤ä¸ªå­—èŠ‚çš„ <code>0x00</code> ï¼Œç„¶åç”¨ <code>0xFF</code>  å¡«å……ã€‚</td>\n</tr>\n<tr>\n<td><code>LDIR_FstClusLO</code></td>\n<td>26</td>\n<td>2</td>\n<td>ä¿ç•™</td>\n</tr>\n<tr>\n<td><code>LDIR_Name3</code></td>\n<td>28</td>\n<td>4</td>\n<td>æ–‡ä»¶åçš„ç¬¬ 12-13 ä¸ªå­—ç¬¦ï¼ˆUTF-16ï¼‰ï¼Œæœªä½¿ç”¨çš„éƒ¨åˆ†å…ˆå¡«å……ä¸¤ä¸ªå­—èŠ‚çš„ <code>0x00</code> ï¼Œç„¶åç”¨ <code>0xFF</code>  å¡«å……ã€‚</td>\n</tr>\n</tbody>\n</table>\n<p>ä¸€ä¸ªå®ä¾‹å¦‚ä¸‹ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/50a89.png\" alt=\"\" /></p>\n<ol>\n<li>\n<p>é€šè¿‡ç»¿è‰²çš„ <code>0x08</code>  æ ‡å¿—ç¡®å®šç¬¬ä¸€ä¸ªç›®å½•é¡¹ç±»å‹ä¸ºå·æ ‡ï¼Œå³è¯¥ FAT å·æ ‡åä¸º <code>UBUNTU-SERV</code> ï¼Œå®é™…æƒ…å†µä¹Ÿç¡®å®å¦‚æ­¤ï¼Œè¯¥ U ç›˜ä¸º Ubuntu-24.04 çš„ç³»ç»Ÿç›˜ã€‚ä¸€èˆ¬æ¥è¯´å·æ ‡åå­˜å‚¨åœ¨ DATA æ•°æ®åŒºçš„å¼€å¤´ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®¡ç®—ä¸€ä¸‹è¿›è¡ŒéªŒè¯ï¼ŒDATA åŒºçš„åœ°å€åº”è¯¥ä¸º <code>0x200 * (FATåŒºæ‰‡åŒºæ•° * 2 + ä¿ç•™åŒºæ‰‡åŒºæ•°) = 0x1000000</code> ï¼Œä¸å®é™…ç›¸ç¬¦ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è®¡ç®—å‡ºè¯¥å·æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´ä¸æ—¥æœŸï¼š</p>\n<p>æ—¶é—´ï¼š <code>0x9E55 = (10011)(110 010)(10101)</code>  å³ <code>(19):(50):(21*2)</code> ï¼Œä¹Ÿå°±æ˜¯ 19:50:42ã€‚</p>\n<p>å¹´ä»½ï¼š <code>0x596B = (0101100)(1 011)(01011) </code> å³ <code>(44)(11)(11)</code> ï¼Œä¹Ÿå°±æ˜¯ 2024 å¹´ 11 æœˆ 11 æ—¥ã€‚</p>\n<p>æ³¨æ„ï¼šå·æ ‡ç›®å½•é¡¹ç»“æ„ä¸æ™®é€šçŸ­æ–‡ä»¶åç›®å½•é¡¹ç»“æ„å®Œå…¨ç›¸åŒï¼Œä½†æ²¡æœ‰åˆ›å»ºæ—¶é—´å’Œè®¿é—®æ—¶é—´ï¼Œåªæœ‰ä¸€ä¸ª<strong>æœ€åä¿®æ”¹æ—¶é—´</strong>ã€‚å¦å¤–ï¼Œå·æ ‡ç›®å½•é¡¹ä¹Ÿæ²¡æœ‰ç°‡å·å’Œå¤§å°å€¼ï¼Œè¿™äº›å­—èŠ‚ä½ç½®å…¨éƒ¨è¿™åªä¸º  <code>0</code> ã€‚</p>\n</li>\n<li>\n<p>ç»¿è‰²æ ‡å¿—ä½ç¡®å®šè¿™ä¸¤é¡¹éƒ½æ˜¯ <code>LFN</code>  é¡¹ï¼ŒLFN æœ‰ä¸€äº›ç‰¹æ®Šçš„è§„åˆ™ï¼š</p>\n<ul>\n<li>\n<p>å¦‚æœä¸€ä¸ªæ–‡ä»¶çš„æ–‡ä»¶åè¶…è¿‡äº† 8 ä¸ªå­—ç¬¦ï¼Œåˆ™ä¼šå°†å…¶åå­—æˆªçŸ­åä¸ºå…¶å»ºç«‹çŸ­æ–‡ä»¶åï¼ˆShort File Nameï¼Œ SFNï¼‰ã€‚å°†çŸ­æ–‡ä»¶åå­˜å‚¨åœ¨çŸ­æ–‡ä»¶åç›®å½•é¡¹ä¸­ã€‚é•¿æ–‡ä»¶ååˆ™å­˜æ”¾åœ¨é•¿æ–‡ä»¶åç›®å½•é¡¹ä¸­ã€‚</p>\n</li>\n<li>\n<p>LFN é¡¹ä¸­çš„æ–‡ä»¶åä½¿ç”¨ UTF-16 ç¼–ç ï¼Œå­˜å‚¨ 13 ä¸ª Unicode å­—ç¬¦çš„æ–‡ä»¶åï¼Œæ¯ä¸ªå­—ç¬¦å ç”¨ä¸¤ä¸ªå­—èŠ‚ï¼Œå¦‚æœæ–‡ä»¶åé•¿äº 13 ä¸ªå­—ç¬¦ï¼Œåˆ™ç»§ç»­ä¸ºå…¶åˆ†é… LFN é¡¹ï¼ŒçŸ¥é“å¤Ÿç”¨ä¸ºæ­¢ã€‚</p>\n</li>\n<li>\n<p>ä¸€ä¸ªæ–‡ä»¶çš„æ‰€æœ‰ LFN é¡¹æŒ‰å€’åºæ’åˆ—åœ¨å®ƒçš„ SFN é¡¹å‰é¢ï¼Œå³æ–‡ä»¶åçš„ç¬¬ä¸€éƒ¨åˆ†è·ç¦» SFN æ˜¯æœ€è¿‘çš„ã€‚</p>\n</li>\n<li>\n<p>LFN é¡¹ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸ºåºå·ä½ï¼Œè·ç¦» SFN æœ€è¿‘çš„ä¸€ä¸ª LFN é¡¹åºå·ä¸º 1ï¼Œ å¦‚æœåç»­è¿˜æœ‰ LFN é¡¹ï¼Œåˆ™ä¾æ¬¡å‘åé€’å¢ä¸º 2ï¼Œ 3ï¼Œ... æœ€åä¸€ä¸ª LFN å—çš„åºå·éœ€è¦å¼‚æˆ–ä¸Š <code>0x40</code> ï¼Œåœ¨ä¸Šå›¾ä¸­ï¼Œç”±äºç¬¬äºŒä¸ª LFN é¡¹å°±æ˜¯æœ€åä¸€ä¸ª LFN é¡¹ï¼Œæ‰€ä»¥å…¶åºå·ä¸º  <code>0x42 = 0x40 | 0x02</code> ã€‚</p>\n</li>\n<li>\n<p>æ¯ä¸ª LFN æ¡ç›®åœ¨  <code>LDIR_Chksum</code>  ä¸­éƒ½æœ‰ä¸€ä¸ªæ ¡éªŒå’Œï¼ŒåŒä¸€ä¸ªæ–‡ä»¶çš„æ‰€æœ‰ LFN é¡¹çš„æ ¡éªŒå’Œéƒ½ç›¸åŒï¼Œæ­¤å¤–ï¼Œæ ¡éªŒå’Œè¿˜è¢«ç”¨äºç¡®ä¿ LFN å’Œ SFN ä¹‹é—´çš„ç›¸å…³æ€§ã€‚æ ¡éªŒå’Œçš„ç”Ÿæˆç®—æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">uint8_t</span> <span class=\"token function\">create_sum</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> DIR<span class=\"token operator\">*</span> entry<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token class-name\">uint8_t</span> sum<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">11</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">/* Calculate sum of DIR_Name[] field */</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        sum <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sum <span class=\"token operator\">>></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>sum <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> entry<span class=\"token operator\">-></span>DIR_Name<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">return</span> sum<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><details class=\"primary\"><summary>æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªç®€å•çš„å°ç¨‹åºæ¥éªŒè¯ä¸€ä¸‹</summary><div>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdint.h></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token class-name\">uint8_t</span> sum<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token class-name\">uint8_t</span> DIR_name<span class=\"token punctuation\">[</span><span class=\"token number\">11</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token number\">0x53</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x59</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x53</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x54</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x45</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x4D</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x7e</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x20</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> sum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">11</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        sum <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sum <span class=\"token operator\">>></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>sum <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> DIR_name<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sum = %#X\\n\"</span><span class=\"token punctuation\">,</span> sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// Output: sum = 0X72</span></pre></td></tr></table></figure><p>ä¸æ£•è‰²æ ‡å‡ºçš„æ ¡éªŒå’Œä¸€è‡´ã€‚</p>\n</div></details>\n</li>\n<li>\n<p>å½“æ–‡ä»¶åæ²¡æœ‰å æ»¡ä¸€ä¸ª LFN é¡¹æ—¶ï¼Œéœ€è¦å…ˆå¡«å……ä¸¤ä¸ªå­—èŠ‚çš„ <code>0x00</code> ï¼Œä¹Ÿå°±æ˜¯ <code>0x3E-0x3F</code>  ä½ç½®çš„å¡«å……çš„å†…å®¹ï¼Œå¦‚æœä»æœ‰ç©ºä½™ç©ºé—´ï¼Œåˆ™åº”è¯¥åœ¨æ‰€æœ‰å­—ç¬¦ä½å¡«å…… <code>0xFF</code> ã€‚</p>\n</li>\n</ul>\n</li>\n<li>\n<p>å¯¹äºçŸ­æ–‡ä»¶åï¼ˆSFNï¼‰ç›®å½•é¡¹æ¥è¯´ï¼Œå¦‚æœæ–‡ä»¶åä¸è¶³ 8 ä¸ªå­—ç¬¦ï¼Œç”¨ 0x20 è¿›è¡Œå¡«å……ã€‚å½“æ–‡ä»¶åè¶…è¿‡ 8 ä¸ªå­—ç¬¦æ—¶åˆ™ä¼šè¢«æˆªçŸ­ï¼Œå› ä¸ºçŸ­æ–‡ä»¶åç›®å½•é¡¹ä¸­æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´è®°å½•è¶…å‡ºçš„éƒ¨åˆ†ã€‚æˆªçŸ­çš„æ–¹æ³•æ˜¯å–æ–‡ä»¶åçš„å‰ 6 ä¸ªå­—ç¬¦åŠ ä¸Š <code>~1 (0x7E 0x31)</code> ï¼ˆå¦‚æœæœ‰åŒåæ–‡ä»¶ï¼Œåˆ™ä¼šä¾æ¬¡é€’å¢è¯¥æ•°å€¼ï¼‰ï¼Œç„¶ååŠ ä¸Šå…¶æ‰©å±•åã€‚è¿™é‡Œç»¿è‰²æ ‡å¿—ä½ç¡®å®šæ”¹é¡¹ä¸ºä¸€ä¸ªå­ç›®å½•é¡¹ï¼Œä¸”å…·æœ‰ä¸¤ä¸ªå±æ€§ï¼šéšè—å’Œç³»ç»Ÿã€‚å½“ç›®å½•é¡¹ç±»å‹ä¸ºå­ç›®å½•æ—¶ï¼Œåˆ™å°†æ‰©å±•åéƒ¨åˆ†ç”¨ â€œ0x20â€ è¿›è¡Œå¡«å……ã€‚</p>\n<p>å¯ä»¥çœ‹åˆ°è¯¥å­ç›®å½•æ‰€åœ¨ç°‡å·ä¸º 3 å·ï¼Œç”±äºåœ¨è¯¥æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªç°‡åŒ…å« 16 ä¸ªæ‰‡åŒºï¼Œæ‰€ä»¥åœ¨ <code>0x10020000</code>  åç§»å¤„å°±æ˜¯ 3 å·ç°‡ï¼Œå…¶ä¸­è®°å½•ç€ <code>System Volume Information</code>  ç›®å½•å†…çš„å†…å®¹ã€‚</p>\n</li>\n</ol>\n<p><strong>æ³¨æ„</strong>ï¼šä» windows95 å¼€å§‹ï¼Œä¸ç®¡æ–‡ä»¶åçš„é•¿åº¦æ˜¯å¦è¶…è¿‡ 8 ä¸ªå­—ç¬¦ï¼Œéƒ½ä¼š<ins class=\"wavy\">åŒæ—¶ä¸ºå…¶åˆ›å»º SFN ç›®å½•é¡¹å’Œ LFN ç›®å½•é¡¹</ins> ï¼Œå› ä¸ºçŸ­æ–‡ä»¶åä¸åŒºåˆ†å¤§å°å†™ï¼Œè€Œé•¿æ–‡ä»¶ååˆ™æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚è¿™ä¸€ç‚¹ä¹Ÿå¯ä»¥åœ¨ä¸‹åˆ—çš„ <code>[boot]</code>  å­ç›®å½•é¡¹çš„æ ¼å¼ä¸­å¾—åˆ°éªŒè¯ã€‚ï¼ˆä¹‹æ‰€ä»¥åœ¨ SFN ä¸­ <code>[boot]</code>  è¢«æ›¿æ¢ä¸º <code>_BOOT_</code> æ˜¯å› ä¸º <code>[]</code>  å¹¶ä¸æ˜¯åˆæ³•çš„ DOS æ–‡ä»¶åå­—ç¬¦ï¼Œæ‰€ä»¥å‘ç”Ÿäº†æ›¿æ¢ï¼Œåˆæ³•çš„ DOS å­—ç¬¦åŒ…æ‹¬ï¼š</p>\n<figure class=\"highlight txt\"><figcaption data-lang=\"txt\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>0ï½9 Aï½Z ! # $ % &amp; ' ( ) - @ ^ _  \\` &#123; &#125; ~</pre></td></tr></table></figure><h1 id=\"fat32-å·¥ä½œè¿‡ç¨‹\"><a class=\"anchor\" href=\"#fat32-å·¥ä½œè¿‡ç¨‹\">#</a> FAT32 å·¥ä½œè¿‡ç¨‹</h1>\n<h2 id=\"å»ºç«‹æ–‡ä»¶\"><a class=\"anchor\" href=\"#å»ºç«‹æ–‡ä»¶\">#</a> å»ºç«‹æ–‡ä»¶</h2>\n<p>å‡è®¾åœ¨è·Ÿç›®å½•ä¸‹ç”±ä¸€ä¸ªå­ç›®å½•ï¼Œåå­—ä¸º <code>test</code> ï¼Œæˆ‘ä»¬è¦åœ¨å…¶ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ <code>example.txt</code> ã€‚ä½¿ç”¨ <code>FAT32</code>  æ–‡ä»¶ç³»ç»Ÿï¼Œä¸€ä¸ªç°‡çš„å¤§å°ä¸º <code>4096</code>  å­—èŠ‚ï¼ˆä¸€ä¸ªç°‡ <code>8</code>  ä¸ªæ‰‡åŒºï¼Œæ¯ä¸ªæ‰‡åŒº <code>512</code>  å­—èŠ‚ï¼‰ï¼Œæˆ‘ä»¬è¦å»ºç«‹çš„æ–‡ä»¶å¤§å°ä¸º <code>5000</code>  å­—èŠ‚ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>è¯»å–ä½äºå· 0 å·æ‰‡åŒºçš„å¼•å¯¼æ‰‡åŒºï¼Œæ ¹æ®å¼•å¯¼æ‰‡åŒºä¸­çš„ä¿¡æ¯å®šä½ FAT è¡¨ã€æ•°æ®åŒºå’Œæ ¹ç›®å½•çš„ä½ç½®ã€‚</li>\n<li>æŸ¥çœ‹æ ¹ç›®å½•ä¸‹çš„æ¯ä¸ªç›®å½•é¡¹ï¼Œå¯»æ‰¾åå­—ä¸º <code>test</code>  ä¸”å…·æœ‰ç›®å½•å±æ€§çš„ç›®å½•é¡¹ã€‚æ‰¾åˆ°åï¼ŒæŸ¥çœ‹å®ƒçš„èµ·å§‹ç°‡å·ä¸º 3ã€‚</li>\n<li>è¯»å– 3 å·ç°‡çš„å†…å®¹ï¼ŒæŸ¥æ‰¾æ¯ä¸ªç›®å½•é¡¹ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæœªåˆ†é…çš„ç›®å½•é¡¹ï¼ˆç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º <code>0x00</code> ï¼‰ã€‚</li>\n<li>æ‰¾åˆ°å¯ç”¨é¡¹åå†™å…¥æ–‡ä»¶å â€œexample.txtâ€ï¼Œå¹¶å°†æ–‡ä»¶å¤§å°å’Œå½“å‰æ—¶é—´å†™å…¥ç›¸åº”çš„ä½ç½®ã€‚</li>\n<li>ä¸ºæ–‡ä»¶å†…å®¹åˆ†é…ç°‡ç©ºé—´ã€‚è½¬åˆ° FAT è¡¨ï¼Œå¯»æ‰¾ç©ºé—²çš„ä½ç½®ã€‚å‘ç° 4 å· FAT è¡¨é¡¹æœªä½¿ç”¨ï¼Œè¿™å°±è¯´æ˜ 4 å·ç°‡æ˜¯ç©ºé—²çš„ã€‚å°† 4 å·ç°‡åˆ†é…ç»™æ–‡ä»¶ï¼Œå¹¶åœ¨ 4 å·ç°‡çš„ FAT è¡¨é¡¹å†…å†™å…¥ç»“æŸæ ‡è®°ã€‚</li>\n<li>å°†ç°‡å· 4 å†™å…¥ <code>example.txt</code>  æ–‡ä»¶ç›®å½•é¡¹çš„èµ·å§‹ç°‡å·åŒºåŸŸã€‚å°†æ–‡ä»¶çš„å‰ 4096 å­—èŠ‚å†™å…¥åˆ° 4 å·ç°‡ä¸­ï¼Œè¿˜å‰©ä¸‹  <code>904</code>  å­—èŠ‚ï¼Œæ‰€ä»¥è¿˜éœ€è¦å†ä¸ºå…¶åˆ†é…ä¸€ä¸ªç°‡ã€‚</li>\n<li>åœ¨ FAT è¡¨ä¸­ç»§ç»­å¯»æ‰¾æœªåˆ†é…ç°‡ï¼Œæ‰¾åˆ° 5 å·ç°‡ä¸ºç©ºé—²æœªä½¿ç”¨ï¼ˆ FAT è¡¨é¡¹ä¸º 0ï¼‰ã€‚</li>\n<li>å°† <code>example.txt</code>  çš„ç¬¬ä¸€ä¸ªç°‡ï¼ˆå³ 4 å·ç°‡ï¼‰çš„ FAT è¡¨é¡¹å€¼æ”¹å†™ä¸º 5ï¼Œå°†æ–‡ä»¶çš„æœ€å  <code>904</code>  å­—èŠ‚å†™å…¥ 5 å·ç°‡ã€‚</li>\n<li>åœ¨ 5 å·ç°‡çš„ FAT è¡¨é¡¹å†…å†™å…¥ç»“æŸæ ‡è®°ã€‚</li>\n</ol>\n<h2 id=\"åˆ é™¤æ–‡ä»¶\"><a class=\"anchor\" href=\"#åˆ é™¤æ–‡ä»¶\">#</a> åˆ é™¤æ–‡ä»¶</h2>\n<p>å°†æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ <code>/test/example.txt</code>  æ–‡ä»¶åˆ é™¤ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>ä»å· 0 å·æ‰‡åŒºè¯»å–å¼•å¯¼æ‰‡åŒºï¼Œæ ¹æ®å¼•å¯¼æ‰‡åŒºä¸­çš„ä¿¡æ¯å®šä½ FAT è¡¨ã€æ•°æ®åŒºå’Œæ ¹ç›®å½•çš„ä½ç½®ã€‚</li>\n<li>åœ¨æ ¹ç›®å½•ä¸‹å¯»æ‰¾åå­—ä¸º <code>test</code>  ä¸”å…·æœ‰ç›®å½•å±æ€§çš„ç›®å½•é¡¹ã€‚</li>\n<li>ï¼šç”± <code>test</code>  çš„ç›®å½•é¡¹ä¸­è·å–å®ƒçš„èµ·å§‹ç°‡å·ä¸º 3ï¼Œåˆ° 3 å·ç°‡æŸ¥çœ‹ <code>test</code>  æ–‡ä»¶å¤¹å†…çš„å†…å®¹ï¼Œä»ä¸­æ‰¾åˆ°æ–‡ä»¶ <code>example.txt</code>  çš„ç›®å½•é¡¹ï¼Œæå–å‡ºå®ƒçš„èµ·å§‹ç°‡å·ï¼Œä¸º 4 å·ç°‡ã€‚</li>\n<li>åˆ° FAT è¡¨ä¸­æ‰¾åˆ°è¯¥æ–‡ä»¶çš„ç°‡é“¾ï¼Œç¡®å®šä»–çš„å­˜å‚¨ä½ç½®ä¸º 4 å·ç°‡å’Œ 5 å·ç°‡ã€‚</li>\n<li>å°† 4 å·ç°‡å’Œ 5 å·ç°‡çš„ FAT é¡¹è®¾ç½®ä¸º 0ï¼Œè¡¨ç¤ºè¿™ä¸¤ä¸ªç°‡æœªè¢«å ç”¨ï¼Œå¯ä»¥è¢«é‡æ–°åˆ†é…ã€‚</li>\n<li>å°†æ–‡ä»¶ <code>example.txt</code>  çš„ç›®å½•é¡¹çš„ç¬¬ä¸€ä¸ªå­—èŠ‚æ”¹ä¸º  <code>0xE5</code> ã€‚</li>\n</ol>\n<h2 id=\"ç´¢å¼•æ–‡ä»¶\"><a class=\"anchor\" href=\"#ç´¢å¼•æ–‡ä»¶\">#</a> ç´¢å¼•æ–‡ä»¶</h2>\n<p>ç´¢å¼•æ–‡ä»¶çš„è¿‡ç¨‹å…¶å®å°±æ˜¯åˆ é™¤æ–‡ä»¶çš„å‰ 4 æ­¥ï¼Œæ¯”è¾ƒç®€å•ï¼Œå°±ä¸èµ˜è¿°äº†ã€‚</p>\n",
            "tags": [
                "æ“ä½œç³»ç»Ÿ",
                "æ–‡ä»¶ç³»ç»Ÿ",
                "æ“ä½œç³»ç»Ÿ",
                "æ–‡ä»¶ç³»ç»Ÿ",
                "FAT32",
                "FAT"
            ]
        },
        {
            "id": "https://gality.cn/misc/trail-and-error/CLion-CMake/",
            "url": "https://gality.cn/misc/trail-and-error/CLion-CMake/",
            "title": "CLionæ„å»ºè¿œç¨‹CMakeå¼€å‘ç¯å¢ƒ",
            "date_published": "2024-06-13T01:59:17.000Z",
            "content_html": "<div class=\"note info no-icon\">\n<p><strong>ç¤ºä¾‹ç¯å¢ƒï¼š</strong></p>\n<ul>\n<li>äº‘ä¸»æœºï¼ˆCLion clientï¼‰ï¼šUbuntu 20.04 LTS + CLion-241.14494.229 (CLion 2024.1 RC)</li>\n<li>æœ¬æœºï¼ˆCLion hostï¼‰ï¼š macOS Sonoma 14.5 + CLion Build #CL-241.17890.19 (CLion 2024.1.3)</li>\n</ul>\n</div>\n<div class=\"note primary no-icon\">\n<p><strong>Troubleshootingï»¿ï¼š</strong></p>\n<ol>\n<li><a href=\"#1-%E8%BF%9C%E7%A8%8B%E7%8E%AF%E5%A2%83%E4%B8%8B%E8%BD%BDclion-client%E5%8D%A1%E4%BD%8F%E4%B8%8B%E8%BD%BD%E7%BC%93%E6%85%A2\">è¿œç¨‹ç¯å¢ƒä¸‹è½½ CLion Client å¡ä½ / ä¸‹è½½ç¼“æ…¢</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AEcmake\">è¿œç¨‹ç¯å¢ƒæ— æ³•è¯†åˆ« CMake é¡¹ç›®ï¼ˆåœ¨ CMakeLists.txt ä¸Šå³é”®æ²¡æœ‰ Reload CMake Project é€‰é¡¹ ï¼‰</a></li>\n<li><a href=\"#3-cmake%E7%89%88%E6%9C%AC%E4%B8%8D%E5%8C%B9%E9%85%8D\">CMake ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œéœ€æ‰‹åŠ¨å‡çº§</a></li>\n<li><a href=\"#4-%E6%89%BE%E4%B8%8D%E5%88%B0llvm-12\">æ‰¾ä¸åˆ° llvm-12</a></li>\n<li><a href=\"#5-%E8%B0%83%E8%AF%95%E6%97%B6%E6%97%A0%E6%95%88%E6%96%AD%E7%82%B9%E9%97%AE%E9%A2%98\">è°ƒè¯•æ—¶æ— æ•ˆæ–­ç‚¹é—®é¢˜</a></li>\n</ol>\n</div>\n<h1 id=\"è¿œç¨‹ç¯å¢ƒæ„å»º\"><a class=\"anchor\" href=\"#è¿œç¨‹ç¯å¢ƒæ„å»º\">#</a> è¿œç¨‹ç¯å¢ƒæ„å»º</h1>\n<p>æœ¬èŠ‚å°†ä»ä¸€å°æ²¡æœ‰ä»»ä½•å¼€å‘ç¯å¢ƒçš„çº¯å‡€ Ubuntu å¼€å§‹é…ç½®å¼€å‘è¿œç¨‹å¼€å‘ C/C++ çš„å¼€å‘ç¯å¢ƒï¼Œè¯»è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µè‡ªç”±é€‰æ‹©ä»ä½•å¤„å¼€å§‹ã€‚</p>\n<h2 id=\"é…ç½®ccç¯å¢ƒ\"><a class=\"anchor\" href=\"#é…ç½®ccç¯å¢ƒ\">#</a> é…ç½® C/C++ ç¯å¢ƒ</h2>\n<p>é¦–å…ˆæ›´æ–°ç³»ç»Ÿï¼Œä¿è¯åç»­å®‰è£…çš„è½¯ä»¶éƒ½æ˜¯æœ€æ–°çš„ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> upgrade</pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯å®‰è£…å¼€å‘ C/C++ çš„å¿…è¦å·¥å…·ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> build-essential gdb cmake</pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å„ä¸ªå·¥å…·çš„ç‰ˆæœ¬ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â¯ gcc <span class=\"token parameter variable\">--version</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>gcc <span class=\"token punctuation\">(</span>Ubuntu <span class=\"token number\">9.4</span>.0-1ubuntu1~20.04.2<span class=\"token punctuation\">)</span> <span class=\"token number\">9.4</span>.0</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Copyright <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2019</span> Free Software Foundation, Inc.</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>This is <span class=\"token function\">free</span> software<span class=\"token punctuation\">;</span> see the <span class=\"token builtin class-name\">source</span> <span class=\"token keyword\">for</span> copying conditions.  There is NO</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>warranty<span class=\"token punctuation\">;</span> not even <span class=\"token keyword\">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>â¯ g++ <span class=\"token parameter variable\">--version</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>g++ <span class=\"token punctuation\">(</span>Ubuntu <span class=\"token number\">9.4</span>.0-1ubuntu1~20.04.2<span class=\"token punctuation\">)</span> <span class=\"token number\">9.4</span>.0</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Copyright <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2019</span> Free Software Foundation, Inc.</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>This is <span class=\"token function\">free</span> software<span class=\"token punctuation\">;</span> see the <span class=\"token builtin class-name\">source</span> <span class=\"token keyword\">for</span> copying conditions.  There is NO</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>warranty<span class=\"token punctuation\">;</span> not even <span class=\"token keyword\">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>â¯ <span class=\"token function\">make</span> <span class=\"token parameter variable\">--version</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>GNU Make <span class=\"token number\">4.2</span>.1</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>Built <span class=\"token keyword\">for</span> x86_64-pc-linux-gnu</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>Copyright <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">1988</span>-2016 Free Software Foundation, Inc.</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>License GPLv3+: GNU GPL version <span class=\"token number\">3</span> or later <span class=\"token operator\">&lt;</span>http://gnu.org/licenses/gpl.html<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>This is <span class=\"token function\">free</span> software: you are <span class=\"token function\">free</span> to change and redistribute it.</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>There is NO WARRANTY, to the extent permitted by law.</pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>â¯ gdb <span class=\"token parameter variable\">--version</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>GNU gdb <span class=\"token punctuation\">(</span>Ubuntu <span class=\"token number\">9.2</span>-0ubuntu1~20.04.1<span class=\"token punctuation\">)</span> <span class=\"token number\">9.2</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>Copyright <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2020</span> Free Software Foundation, Inc.</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>License GPLv3+: GNU GPL version <span class=\"token number\">3</span> or later <span class=\"token operator\">&lt;</span>http://gnu.org/licenses/gpl.html<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>This is <span class=\"token function\">free</span> software: you are <span class=\"token function\">free</span> to change and redistribute it.</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>There is NO WARRANTY, to the extent permitted by law.</pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>â¯ cmake <span class=\"token parameter variable\">--version</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>cmake version <span class=\"token number\">3.16</span>.3</pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>CMake suite maintained and supported by Kitware <span class=\"token punctuation\">(</span>kitware.com/cmake<span class=\"token punctuation\">)</span>.</pre></td></tr></table></figure><p>å¦‚æœæƒ³ä½¿ç”¨ <code>LLVM+Clang</code>  ä½œä¸ºæ„å»ºå·¥å…·ä¹Ÿå¯ä»¥ï¼ˆä»¥ llvm-12 ä¸ºä¾‹ï¼‰ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> llvm-12 clang-12 lldb-12</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># é»˜è®¤ä½¿ç”¨ 12 ç‰ˆæœ¬çš„ llvm</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">sudo</span> update-alternatives <span class=\"token parameter variable\">--install</span> /usr/bin/llvm llvm /usr/bin/llvm-12 <span class=\"token number\">100</span> <span class=\"token comment\"># è¿™è¡Œå¯èƒ½ä¼šå¤±è´¥</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">sudo</span> update-alternatives <span class=\"token parameter variable\">--install</span> /usr/bin/clang clang /usr/bin/clang-12 <span class=\"token number\">100</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">sudo</span> update-alternatives <span class=\"token parameter variable\">--install</span> /usr/bin/clang++ clang++ /usr/bin/clang++-12 <span class=\"token number\">100</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">sudo</span> update-alternatives <span class=\"token parameter variable\">--install</span> /usr/bin/lldb lldb /usr/bin/lldb-12 <span class=\"token number\">100</span></pre></td></tr></table></figure><div class=\"note warning no-icon\">\n<p>å¦‚æœ <code>sudo update-alternatives --install /usr/bin/llvm llvm /usr/bin/llvm-12 100</code>  å¤±è´¥ï¼Œå‚è€ƒ<a href=\"#4-%E6%89%BE%E4%B8%8D%E5%88%B0llvm-12\"> Troubleshooting-4</a>ã€‚</p>\n</div>\n<h2 id=\"é…ç½®clion-remote-client\"><a class=\"anchor\" href=\"#é…ç½®clion-remote-client\">#</a> é…ç½® CLion Remote Client</h2>\n<p>æŒ‰å¦‚ä¸‹æ­¥éª¤æ“ä½œï¼Œå¦‚æœåœ¨è¿œç¨‹ä¸»æœºä¸Šçš„ä¸‹è½½è¿‡ç¨‹æ²¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆåœ¨ä¸‹è½½å®Œæˆå CLion å°†è‡ªåŠ¨æ‰“å¼€åœ¨ç¬¬å››æ­¥ä¸­æŒ‡å®šçš„ç›®å½•ï¼Œå¦‚æœæ²¡æœ‰æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç¬¬ä¸€æ­¥çš„é¡µé¢æ‰“å¼€ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/bnln13.png\" alt=\"é…ç½®CLionè¿œç¨‹ç¯å¢ƒ\" /></p>\n<p>Jetbrains çš„ EAPï¼ˆæŠ¢å…ˆä½“éªŒè®¡åˆ’ï¼ŒEarly Access Programï¼‰ç‰ˆæœ¬æ˜¯ä¸€ä¸ªå¯ä»¥å…è´¹ä½¿ç”¨ä¸”åŠŸèƒ½æ— é˜‰å‰²çš„æŠ¢å…ˆè¯•ç”¨ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šæœ‰äº›ä¸ç¨³å®šä¸”éœ€è¦æ¯ 30 å¤©é‡è£…ä¸€æ¬¡ï¼Œæœ‰æ¡ä»¶çš„è¯å¯ä»¥åœ¨ç¬¬å››æ­¥ä¸­é€‰æ‹© RCï¼ˆRemote Clientï¼‰ç‰ˆæœ¬å®‰è£…ã€‚</p>\n<div class=\"note warning no-icon\">\n<p>å¦‚æœåœ¨ç¬¬å››æ­¥åï¼Œè¿œç¨‹ä¸»æœºçš„ä¸‹è½½è¿‡ç¨‹éå¸¸ç¼“æ…¢æˆ–ä¸‹è½½å¤±è´¥ï¼Œå‚è€ƒ<a href=\"#1-%E8%BF%9C%E7%A8%8B%E7%8E%AF%E5%A2%83%E4%B8%8B%E8%BD%BDclion-client%E5%8D%A1%E4%BD%8F%E4%B8%8B%E8%BD%BD%E7%BC%93%E6%85%A2\"> Troubleshooting-1</a>ã€‚</p>\n</div>\n<h2 id=\"é…ç½®cmake\"><a class=\"anchor\" href=\"#é…ç½®cmake\">#</a> é…ç½® CMake</h2>\n<p>Settings -&gt; Build, Execution, Deployment -&gt; Toolchains</p>\n<p>å…ˆåˆ æ‰é»˜è®¤é…ç½®ï¼Œç„¶åæ–°å¢ä¸€ä¸ª <code>Remote Host</code>  çš„é…ç½®:</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/25wbsr.png\" alt=\"CMakeé…ç½®\" /></p>\n<p>å¦‚æœæŒ‰ç…§å‰é¢çš„æ­¥éª¤è£…å¥½äº† CMake ç­‰å·¥å…·ï¼Œæ­¤å¤„åº”è¯¥å¯ä»¥ç›´æ¥è¯†åˆ«å‡ºå„ç§å·¥å…·çš„ç‰ˆæœ¬ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚ç„¶åé…ç½® CMake ç¯å¢ƒå³å¯ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/g0y2no.png\" alt=\"cmakeé…ç½®\" /></p>\n<p>é‡æ–°æ‰“å¼€è¿œç¨‹ç¯å¢ƒï¼Œæ­¤æ—¶ CLion å°±å¯ä»¥æ­£ç¡®è¯†åˆ« CMake é¡¹ç›®å¹¶æ­£å¸¸ç¼–è¯‘ &amp; è°ƒè¯•äº†</p>\n<h1 id=\"troubleshooting\"><a class=\"anchor\" href=\"#troubleshooting\">#</a> Troubleshooting</h1>\n<h2 id=\"1-è¿œç¨‹ç¯å¢ƒä¸‹è½½clion-clientå¡ä½ä¸‹è½½ç¼“æ…¢\"><a class=\"anchor\" href=\"#1-è¿œç¨‹ç¯å¢ƒä¸‹è½½clion-clientå¡ä½ä¸‹è½½ç¼“æ…¢\">#</a> 1. è¿œç¨‹ç¯å¢ƒä¸‹è½½ CLion Client å¡ä½ / ä¸‹è½½ç¼“æ…¢</h2>\n<p>ç”±äºä¸‹è½½ç«™æ˜¯ Jetbrains å®˜æ–¹ç«™ï¼Œå›½æœ¬éƒ¨åˆ†æ—¶é—´ç½‘ç»œç¯å¢ƒå¯èƒ½ä¸å¤ªå¥½ï¼Œå¯¼è‡´ä¸‹è½½è¿›åº¦ç¼“æ…¢æˆ–ä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ­¥éª¤æ“ä½œï¼š</p>\n<ol>\n<li>\n<p>ç™»å…¥è¿œç¨‹ä¸»æœºï¼Œåœ¨ç”¨æˆ·å®¶ç›®å½•ä¸‹ <code>cat wget-log</code></p>\n</li>\n<li>\n<p>åœ¨æ—¥å¿—ä¸­æ‰¾åˆ°å®é™…çš„ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb3dubG9hZC5qZXRicmFpbnMuY29tL2NwcC9DTGlvbi0yNDEuMTQ0OTQuMjI5LnRhci5neg==\">https://download.jetbrains.com/cpp/CLion-241.14494.229.tar.gz</span></p>\n</li>\n<li>\n<p>æœ¬åœ°ä¸‹è½½åé€šè¿‡ä¸‹é¢æ“ä½œä¸Šä¼ åˆ°äº‘ä¸»æœºä¸­ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/h6hawz.png\" alt=\"ä¸Šä¼ RC\" /></p>\n</li>\n</ol>\n<h2 id=\"2-æ— æ³•è¯†åˆ«cmakeé¡¹ç›®\"><a class=\"anchor\" href=\"#2-æ— æ³•è¯†åˆ«cmakeé¡¹ç›®\">#</a> 2. æ— æ³•è¯†åˆ« CMake é¡¹ç›®</h2>\n<p>æœªé…ç½®åˆ° Toolchains å¯¼è‡´çš„ï¼Œå‚è€ƒ<a href=\"#%E9%85%8D%E7%BD%AEcmake\">é…ç½® CMake</a></p>\n<h2 id=\"3-cmakeç‰ˆæœ¬ä¸åŒ¹é…\"><a class=\"anchor\" href=\"#3-cmakeç‰ˆæœ¬ä¸åŒ¹é…\">#</a> 3. CMake ç‰ˆæœ¬ä¸åŒ¹é…</h2>\n<p>é»˜è®¤å®‰è£…çš„ <code>CMake</code>  ç‰ˆæœ¬æ¯”è¾ƒä½ï¼Œå¦‚æœé¡¹ç›®çš„ CMake çš„æœ€ä½ç‰ˆæœ¬è¦æ±‚æ¯”ä»·é«˜çš„è¯éœ€è¦æ‰‹åŠ¨å‡çº§ CMakeï¼š</p>\n<ol>\n<li>åœ¨<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbWFrZS5vcmcvZmlsZXMv\">å®˜ç½‘</span>ä¸‹è½½æ‰€éœ€ç‰ˆæœ¬çš„ CMakeï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbWFrZS5vcmcvZmlsZXMvdjMuMjcvY21ha2UtMy4yNy42LWxpbnV4LXg4Nl82NC50YXIuZ3o=\">cmake-3.27.6-linux-x86_64.tar.gz</span></li>\n<li>ä¸Šä¼ åˆ°äº‘ä¸»æœºä¸­å¹¶è§£å‹ï¼š <code>tar zxvf cmake-3.27.6-linux-x86_64.tar.gz</code></li>\n<li><code>sudo mv cmake-3.27.6-linux-x86_64 /opt/cmake-3.27.6</code></li>\n<li><code>sudo ln -sf /opt/cmake-3.27.6/bin/* /usr/bin/</code></li>\n<li>ä½¿ç”¨ <code>cmake --version</code>  æµ‹è¯•ç‰ˆæœ¬æ˜¯å¦æˆåŠŸæ›´æ–°</li>\n</ol>\n<h2 id=\"4-æ‰¾ä¸åˆ°llvm-12\"><a class=\"anchor\" href=\"#4-æ‰¾ä¸åˆ°llvm-12\">#</a> 4. æ‰¾ä¸åˆ° llvm-12</h2>\n<p>å¦‚æœ <code>sudo update-alternatives --install /usr/bin/llvm llvm /usr/bin/llvm-12 100</code>  å¤±è´¥ï¼Œæ˜¯å› ä¸ºè¿™æ ·ä¸‹è½½çš„ ``llvm <code>æ²¡æœ‰æä¾›ä¸€ä¸ªç»Ÿä¸€çš„ç®¡ç†å…¥å£ï¼Œå„ä¸ª</code>  llvm` å·¥å…·æ˜¯åˆ†å¼€å®‰è£…çš„ï¼Œå¯ä»¥é€šè¿‡ä¸‹è¿°å‘½ä»¤åˆ—å‡ºæ‰€æœ‰å·¥å…·ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">ls</span> /usr/bin/llvm*12</pre></td></tr></table></figure><p>å¦‚æœä¸éœ€è¦ç”¨åˆ° <code>llvm-as</code>  è¿™ç±»å·¥å…·çš„è¯å¯ä»¥ä¸ç”¨ç®¡ä»–ï¼Œå¦‚æœéœ€è¦ç”¨åˆ°çš„è¯ï¼Œåˆ™éœ€è¦å•ç‹¬ä¸ºè¿™äº›å·¥å…·è®¾ç½® <code>update-alternatives</code> ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> update-alternatives <span class=\"token parameter variable\">--install</span> /usr/bin/llvm-config llvm-config /usr/bin/llvm-config-12 <span class=\"token number\">100</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> update-alternatives <span class=\"token parameter variable\">--install</span> /usr/bin/llvm-ar llvm-ar /usr/bin/llvm-ar-12 <span class=\"token number\">100</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># ä¾æ­¤ç±»æ¨ï¼Œæ·»åŠ æ‰€æœ‰ä½ éœ€è¦çš„å·¥å…·</span></pre></td></tr></table></figure><h2 id=\"5-è°ƒè¯•æ—¶æ— æ•ˆæ–­ç‚¹é—®é¢˜\"><a class=\"anchor\" href=\"#5-è°ƒè¯•æ—¶æ— æ•ˆæ–­ç‚¹é—®é¢˜\">#</a> 5. è°ƒè¯•æ—¶æ— æ•ˆæ–­ç‚¹é—®é¢˜</h2>\n<p>å¦‚æœå‘ç°è°ƒè¯•æ—¶æ–­ç‚¹æ— æ³•æ–­ä¸‹æ¥ï¼Œå¯ä»¥å°è¯•æ›´æ¢æˆ ToolChainï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/fagd7p.png\" alt=\"ä½¿ç”¨æœ¬åœ°toolchain\" /></p>\n",
            "tags": [
                "æ‚é¡¹",
                "è¸©å‘",
                "æ‚é¡¹",
                "è¸©å‘",
                "CLion",
                "CMake"
            ]
        },
        {
            "id": "https://gality.cn/misc/c++/tips1/",
            "url": "https://gality.cn/misc/c++/tips1/",
            "title": "C++ ï½œ åˆ©ç”¨è™šåŸºç±»å®ç°è¿è¡Œæ—¶å¤šæ€",
            "date_published": "2024-05-30T06:52:11.000Z",
            "content_html": "<h1 id=\"ç±»å‹æ“¦é™¤\"><a class=\"anchor\" href=\"#ç±»å‹æ“¦é™¤\">#</a> ç±»å‹æ“¦é™¤</h1>\n<blockquote>\n<p>ç±»å‹æ“¦é™¤æ˜¯ C++ ä¸­<strong>ä¸€ç§ç”¨äºå®ç°å¤šæ€æ€§çš„ç¼–ç¨‹æŠ€æœ¯</strong>ï¼Œå®ƒå…è®¸åœ¨ä¸ç‰ºç‰²æ€§èƒ½æˆ–å¼•å…¥ä¸å¿…è¦çš„è¿è¡Œæ—¶å¼€é”€çš„æƒ…å†µä¸‹è¿›è¡Œå¤šæ€æ€§æ“ä½œã€‚ é€šè¿‡éšè—å¯¹è±¡çš„å®é™…ç±»å‹å¹¶æä¾›ç»Ÿä¸€çš„æ¥å£ï¼Œç±»å‹æ“¦é™¤ä½¿å¾—å¯ä»¥ä»¥å¤šæ€çš„æ–¹å¼å¤„ç†ä¸åŒç±»å‹çš„å¯¹è±¡ï¼ŒåŒæ—¶åœ¨è¿è¡Œæ—¶æ¨è¿Ÿå¯¹å®é™…ç±»å‹çš„ç¡®å®šã€‚</p>\n</blockquote>\n<h2 id=\"ç±»class\"><a class=\"anchor\" href=\"#ç±»class\">#</a> ç±» (Class)</h2>\n<p>é¦–å…ˆæ¥è¯´ç±»çš„ç±»å‹æ“¦é™¤ï¼Œæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span>  </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">fruit</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">public</span><span class=\"token operator\">:</span> <span class=\"token comment\">// ç¡®ä¿è®¿é—®ä¿®é¥°ç¬¦æ˜¯ publicï¼Œä»¥ä¾¿æ´¾ç”Ÿç±»å¯ä»¥è®¿é—®  </span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// çº¯è™šå‡½æ•°  </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">apple</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">fruit</span></span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span><span class=\"token operator\">:</span>  </pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">override</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        std<span class=\"token double-colon punctuation\">::</span>cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"eat apple\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token double-colon punctuation\">::</span>endl<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">watermelon</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">fruit</span></span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">public</span><span class=\"token operator\">:</span>  </pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">override</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        std<span class=\"token double-colon punctuation\">::</span>cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"eat watermelon\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token double-colon punctuation\">::</span>endl<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">banana</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">fruit</span></span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">public</span><span class=\"token operator\">:</span>  </pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">void</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">override</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        std<span class=\"token double-colon punctuation\">::</span>cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"eat banana\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token double-colon punctuation\">::</span>endl<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    apple a<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    banana b<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    watermelon w<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    fruit <span class=\"token operator\">*</span>p <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç±»å‹æ“¦é™¤ï¼ˆapple ç±»å‹è¢«è½¬æ¢æˆäº† fruit åŸºç±»ï¼‰  </span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    p<span class=\"token operator\">-></span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¿è¡Œ apple çš„ eat ()  </span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    p <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>b<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    p<span class=\"token operator\">-></span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¿è¡Œ banana çš„ eat ()  </span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    p <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>w<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    p<span class=\"token operator\">-></span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è¿è¡Œ watermelon çš„ eat ()  </span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>eat apple</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>eat banana</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>eat watermelon</pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„å…¥å£ <code>fruit</code>  æ¥åŠ¨æ€çš„è°ƒç”¨å…¶å®é™…å­ç±»çš„å‡½æ•°ï¼Œè¿™å°±æ˜¯ä¸€ç§é€šè¿‡ç±»å‹æ“¦é™¤æ¥å®ç°å¤šæ€çš„æ–¹æ³•ã€‚</p>\n<h2 id=\"ç±»å‹type\"><a class=\"anchor\" href=\"#ç±»å‹type\">#</a> ç±»å‹ (Type)</h2>\n<p>C++ æä¾›äº† <code>std::any</code>  æ¥è¡¨ç¤ºä»»æ„ç±»å‹çš„æ•°æ®ï¼Œå¹¶å¯ä»¥é€šè¿‡ <code>std::any_cast</code>  æ¥åœ¨è¿è¡Œä¸­åŠ¨æ€çš„å°† <code>std::any</code>  è½¬æ¢æˆæ­£ç¡®çš„ç±»å‹ï¼Œç»“åˆä¸Šè¿°ç±»çš„ç±»å‹æ“¦é™¤å’Œæ¨¡ç‰ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åšåˆ°ä¸€äº›å¾ˆé…·çš„äº‹ï¼š</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;any></span>  </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdexcept></span>  </span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">any_convert_base</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">public</span><span class=\"token operator\">:</span>  </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">virtual</span> <span class=\"token keyword\">void</span> <span class=\"token function\">convert</span><span class=\"token punctuation\">(</span>std<span class=\"token double-colon punctuation\">::</span>any val<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">template</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">typename</span> <span class=\"token class-name\">T</span><span class=\"token operator\">></span>  </pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">any_convert</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">any_convert_base</span></span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">public</span><span class=\"token operator\">:</span>  </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">void</span> <span class=\"token function\">convert</span><span class=\"token punctuation\">(</span>std<span class=\"token double-colon punctuation\">::</span>any val<span class=\"token punctuation\">)</span> <span class=\"token keyword\">override</span> <span class=\"token punctuation\">&#123;</span> </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      value <span class=\"token operator\">=</span> std<span class=\"token double-colon punctuation\">::</span><span class=\"token generic-function\"><span class=\"token function\">any_cast</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> std<span class=\"token double-colon punctuation\">::</span>bad_any_cast<span class=\"token operator\">&amp;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token comment\">// å¤„ç†è½¬æ¢å¤±è´¥çš„æƒ…å†µ</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token keyword\">throw</span> std<span class=\"token double-colon punctuation\">::</span><span class=\"token function\">runtime_error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Failed to cast std::any to type T\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span>  </pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  T value<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  any_convert_base<span class=\"token operator\">*</span> p<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  std<span class=\"token double-colon punctuation\">::</span>any i <span class=\"token operator\">=</span> <span class=\"token number\">123</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç±»å‹æ“¦é™¤  </span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  any_convert<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span> a<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  p <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span>a<span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  p<span class=\"token operator\">-></span><span class=\"token function\">convert</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è°ƒç”¨æˆå‘˜å‡½æ•°ï¼Œæ¥å—ä»»æ„ç±»å‹çš„å˜é‡å¹¶å°è¯•è½¬æ¢æˆéœ€è¦çš„ç±»å‹å­˜å‚¨</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"32\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>  </pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>âš ï¸ æ³¨æ„ï¼Œç”±äº <code>std::any</code>  åœ¨ <code>c++17</code>  ä¸­æ‰å¼•å…¥ï¼Œæ‰€ä»¥å¦‚æœç¼–è¯‘å¤±è´¥ï¼Œå¯ä»¥å°è¯•åŠ ä¸Š <code>-std=c++17</code>  åå†è¿›è¡Œç¼–è¯‘ã€‚</p>\n<p>é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å®ç°äº†ç»™ <code>any_convert</code>  ç±»çš„ <code>convert</code>  æ–¹æ³•ä¸€ä¸ªä»»æ„ç±»å‹çš„å‚æ•°ï¼Œ <code>convert</code>  å¯ä»¥è‡ªåŠ¨å°†å…¶è½¬æ¢æˆæ­£ç¡®çš„ç±»å‹ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦å†å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²åˆ°ç±»å‹çš„æ³¨å†Œæœºåˆ¶ï¼Œå°±å¯ä»¥åœ¨ <code>C++</code>  ä¸­å®ç° <code>Java</code>  çš„åå°„æœºåˆ¶ã€‚</p>\n<p>æ€»çš„æ¥è¯´ï¼Œè™½ç„¶ç±»å‹æ“¦é™¤æ— æ³•è®© <code>c++</code>  åƒå¼±ç±»å‹è¯­è¨€ä¸€æ ·çµæ´»ï¼Œä½†ç¡®å®å¯ä»¥èµ‹äºˆ <code>C++</code>  è¿è¡Œæ—¶å¤šæ€çš„èƒ½åŠ›ï¼Œåœ¨å……åˆ†äº«å— <code>C++</code>  å¼ºç±»å‹çš„å®‰å…¨è¡Œ = æ€§ã€é«˜æ•ˆæ€§çš„åŒæ—¶ï¼Œæä¾›æ›´å¤§çš„è¿è¡Œæ—¶çµæ´»è®¾è®¡çš„ç©ºé—´ï¼Œå‡è½»äº†é›·åŒä»£ç é€»è¾‘çš„ç¼–å†™ä»»åŠ¡ã€‚</p>\n",
            "tags": [
                "æ‚é¡¹",
                "C++",
                "C++",
                "tips"
            ]
        },
        {
            "id": "https://gality.cn/misc/trail-and-error/ubuntu%E6%89%A9%E5%AE%B9/",
            "url": "https://gality.cn/misc/trail-and-error/ubuntu%E6%89%A9%E5%AE%B9/",
            "title": "Ubuntuè™šæ‹Ÿæœºæ‰©å±•ç£ç›˜ ï½œ å‘½ä»¤è¡Œ ï½œ LVM",
            "date_published": "2024-03-25T12:13:23.000Z",
            "content_html": "<div class=\"note primary no-icon\">\n<p>ğŸ¯ ç»™è™šæ‹Ÿæœºæ–°å¢ä¸€ä¸ªç£ç›˜ç©ºé—´å¹¶æŒ‚è½½åˆ°æ ¹ç›®å½•ä¸Š</p>\n</div>\n<h1 id=\"åˆ†é…ç©ºé—´\"><a class=\"anchor\" href=\"#åˆ†é…ç©ºé—´\">#</a> åˆ†é…ç©ºé—´</h1>\n<p>é¦–å…ˆéœ€è¦åœ¨ VMware Fusion ä¸­ç»™è™šæ‹Ÿæœºåˆ†é…ç©ºé—´ï¼š</p>\n<ol>\n<li>åˆ é™¤æ‰€æœ‰å¿«ç…§å¹¶å…³é—­è™šæ‹Ÿæœº</li>\n<li>ã€Œè®¾ç½®ã€=&gt; ã€Œç¡¬ç›˜ã€=&gt; ã€Œç£ç›˜å¤§å°ã€</li>\n<li>è°ƒæ•´ä¸ºåˆé€‚çš„å€¼ï¼ˆè¿™é‡Œæˆ‘è°ƒæ•´ä¸º 80Gï¼Œè¿™ä¸ªå€¼æ˜¯è™šæ‹Ÿæœºæ‰€èƒ½ä½¿ç”¨çš„æœ€å¤§ç£ç›˜å¤§å°ï¼Œè€Œéæ˜¯æ–°å¢çš„å¤§å°ï¼‰</li>\n</ol>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/ht0fvd.png\" alt=\"è™šæ‹Ÿæœºè®¾ç½®\" /></p>\n<h1 id=\"ubuntuæŒ‚è½½ç©ºé—´\"><a class=\"anchor\" href=\"#ubuntuæŒ‚è½½ç©ºé—´\">#</a> Ubuntu æŒ‚è½½ç©ºé—´</h1>\n<p>å®Œæˆåˆ†é…åï¼Œè™šæ‹Ÿæœº â€œçœ‹â€ åˆ°çš„ç£ç›˜å˜å¤§äº†ï¼Œä½†ç”±äºè¿˜æ²¡æœ‰åˆ†é… &amp; æŒ‚è½½ï¼Œæ‰€ä»¥æ­¤æ—¶ï¼ŒUbuntu å¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨è¿™ç‰‡ç©ºé—´ï¼Œè¿˜éœ€è¿›è¡Œå¦‚ä¸‹é…ç½®ã€‚</p>\n<h2 id=\"ç¡®è®¤ä½¿ç”¨äº†lvm\"><a class=\"anchor\" href=\"#ç¡®è®¤ä½¿ç”¨äº†lvm\">#</a> ç¡®è®¤ä½¿ç”¨äº† LVM</h2>\n<p>Ubuntu Server ä½¿ç”¨ <code>Logical Volume Management</code>  æŠ€æœ¯æ¥ç®¡ç†ç£ç›˜åˆ†åŒºï¼Œå¯ä»¥åœ¨ä¸åœæ­¢ç³»ç»ŸæœåŠ¡çš„å‰æä¸‹ï¼Œå°±èƒ½åŠ¨æ€å¢åŠ ç¡¬ç›˜ç©ºé—´ã€‚ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">df</span> <span class=\"token parameter variable\">-h</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Filesystem                         Size  Used Avail Use% Mounted on</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>udev                               <span class=\"token number\">2</span>.5G     <span class=\"token number\">0</span>  <span class=\"token number\">2</span>.5G   <span class=\"token number\">0</span>% /dev</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>tmpfs                              590M  <span class=\"token number\">1</span>.6M  589M   <span class=\"token number\">1</span>% /run</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>/dev/mapper/ubuntu--vg-ubuntu--lv   19G   14G  <span class=\"token number\">4</span>.6G  <span class=\"token number\">75</span>% /</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>tmpfs                              <span class=\"token number\">2</span>.9G     <span class=\"token number\">0</span>  <span class=\"token number\">2</span>.9G   <span class=\"token number\">0</span>% /dev/shm</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>tmpfs                              <span class=\"token number\">5</span>.0M     <span class=\"token number\">0</span>  <span class=\"token number\">5</span>.0M   <span class=\"token number\">0</span>% /run/lock</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>tmpfs                              <span class=\"token number\">2</span>.9G     <span class=\"token number\">0</span>  <span class=\"token number\">2</span>.9G   <span class=\"token number\">0</span>% /sys/fs/cgroup</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>/dev/sda2                          <span class=\"token number\">2</span>.0G  <span class=\"token number\">1</span>.1G  780M  <span class=\"token number\">58</span>% /boot</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>/dev/loop0                          64M   64M     <span class=\"token number\">0</span> <span class=\"token number\">100</span>% /snap/core20/1828</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>/dev/loop2                          50M   50M     <span class=\"token number\">0</span> <span class=\"token number\">100</span>% /snap/snapd/18357</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>/dev/loop1                          92M   92M     <span class=\"token number\">0</span> <span class=\"token number\">100</span>% /snap/lxd/24061</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>tmpfs                              590M     <span class=\"token number\">0</span>  590M   <span class=\"token number\">0</span>% /run/user/0</pre></td></tr></table></figure><p>çœ‹ç»„åæ˜¯ <code>ubuntu--vg-ubuntu--lv</code> ï¼Œç¡®å®šä½¿ç”¨äº† LVM</p>\n<h2 id=\"åˆ›å»ºæ–°çš„ç‰©ç†å·\"><a class=\"anchor\" href=\"#åˆ›å»ºæ–°çš„ç‰©ç†å·\">#</a> åˆ›å»ºæ–°çš„ç‰©ç†å·</h2>\n<p>åˆ›å»ºä¸ª sda4ï¼ŒæŠŠæ–°å¢çš„ç©ºé—²ç©ºé—´ææˆä¸€ä¸ªåˆ†åŒºå¥½äº†</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token variable\">$sudo</span> <span class=\"token function\">parted</span> /dev/sda</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>GNU Parted <span class=\"token number\">3.3</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Using /dev/sda</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Welcome to GNU Parted<span class=\"token operator\">!</span> Type <span class=\"token string\">'help'</span> to view a list of commands.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># æ‰“å°ç£ç›˜ä½¿ç”¨æƒ…å†µï¼Œå¯ä»¥çœ‹åˆ°æœ‰ 42.9GB çš„ç©ºé—²ç©ºé—´</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> print <span class=\"token function\">free</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Model: VMware, VMware Virtual S <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Disk /dev/sda: <span class=\"token number\">85</span>.9GB</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Sector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: 512B/512B</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Partition Table: gpt</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Disk Flags:</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>Number  Start   End     Size    File system  Name  Flags</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token number\">17</span>.4kB  1049kB  1031kB  Free Space</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> <span class=\"token number\">1</span>      1049kB  2097kB  1049kB                        bios_grub</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> <span class=\"token number\">2</span>      2097kB  2150MB  2147MB  ext4</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> <span class=\"token number\">3</span>      2150MB  <span class=\"token number\">42</span>.9GB  <span class=\"token number\">40</span>.8GB</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token number\">42</span>.9GB  <span class=\"token number\">85</span>.9GB  <span class=\"token number\">42</span>.9GB  Free Space</pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># åˆ›å»ºæ–°åˆ†åŒº        </span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> mkpart primary ext4 <span class=\"token number\">42</span>.9GB <span class=\"token number\">100</span>%</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> print <span class=\"token function\">free</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>Model: VMware, VMware Virtual S <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>Disk /dev/sda: <span class=\"token number\">85</span>.9GB</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>Sector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: 512B/512B</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>Partition Table: gpt</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>Disk Flags:</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>Number  Start   End     Size    File system  Name     Flags</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token number\">17</span>.4kB  1049kB  1031kB  Free Space</pre></td></tr><tr><td data-num=\"28\"></td><td><pre> <span class=\"token number\">1</span>      1049kB  2097kB  1049kB                        bios_grub</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> <span class=\"token number\">2</span>      2097kB  2150MB  2147MB  ext4</pre></td></tr><tr><td data-num=\"30\"></td><td><pre> <span class=\"token number\">3</span>      2150MB  <span class=\"token number\">42</span>.9GB  <span class=\"token number\">40</span>.8GB</pre></td></tr><tr><td data-num=\"31\"></td><td><pre> <span class=\"token number\">4</span>      <span class=\"token number\">42</span>.9GB  <span class=\"token number\">85</span>.9GB  <span class=\"token number\">42</span>.9GB               primary</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token number\">85</span>.9GB  <span class=\"token number\">85</span>.9GB  1032kB  Free Space</pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> quit</pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token comment\"># åˆ›å»ºäº†ä¸€ä¸ª ext4 ç±»å‹ä¸»åˆ†åŒºã€‚è®¾å¤‡è·¯å¾„æ˜¯ /dev/sda4</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token variable\">$sudo</span> pvcreate /dev/sda4</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>  Physical volume <span class=\"token string\">\"/dev/sda4\"</span> successfully created.</pre></td></tr></table></figure><h2 id=\"æŠŠubuntu-vgç»„æ‰©å±•åˆ°devsda4ä¸Š\"><a class=\"anchor\" href=\"#æŠŠubuntu-vgç»„æ‰©å±•åˆ°devsda4ä¸Š\">#</a> æŠŠ ubuntu-vg ç»„æ‰©å±•åˆ° /dev/sda4 ä¸Š</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token variable\">$sudo</span> vgextend ubuntu-vg /dev/sda4</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  Volume group <span class=\"token string\">\"ubuntu-vg\"</span> successfully extended</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token variable\">$sudo</span> lvm lvextend <span class=\"token parameter variable\">-l</span> +100%FREE /dev/ubuntu-vg/ubuntu-lv</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  Size of logical volume ubuntu-vg/ubuntu-lv changed from <span class=\"token operator\">&lt;</span><span class=\"token number\">19.00</span> GiB <span class=\"token punctuation\">(</span><span class=\"token number\">4863</span> extents<span class=\"token punctuation\">)</span> to <span class=\"token number\">77</span> GiB <span class=\"token punctuation\">(</span><span class=\"token number\">19964</span> extents<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  Logical volume ubuntu-vg/ubuntu-lv successfully resized.</pre></td></tr></table></figure><h2 id=\"æ‰©å±•æ–‡ä»¶ç³»ç»Ÿ\"><a class=\"anchor\" href=\"#æ‰©å±•æ–‡ä»¶ç³»ç»Ÿ\">#</a> æ‰©å±•æ–‡ä»¶ç³»ç»Ÿ</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token variable\">$sudo</span> resize2fs <span class=\"token parameter variable\">-p</span> /dev/mapper/ubuntu--vg-ubuntu--lv</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>resize2fs <span class=\"token number\">1.45</span>.5 <span class=\"token punctuation\">(</span>07-Jan-2020<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Filesystem at /dev/mapper/ubuntu--vg-ubuntu--lv is mounted on /<span class=\"token punctuation\">;</span> on-line resizing required</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>old_desc_blocks <span class=\"token operator\">=</span> <span class=\"token number\">3</span>, new_desc_blocks <span class=\"token operator\">=</span> <span class=\"token number\">5</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>The filesystem on /dev/mapper/ubuntu--vg-ubuntu--lv is now <span class=\"token number\">10221568</span> <span class=\"token punctuation\">(</span>4k<span class=\"token punctuation\">)</span> blocks long.</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token variable\">$df</span> <span class=\"token parameter variable\">-h</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Filesystem                         Size  Used Avail Use% Mounted on</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>udev                               <span class=\"token number\">2</span>.5G     <span class=\"token number\">0</span>  <span class=\"token number\">2</span>.5G   <span class=\"token number\">0</span>% /dev</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>tmpfs                              590M  <span class=\"token number\">1</span>.6M  589M   <span class=\"token number\">1</span>% /run</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>/dev/mapper/ubuntu--vg-ubuntu--lv   77G   14G   63G  <span class=\"token number\">18</span>% /</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>tmpfs                              <span class=\"token number\">2</span>.9G     <span class=\"token number\">0</span>  <span class=\"token number\">2</span>.9G   <span class=\"token number\">0</span>% /dev/shm</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>tmpfs                              <span class=\"token number\">5</span>.0M     <span class=\"token number\">0</span>  <span class=\"token number\">5</span>.0M   <span class=\"token number\">0</span>% /run/lock</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>tmpfs                              <span class=\"token number\">2</span>.9G     <span class=\"token number\">0</span>  <span class=\"token number\">2</span>.9G   <span class=\"token number\">0</span>% /sys/fs/cgroup</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>/dev/sda2                          <span class=\"token number\">2</span>.0G  <span class=\"token number\">1</span>.1G  780M  <span class=\"token number\">58</span>% /boot</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>/dev/loop0                          64M   64M     <span class=\"token number\">0</span> <span class=\"token number\">100</span>% /snap/core20/1828</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>/dev/loop2                          50M   50M     <span class=\"token number\">0</span> <span class=\"token number\">100</span>% /snap/snapd/18357</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>/dev/loop1                          92M   92M     <span class=\"token number\">0</span> <span class=\"token number\">100</span>% /snap/lxd/24061</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>tmpfs                              590M     <span class=\"token number\">0</span>  590M   <span class=\"token number\">0</span>% /run/user/0</pre></td></tr></table></figure><p>å®Œæˆï½</p>\n<h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9vaS4wdzAuaW8vMjAyMi8wNC8yMC8lRTUlOUMlQTh2bXdhcmUlRTQlQjglOEIlRTYlODklQTklRTUlQjElOTUtdWJ1bnR1LTIwLTA0LSVFNyVBMyU4MSVFNyU5QiU5OCVFNSU4OCU4NiVFNSU4QyVCQSVFRiVCQyU4OC1kZXYtbWFwcGVyLXVidW50dS12Zy11YnVudHUtbHYlRUYlQkMlODkv\">https://oi.0w0.io/2022/04/20 / åœ¨ vmware ä¸‹æ‰©å±• - ubuntu-20-04 - ç£ç›˜åˆ†åŒºï¼ˆ-dev-mapper-ubuntu-vg-ubuntu-lvï¼‰/</span></li>\n</ul>\n",
            "tags": [
                "æ‚é¡¹",
                "è¸©å‘",
                "æ‚é¡¹",
                "è¸©å‘",
                "Ubuntu"
            ]
        },
        {
            "id": "https://gality.cn/os/kernel/build-kernel/",
            "url": "https://gality.cn/os/kernel/build-kernel/",
            "title": "ä»0å¼€å§‹æ„å»ºLinuxå†…æ ¸",
            "date_published": "2024-03-25T10:23:22.000Z",
            "content_html": "<div class=\"note primary no-icon\">\n<p>âš™ï¸ ä»¥ä¸‹æ˜¯æœ¬ç¯‡æ–‡ç« æ‰€ä½¿ç”¨çš„ç¯å¢ƒï¼š</p>\n<ul>\n<li>å®¿ä¸»æœºï¼šMacOS Sonoma 14.4</li>\n<li>è™šæ‹Ÿæœºï¼šUbuntu Server 20.04 LTS</li>\n<li>VMware Fusion 13.5.1</li>\n<li>Linux kernel 5.4.272</li>\n</ul>\n</div>\n<h1 id=\"ç¯å¢ƒå‡†å¤‡\"><a class=\"anchor\" href=\"#ç¯å¢ƒå‡†å¤‡\">#</a> ç¯å¢ƒå‡†å¤‡</h1>\n<h2 id=\"ä¸‹è½½é¡¹\"><a class=\"anchor\" href=\"#ä¸‹è½½é¡¹\">#</a> ä¸‹è½½é¡¹</h2>\n<h3 id=\"ä¸‹è½½linuxå†…æ ¸æºç \"><a class=\"anchor\" href=\"#ä¸‹è½½linuxå†…æ ¸æºç \">#</a> ä¸‹è½½ Linux å†…æ ¸æºç </h3>\n<p>ä»<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cua2VybmVsLm9yZy8=\">å®˜æ–¹ç½‘ç«™</span>ä¸‹è½½ linux å†…æ ¸æºç </p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/0egux9.png\" alt=\"linux kernel\" /></p>\n<p>ç‚¹å‡» [tarball]ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª <code>linux-5.4.272.tar.xz</code>  æ ¼å¼çš„æ‰“åŒ…æ–‡ä»¶ï¼Œåç»­ä¼šç”¨åˆ°ã€‚</p>\n<h3 id=\"ä¸‹è½½ubuntu-server\"><a class=\"anchor\" href=\"#ä¸‹è½½ubuntu-server\">#</a> ä¸‹è½½ Ubuntu Server</h3>\n<div class=\"note info no-icon\">\n<ol>\n<li>\n<p>é€‰æ‹© Ubuntu çš„åŸå› åœ¨äº Ubuntu æ˜¯ç›®å‰å¸‚åœºå æœ‰ç‡æœ€é«˜çš„ Linux ç³»ç»Ÿï¼Œè¿™æ„å‘³ç€ä»–ä¼šæœ‰æœ€å¥½çš„æ”¯æŒå’Œç¤¾åŒºï¼Œä¾¿äºæŸ¥æ‰¾ &amp; è§£å†³å„ç§ bugã€‚</p>\n</li>\n<li>\n<p>é€‰æ‹© Server ç‰ˆçš„åŸå› åœ¨äº Server ç‰ˆæœ¬èˆå¼ƒäº†å›¾å½¢åŒ–ç•Œé¢ï¼Œæ•´ä½“å¤§å°ä¼šå°éå¸¸å¤šï¼Œè¿™æ„å‘³ç€èƒ½ç»™å†…æ ¸çš„ç¼–è¯‘ &amp; åç»­æ“ä½œç•™æ›´å¤šçš„ç©ºé—´ã€‚</p>\n</li>\n<li>\n<p>é€‰æ‹© 20.04 ç‰ˆæœ¬çš„åŸå› åœ¨äºè¯¥ç‰ˆæœ¬é»˜è®¤ä½¿ç”¨ linux 5.4 çš„å†…æ ¸ï¼Œå‡å°‘æˆ‘ä»¬åç»­è‡ªå·±ç¼–è¯‘çš„å†…æ ¸æ—¶å¯èƒ½å‡ºç°çš„è«å bugã€‚</p>\n</li>\n</ol>\n</div>\n<p>ä»<span class=\"exturl\" data-url=\"aHR0cHM6Ly91YnVudHUuY29tL2Rvd25sb2FkL3NlcnZlcg==\">å®˜æ–¹ç½‘ç«™</span>ä¸‹è½½ Ubuntu Server çš„é•œåƒæ–‡ä»¶</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/9oceyz.png\" alt=\"ubuntu server\" /></p>\n<h2 id=\"å¿…è¦é…ç½®\"><a class=\"anchor\" href=\"#å¿…è¦é…ç½®\">#</a> å¿…è¦é…ç½®</h2>\n<h3 id=\"è™šæ‹Ÿæœºé…ç½®å…±äº«æ–‡ä»¶å¤¹\"><a class=\"anchor\" href=\"#è™šæ‹Ÿæœºé…ç½®å…±äº«æ–‡ä»¶å¤¹\">#</a> è™šæ‹Ÿæœºé…ç½®å…±äº«æ–‡ä»¶å¤¹</h3>\n<div class=\"note warning no-icon\">\n<p>âš ï¸ æœ¬ç¯‡æ–‡ç« å‡å®šè¯»è€…çŸ¥é“ï¼šå¦‚ä½•ä½¿ç”¨è™šæ‹Ÿæœºè½¯ä»¶å®‰è£…è™šæ‹Ÿç³»ç»Ÿï¼Œå¦‚æœä¸çŸ¥é“ï¼Œè¯·è‡ªè¡Œ Googleï½</p>\n<p>åœ¨å‡å®šè¯»è€…å·²ç»çŸ¥é“å¦‚ä½•å®‰è£…è™šæ‹Ÿæœºçš„åŸºç¡€ä¸Šï¼Œ<span class=\"red\">è¯·æ³¨æ„</span>ï¼š</p>\n<ol>\n<li>å®‰è£…è™šæ‹Ÿæœºæ—¶è¯·ç»™è™šæ‹Ÿæœºæœ€å¥½åˆ†é…<strong> 70G</strong> ä»¥ä¸Šçš„å­˜å‚¨ç©ºé—´ï¼Œå› ä¸ºç¼–è¯‘å†…æ ¸æ‰€éœ€ç©ºé—´éå¸¸å¤§ï¼Œä½¿ç”¨é»˜è®¤é…ç½®çš„ 20G ç©ºé—´ä¼šå¯¼è‡´æ²¡æœ‰è¶³å¤Ÿç©ºé—´ç¼–è¯‘å†…æ ¸ã€‚</li>\n<li>æœ€å¥½åˆ†é…<strong> 4 ä¸ª</strong>ä»¥ä¸Š CPU æ ¸å¿ƒï¼Œæ ¸å¿ƒæ•°é‡ç›´æ¥å½±å“å†…æ ¸çš„ç¼–è¯‘é€Ÿåº¦ã€‚</li>\n<li>æœ€å¥½åˆ†é…<strong> 4G</strong> ä»¥ä¸Šå†…å­˜</li>\n</ol>\n</div>\n<p>ç”±äºé‡‡ç”¨çš„æ˜¯æ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢çš„ Server ç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€å¥½é…ç½®ä¸€ä¸‹<strong>å…±äº«æ–‡ä»¶å¤¹</strong>æ¥æ–¹ä¾¿åœ¨å®¿ä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´å…±äº«æ–‡ä»¶ï¼Œé…ç½®è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>\n<ol>\n<li>\n<p>æ‰¾åˆ°ã€Œè®¾ç½®ã€=&gt; ã€Œå…±äº«ã€</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/i3o4xc.png\" alt=\"å…±äº«è®¾ç½®\" /></p>\n</li>\n<li>\n<p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨äºå…±äº«ï¼Œå¹¶å°†å…¶æƒé™æ”¹ä¸ºã€Œè¯»ä¸å†™ã€ï¼Œç‚¹å‡»ã€Œå¯ç”¨å…±äº«æ–‡ä»¶å¤¹ã€ï¼ˆæˆ‘è¿™é‡Œå…±äº«æ–‡ä»¶å¤¹å‘½åä¸º <code>share</code> ï¼‰ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/bgjphy.png\" alt=\"å…±äº«æ–‡ä»¶å¤¹\" /></p>\n</li>\n<li>\n<p>å°†åˆšåˆšä¸‹è½½çš„å†…æ ¸æ–‡ä»¶æ”¾å…¥æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶åœ¨è™šæ‹Ÿæœºä¸­æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /mnt/hgfs/share</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">ls</span></pre></td></tr></table></figure><p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ å°†ä¼šçœ‹åˆ° <code>linux-5.4.272.tar.xz</code>  å°±åœ¨è¿™é‡Œã€‚ã€Œ æ‰€æœ‰å…±äº«æ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨è¢«æŒ‚è½½åœ¨ <code>/mnt/hgfs</code>  ä¸‹ï¼Œå¦‚æœä½ çš„å…±äº«æ–‡ä»¶å¤¹å‘½åä¸ºå…¶ä»–çš„åå­—ï¼Œè¯·æ›¿æ¢æˆè‡ªå·±çš„åå­—ï¼š) ã€</p>\n<p>ğŸ™… å¦‚æœæ²¡æœ‰æ‰¾åˆ° <code>share</code>  æ–‡ä»¶å¤¹ï¼Œå¯ä»¥å‚è€ƒ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC83MzE4MjM3NDkxOTA2NTQzNjQy\">è¿™ç¯‡åšå®¢</span>ã€‚</p>\n</li>\n</ol>\n<details class=\"warning\"><summary>â—ï¸linuxè™šæ‹Ÿæœºä¸­æ— æ³•å†™å…±äº«æ–‡ä»¶å¤¹</summary><div>\n<p>ç¬”è€…ä½¿ç”¨çš„æ˜¯ MacOSï¼Œæƒé™ç›¸å¯¹æ§åˆ¶æ¯”è¾ƒä¸¥æ ¼ï¼Œå…±äº«æ–‡ä»¶å¤¹çš„é»˜è®¤æƒé™æ˜¯åªè¯»ï¼Œæ‰€ä»¥æƒ³è®© linux è™šæ‹Ÿæœºå¯ä»¥å‘å…±äº«æ–‡ä»¶å¤¹å†™å…¥å†…å®¹éœ€è¦æ›´æ”¹æ–‡ä»¶å¤¹çš„æƒé™ï¼Œåœ¨ â€œshareâ€ æ–‡ä»¶å¤¹ä¸Šç‚¹å‡»ã€Œæ˜¾ç¤ºç®€ä»‹ã€ï¼Œå°†æœ¬ç”¨æˆ·çš„æƒé™æ”¹æˆã€Œè¯»ä¸å†™ã€å³å¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/xhhjub.png\" alt=\"å…±äº«æ–‡ä»¶å¤¹æƒé™ä¿®æ”¹\" /></p>\n</div></details>\n<h3 id=\"aptæ¢æº\"><a class=\"anchor\" href=\"#aptæ¢æº\">#</a> apt æ¢æº</h3>\n<p>æ„å»ºå†…æ ¸éœ€è¦ä¾èµ–å¤§é‡å·¥å…·ï¼Œå»ºè®®å…ˆæ›´æ¢ä¸€ä¸‹ apt æºï¼Œæ–¹ä¾¿ä¸‹è½½ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å¤‡ä»½ä¹‹å‰çš„ sources.list</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> /etc/apt/sources.list /etc/apt/sources.list.bak</pre></td></tr></table></figure><p>ç„¶åæ›¿æ¢ <code>/etc/apt/sources.list</code>  ä¸ºä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜ï¼š</p>\n<pre><code>deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse\n</code></pre>\n<p>å®Œæˆåä½¿ç”¨ <code>sudo apt update</code>  æ¥é‡æ–°è·å–ä¸€ä¸‹è½¯ä»¶åŒ…ç¼“å­˜ã€‚</p>\n<h3 id=\"ç¼–è¯‘å·¥å…·å®‰è£…\"><a class=\"anchor\" href=\"#ç¼–è¯‘å·¥å…·å®‰è£…\">#</a> ç¼–è¯‘å·¥å…·å®‰è£…</h3>\n<p>å®‰è£…ç¼–è¯‘å†…æ ¸æ—¶æ‰€éœ€çš„å·¥å…·ï¼Œè¿™é‡Œå‡è®¾ä½ ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªçº¯å‡€çš„ ubuntu ç³»ç»Ÿã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> gcc g++ <span class=\"token function\">make</span> <span class=\"token function\">git</span> libncurses5-dev build-essential kernel-package libssl-dev libelf-dev dwarves flex bison</pre></td></tr></table></figure><h1 id=\"ç¼–è¯‘å†…æ ¸\"><a class=\"anchor\" href=\"#ç¼–è¯‘å†…æ ¸\">#</a> ç¼–è¯‘å†…æ ¸</h1>\n<h2 id=\"è§£å‹linuxå†…æ ¸\"><a class=\"anchor\" href=\"#è§£å‹linuxå†…æ ¸\">#</a> è§£å‹ Linux å†…æ ¸</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å°† Linux å†…æ ¸ä»å…±äº«æ–‡ä»¶å¤¹ä¸­å¤åˆ¶åˆ°å®¶ç›®å½•ä¸‹</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> /mnt/hgfs/share/linux-5.4.272.tar.xz ~/ <span class=\"token operator\">|</span> <span class=\"token builtin class-name\">cd</span> ~ </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># è§£å‹</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>xz <span class=\"token parameter variable\">-d</span> linux-5.4.272.tar.xz</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xvf</span> linux-5.4.272.tar</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token builtin class-name\">cd</span> linux-5.4.272</pre></td></tr></table></figure><h2 id=\"é…ç½®linuxå†…æ ¸\"><a class=\"anchor\" href=\"#é…ç½®linuxå†…æ ¸\">#</a> é…ç½® Linux å†…æ ¸</h2>\n<p>Linux å†…æ ¸çš„æ„å»ºè¿‡ç¨‹ä¼šæŸ¥æ‰¾  <code>.config</code>  æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œç”¨äºæŒ‡å®š Linux å†…æ ¸çš„æ‰€æœ‰å¯èƒ½çš„é…ç½®é€‰é¡¹ã€‚è¿™æ˜¯å¿…éœ€çš„æ–‡ä»¶ã€‚</p>\n<p>è·å– Linux å†…æ ¸çš„  <code>.config</code>  æ–‡ä»¶æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>\n<ol>\n<li>ä½¿ç”¨ä½ çš„ Linux å‘è¡Œç‰ˆçš„é…ç½®ä½œä¸ºåŸºç¡€ï¼ˆ<strong>æ¨èåšæ³•</strong>ï¼‰</li>\n<li>ä½¿ç”¨é»˜è®¤çš„ï¼Œé€šç”¨çš„é…ç½®</li>\n</ol>\n<blockquote>\n<p>ğŸ’¡ ä¹Ÿæœ‰ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ä»é›¶å¼€å§‹ï¼Œæ‰‹åŠ¨é…ç½®æ¯ä¸€ä¸ªé€‰é¡¹ï¼Œä½†æ³¨æ„ï¼Œè¿™éœ€è¦é…ç½®è¶…è¿‡ 12,000 ä¸ªé€‰é¡¹ã€‚å¹¶ä¸æ¨èè¿™ç§æ–¹å¼ï¼Œå› ä¸ºæ‰‹åŠ¨é…ç½®æ‰€æœ‰é€‰é¡¹å°†èŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œå¹¶ä¸”ä½ è¿˜éœ€è¦ç†è§£æ¯ä¸ªå¯ç”¨å’Œç¦ç”¨é€‰é¡¹çš„å«ä¹‰ã€‚</p>\n</blockquote>\n<p>ä»¥ä¸‹æ˜¯ç¬¬ä¸€ç§æ–¹å¼ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> linux-*/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># å¤åˆ¶ä½ çš„ Ubuntu çš„é…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> /boot/config-<span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-r</span><span class=\"token variable\">)</span></span>\"</span> .config</pre></td></tr></table></figure><h2 id=\"æ›´æ–°configé…ç½®\"><a class=\"anchor\" href=\"#æ›´æ–°configé…ç½®\">#</a> æ›´æ–° config é…ç½®</h2>\n<p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ â€œæ—§çš„é…ç½®æ–‡ä»¶â€ï¼ˆå½“å‰ä¿å­˜ä¸º  <code>.config</code> ï¼Œè¿™æ˜¯å‘è¡Œç‰ˆé…ç½®çš„ä¸€ä¸ªå‰¯æœ¬ï¼‰ï¼Œæ‰€ä»¥éœ€è¦æ£€æŸ¥ä»ä¸Šä¸€ç‰ˆæœ¬ä»¥æ¥ Linux ä»£ç åº“ä¸­æ–°åŠ çš„ä»»ä½•é…ç½®é€‰é¡¹ã€‚å¦‚æœæ‰¾åˆ°ä»»ä½•ã€Œæ–°çš„ã€æœªé…ç½®ã€ çš„é€‰é¡¹ï¼Œè¯¥é€‰é¡¹çš„é»˜è®¤é…ç½®å€¼ä¼šè¢«ä½¿ç”¨ï¼Œå¹¶ä¼šå¯¹  <code>.config</code>  æ–‡ä»¶è¿›è¡Œæ›´æ–°ã€‚</p>\n<p>åŸæ¥çš„  <code>.config</code>  æ–‡ä»¶å°†è¢«é‡å‘½åä¸º  <code>.config.old</code>  è¿›è¡Œå¤‡ä»½ï¼Œå¹¶å°†æ–°çš„æ›´æ”¹å†™å…¥è‡³  <code>.config</code>  æ–‡ä»¶ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">make</span> olddefconfig</pre></td></tr></table></figure><h2 id=\"æ·»åŠ å¿…è¦é…ç½®\"><a class=\"anchor\" href=\"#æ·»åŠ å¿…è¦é…ç½®\">#</a> æ·»åŠ å¿…è¦é…ç½®</h2>\n<p>æ„å»ºå†…æ ¸æ—¶å†…æ ¸æ¨¡å—ä¼šä½¿ç”¨ä¸€ä¸ªç­¾åè¯ä¹¦ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä½ çš„è®¡ç®—æœºå¹¶ä¸åŒ…å«è¿™ä¸ªè¯ä¹¦ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè‡ªè¡Œç”Ÿæˆä¸€ä¸ªç­¾åè¯ä¹¦å¹¶åœ¨ç¼–è¯‘æ—¶ä½¿ç”¨ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./scripts/config <span class=\"token parameter variable\">--file</span> .config --set-str SYSTEM_TRUSTED_KEYS <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>./scripts/config <span class=\"token parameter variable\">--file</span> .config --set-str SYSTEM_REVOCATION_KEYS <span class=\"token string\">''</span></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºè‡ªå®šä¹‰å†…æ ¸æ„å»ºæ·»åŠ ä¸€ä¸ªæ ‡ç­¾ã€‚æˆ‘ä½¿ç”¨å­—ç¬¦ä¸²  <code>-gality</code>  ä½œä¸ºæ ‡ç­¾ã€‚è¿™æ ·å½“è¿è¡Œ  <code>uname -r</code>  å‘½ä»¤æ—¶ï¼Œå°±ä¼šæ˜¾ç¤º <code>5.4.272-gality</code>  äº†ï¼š)</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>./scripts/config <span class=\"token parameter variable\">--file</span> .config --set-str LOCALVERSION <span class=\"token string\">\"-gality\"</span></pre></td></tr></table></figure><h2 id=\"ç¼–è¯‘\"><a class=\"anchor\" href=\"#ç¼–è¯‘\">#</a> ç¼–è¯‘</h2>\n<p>å®é™…çš„ç¼–è¯‘å¾ˆç®€å•ï¼Œä¹Ÿå¾ˆæ¼«é•¿ï¼ˆå¯èƒ½ 1ï½3 å°æ—¶ï¼Œå¦‚æœé¡ºåˆ©çš„è¯ï½</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># -j å‚æ•°æŒ‡å®šä½¿ç”¨å¤šä¸ªæ ¸å¿ƒæ¥åŠ é€Ÿç¼–è¯‘è¿‡ç¨‹</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">make</span> -j<span class=\"token variable\"><span class=\"token variable\">$(</span>nproc<span class=\"token variable\">)</span></span></pre></td></tr></table></figure><p>å¦‚æœå¾ˆä¸å¹¸ï¼Œä½ å‡ºç°äº† <code>No space left on device</code>  çš„é”™è¯¯ï¼Œé‚£ä¹ˆæ„å‘³ç€ä½ å¹¶æ²¡æœ‰å¥½å¥½é˜…è¯»ä¹‹å‰çš„å†…å®¹ï¼Œä¸è¿‡ï¼Œä½ å¯ä»¥å‚è€ƒ<a href=\"https://gality.cn/misc/trail-and-error/ubuntu%E6%89%A9%E5%AE%B9/\">è¿™ç¯‡æ–‡ç« </a>æ¥è®©è§£å†³é—®é¢˜ã€‚</p>\n<h1 id=\"å®‰è£…å†…æ ¸\"><a class=\"anchor\" href=\"#å®‰è£…å†…æ ¸\">#</a> å®‰è£…å†…æ ¸</h1>\n<h2 id=\"å®‰è£…æ¨¡å—\"><a class=\"anchor\" href=\"#å®‰è£…æ¨¡å—\">#</a> å®‰è£…æ¨¡å—</h2>\n<p>å°†å·²ç»ç¼–è¯‘å¥½çš„æ¨¡å—å®‰è£…åˆ°å†…æ ¸ä¸­</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">make</span> modules_install</pre></td></tr></table></figure><h2 id=\"å®‰è£…-linux-å†…æ ¸å¤´æ–‡ä»¶å¯é€‰\"><a class=\"anchor\" href=\"#å®‰è£…-linux-å†…æ ¸å¤´æ–‡ä»¶å¯é€‰\">#</a> å®‰è£… Linux å†…æ ¸å¤´æ–‡ä»¶ (å¯é€‰)</h2>\n<p>å¦‚æœæ‰“ç®—å°è¯•è‡ªè¡Œç¼–å†™æ¨¡å—ï¼Œå¯èƒ½ä¼šéœ€è¦ Linux å†…æ ¸æä¾›çš„å¤´æ–‡ä»¶ã€‚å¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥å®‰è£…å¤´æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">make</span> headers_install</pre></td></tr></table></figure><p>è¿™äº›å¤´æ–‡ä»¶ä¼šè¢«å®‰è£…åˆ°  <code>/usr</code>  ç›®å½•ã€‚åŒæ—¶è¿˜ä¼šåœ¨  <code>/usr</code>  ç›®å½•å†…åˆ›å»ºå­ç›®å½•  <code>include/linux</code> ï¼Œç„¶åå°†å¤´æ–‡ä»¶å®‰è£…åˆ°  <code>/usr/include/linux</code>  å†…</p>\n<h2 id=\"å®‰è£…å†…æ ¸-2\"><a class=\"anchor\" href=\"#å®‰è£…å†…æ ¸-2\">#</a> å®‰è£…å†…æ ¸</h2>\n<p>å®‰è£…å†…æ ¸ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šæ›´æ–° boot å’Œ grub</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œå¯ä»¥é‡å¯ <code>reboot</code>  æ¥æµ‹è¯•æ–°å†…æ ¸æ˜¯å¦æˆåŠŸå®‰è£…ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">uname</span> <span class=\"token parameter variable\">-r</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">5.4</span>.272-gality <span class=\"token comment\"># Yeah~</span></pre></td></tr></table></figure><h3 id=\"å®‰è£…å¤±è´¥æŠ¥é”™\"><a class=\"anchor\" href=\"#å®‰è£…å¤±è´¥æŠ¥é”™\">#</a> å®‰è£…å¤±è´¥æŠ¥é”™</h3>\n<p>å¦‚æœåœ¨å®‰è£…å†…æ ¸æ—¶å‡ºç°ç±»ä¼¼å¦‚ä¸‹æŠ¥é”™ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>update-initramfs: Generating /boot/initrd.img-5.4.0.52-generic</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Error <span class=\"token number\">24</span> <span class=\"token builtin class-name\">:</span> Write error <span class=\"token builtin class-name\">:</span> cannot <span class=\"token function\">write</span> compressed block</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>E: mkinitramfs failure cpio <span class=\"token number\">141</span> lz4 <span class=\"token parameter variable\">-9</span> <span class=\"token parameter variable\">-I</span> <span class=\"token number\">24</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>update-initramfs: failed <span class=\"token keyword\">for</span> /boot/initrd.img-5.4.0-52-generic with <span class=\"token number\">1</span>.</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">..</span>.</pre></td></tr></table></figure><p>ä»£è¡¨å†™å…¥ <code>/boot</code>  å¤±è´¥ï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ­¥éª¤ç¡®å®šåŸå› ï¼š</p>\n<ol>\n<li>åˆ¤æ–­æ˜¯å¦æœ‰ <code>/boot</code>  ç›®å½•çš„æƒé™ï¼ˆæ˜¯å¦ç”¨ <code>sudo</code>  äº†ï¼Ÿ <code>/boot</code>  å’Œæ‰€æœ‰æ–‡ä»¶æ˜¯å¦å±äº <code>root</code> ï¼Ÿï¼‰</li>\n<li><code>/boot</code>  ç›®å½•æ˜¯å¦æœ‰è¶³å¤Ÿå‰©ä½™ç©ºé—´ï¼ˆ <code>/boot</code>  å¯èƒ½è¢«è¿‡æ—¶çš„å†…æ ¸å¡«æ»¡äº†ï¼‰ï¼Ÿ</li>\n<li>æ˜¯å¦æ˜¯é©±åŠ¨çš„é—®é¢˜ï¼ˆèƒ½å¦åœ¨åˆ«çš„ä½ç½®å†™å…¥æ–‡ä»¶ï¼‰ï¼Ÿ</li>\n</ol>\n<p>å¦‚æœæ˜¯å…¨æ–°çš„ ubuntu ç³»ç»Ÿç”¨äºå®‰è£…å†…æ ¸ï¼Œå¤§æ¦‚ç‡ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œç¬”è€…æœ¬èº«é‡åˆ°è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºä¹‹å‰æ‰‹åŠ¨ç¼–è¯‘å®‰è£…è¿‡ä¸€æ¬¡å†…æ ¸ï¼Œç¬¬äºŒæ¬¡å®‰è£…æ—¶å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> list <span class=\"token parameter variable\">--installed</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> linux-image <span class=\"token comment\"># åˆ—å‡ºæ‰€æœ‰å®‰è£…è¿‡çš„å†…æ ¸</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> remove linux-image-5.4.0-54-generic <span class=\"token comment\"># åˆ é™¤è¿‡æ—¶çš„å†…æ ¸</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> autoremove <span class=\"token comment\"># è‡ªåŠ¨åˆ é™¤è¿‡æ—¶å†…æ ¸çš„ä¾èµ–</span></pre></td></tr></table></figure><p>é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ° <code>sudo apt list --installed | grep linux-image</code>  åæ²¡æœ‰å‡ºç°ä»»ä½•ç‰ˆæœ¬å†…æ ¸ã€‚ç„¶åé‡æ–° <code>sudo make install</code>  å³å¯æˆåŠŸå®‰è£…å†…æ ¸ã€‚</p>\n",
            "tags": [
                "æ“ä½œç³»ç»Ÿ",
                "å†…æ ¸",
                "æ“ä½œç³»ç»Ÿ",
                "kernel",
                "linux"
            ]
        },
        {
            "id": "https://gality.cn/llvm/llvm-tutorial/",
            "url": "https://gality.cn/llvm/llvm-tutorial/",
            "title": "LLVM ç®€æ˜æ•™ç¨‹",
            "date_published": "2024-03-11T02:35:28.000Z",
            "content_html": "<div class=\"note warning no-icon\">\n<p>âš ï¸ ç¬”è€…æœ¬äººä¹Ÿæ˜¯ LLVM æ–°æ‰‹ï¼Œæ‰€ä»¥æœ¬ç¯‡å†…å®¹åªæ˜¯ç¬”è€…åœ¨è‡ªå·±çš„ç†è§£ä¸Šå†™å‡ºçš„ç¬”è®°æ€§è´¨çš„ â€œæ•™ç¨‹â€ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¿˜è¯·å¤§ä½¬ä»¬æŒ‡æ­£ã€‚å†™è¿™ç¯‡æ–‡ç« çš„ç›®çš„åœ¨äºï¼Œç¬”è€…è‡ªå·±åœ¨å…¥é—¨ LLVM IR åŠ API æ—¶åŸºæœ¬éƒ½æ˜¯è‹±æ–‡æ•™ç¨‹ï¼Œå›½å†…çš„æ•™ç¨‹éå¸¸æ‚ä¹±ï¼ŒLLVM IR ç›¸å…³çš„å†…å®¹è¿˜æ¯”è¾ƒä¸°å¯Œï¼Œä½†å¯¹äº LLVM API ç›¸å…³çš„èµ„æ–™å°±æ¯”è¾ƒå°‘äº†ï¼Œç¬”è€…åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­çš„å¾ˆå¤šé—®é¢˜éƒ½æ˜¯åœ¨ Stack Overflow ä¸Šå¾—åˆ°è§£ç­”çš„ï¼Œæ‰€ä»¥è¿™é‡Œå°†å„ç§è¸©å‘è®°å½•ä¸‹æ¥ï¼Œå¸®åŠ©å…¶ä»–åŒå­¦ã€‚</p>\n</div>\n<h1 id=\"llvm-å®‰è£…ä¸ç¯å¢ƒé…ç½®\"><a class=\"anchor\" href=\"#llvm-å®‰è£…ä¸ç¯å¢ƒé…ç½®\">#</a> LLVM å®‰è£…ä¸ç¯å¢ƒé…ç½®</h1>\n<div class=\"note primary no-icon\">\n<p>ç¬”è€…çš„ç¯å¢ƒä¸ºï¼š</p>\n<ul>\n<li>MacBook Pro 2019 Intel èŠ¯ç‰‡ macOS 14.2.1 Sonoma</li>\n<li>Homebrew 4.2.11</li>\n<li>CLion 233.14475.31, built on February 13, 2024</li>\n</ul>\n</div>\n<h2 id=\"å®‰è£…\"><a class=\"anchor\" href=\"#å®‰è£…\">#</a> å®‰è£…</h2>\n<p>ç”±äº xcode è‡ªå¸¦çš„ LLVM æ˜¯ç»è¿‡é˜‰å‰²çš„ç‰ˆæœ¬ï¼Œå¾ˆå¤š llvm çš„å‘½ä»¤éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥éœ€è¦å•ç‹¬ä¸‹è½½ llvmï¼Œæ¨èä½¿ç”¨ <code>Homebrew</code>  æ¥å®‰è£…ã€‚</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æœç´¢æ‰€æœ‰å¯ç”¨çš„ llvm ç‰ˆæœ¬</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>brew search llvm</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># ä¸‹è½½æŒ‡å®šç‰ˆæœ¬</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>brew <span class=\"token function\">install</span> llvm@11</pre></td></tr></table></figure><p>ç”±äº<strong> llvm ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„ API æœ‰äº›å¾®ä¸åŒ</strong>ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯æ ¹æ®éœ€æ±‚å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ LLVMï¼Œé˜²æ­¢å‡ºç° <code>undefined symbol</code>  çš„é—®é¢˜ã€‚</p>\n<details class=\"info\"><summary>æ— æ³•å®‰è£…/å®‰è£…å‡ºé”™</summary><div>\n<p>å¦‚æœå®‰è£…æ—¶å‡ºç°æŠ¥é”™ï¼š <code>Error: llvm@11 has been disabled because it is a versioned formula!</code> ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è§£å†³ï¼š</p>\n<ol>\n<li><code>brew tap --force homebrew/core</code></li>\n<li><code>brew edit llvm@11</code></li>\n<li>æŠŠ  <code>disable! date: &quot;2024-02-22&quot;, because: :versioned_formula</code>  ä¸­çš„è¿‡æœŸæ—¶é—´æ”¹ä¸ºå½“å‰æˆ–ä»¥åï¼Œç„¶åä¿å­˜</li>\n<li><code>HOMEBREW_NO_INSTALL_FROM_API=1 brew install llvm@11</code></li>\n</ol>\n</div></details>\n<p>å®‰è£…å®Œæˆåéœ€è¦å°†å¦‚ä¸‹é…ç½®å†™å…¥ç¯å¢ƒå˜é‡ä¸­ï¼Œç”±äºç¬”è€…ä½¿ç”¨çš„ <code>zsh</code> ï¼Œæ‰€ä»¥å°±æ˜¯æŠŠå¦‚ä¸‹å†…å®¹å†™å…¥åˆ° <code>~/.zshrc</code>  ä¸­ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">LDFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-L/usr/local/opt/llvm@11/lib -Wl,-rpath,/usr/local/opt/llvm@11/lib\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token string\">\"/usr/local/opt/llvm@11/bin:<span class=\"token environment constant\">$PATH</span>\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">LDFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-L/usr/local/opt/llvm@11/lib\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CPPFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-I/usr/local/opt/llvm@11/include\"</span></pre></td></tr></table></figure><p>è¿™æ˜¯åœ¨å½“å‰ç‰ˆæœ¬ä¸‹ <code>Homebrew</code>  çš„é»˜è®¤ LLVM å®‰è£…è·¯å¾„ï¼Œå¦‚æœä½ çš„è·¯å¾„ä¸æ˜¯è¿™ä¸ªï¼Œè¯·æ”¹æˆè‡ªå·±çš„è·¯å¾„ã€‚</p>\n<h2 id=\"æµ‹è¯•\"><a class=\"anchor\" href=\"#æµ‹è¯•\">#</a> æµ‹è¯•</h2>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># é‡æ–°åŠ è½½ä¸€ä¸‹ç¯å¢ƒå˜é‡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">source</span> ~/.zshrc</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># æµ‹è¯• llvm æ˜¯å¦æˆåŠŸå®‰è£…</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>llvm-config <span class=\"token parameter variable\">--version</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>â•°â–¸ <span class=\"token number\">11.1</span>.0</pre></td></tr></table></figure><h2 id=\"ç¯å¢ƒé…ç½®\"><a class=\"anchor\" href=\"#ç¯å¢ƒé…ç½®\">#</a> ç¯å¢ƒé…ç½®</h2>\n<div class=\"note info\">\n<p>ç¬”è€…å°è¯•äº†å¤šç§ä¸åŒçš„ IDEï¼ŒåŒ…æ‹¬ VSCodeã€Xcode å’Œ CLionï¼Œæœ€ç»ˆæˆåŠŸåœ¨ CLion ä¸ŠæˆåŠŸæ­å»ºäº†å¯è°ƒè¯•çš„ LLVM å¼€å‘ç¯å¢ƒï¼Œæ‰€ä»¥æ¨èä½¿ç”¨ CLion ä½œä¸º IDEã€‚</p>\n</div>\n<ol>\n<li>\n<p>éšä¾¿åˆ›å»ºä¸€ä¸ª <code>C++ Executable</code>  é¡¹ç›®ï¼Œè¯­è¨€æ ‡å‡†ä»»é€‰ã€‚</p>\n</li>\n<li>\n<p>ç‚¹å‡»<span class=\"kbd\"> CLion</span> =&gt; <span class=\"kbd\">settings</span> =&gt; <span class=\"kbd blue\">Build, Execution, Deployment</span> =&gt; <span class=\"kbd red\">CMake options</span>ï¼Œå†™å…¥ï¼š<br />\n <code>-DLLVM_DIR:PATH=/usr/local/Cellar/llvm@11/11.1.0_4/lib/cmake/llvm</code></p>\n</li>\n<li>\n<p>CLion åº”è¯¥ä¼šè‡ªåŠ¨ä¸ºå½“å‰é¡¹ç›®åˆ›å»ºä¸€ä¸ª <code>CMakeLists.txt</code> ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™åœ¨ CLion å·¦è¾¹çš„é¡¹ç›®æ ¹ç›®å½•ä¸­<span class=\"kbd\">å³é”®</span> =&gt; <span class=\"kbd\">new</span> =&gt; <span class=\"kbd red\">CMakeLists.txt</span>ã€‚</p>\n</li>\n<li>\n<p>å°†å¦‚ä¸‹å†…å®¹å†™å…¥ <code>CMakeLists.txt</code>  ä¸­ï¼ˆå‡è®¾ä½ çš„é¡¹ç›®åä¸º llvm_testï¼‰ï¼š</p>\n<figure class=\"highlight cmake\"><figcaption data-lang=\"CMake\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">cmake_minimum_required</span><span class=\"token punctuation\">(</span><span class=\"token property\">VERSION</span> <span class=\"token number\">3.27</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">project</span><span class=\"token punctuation\">(</span>llvm_test<span class=\"token punctuation\">)</span> <span class=\"token comment\"># éœ€æ”¹ä¸ºä½ çš„é¡¹ç›®å</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">find_package</span><span class=\"token punctuation\">(</span>LLVM REQUIRED CONFIG<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">message</span><span class=\"token punctuation\">(</span>STATUS <span class=\"token string\">\"Found LLVM <span class=\"token interpolation\"><span class=\"token punctuation\">$&#123;</span><span class=\"token variable\">LLVM_PACKAGE_VERSION</span><span class=\"token punctuation\">&#125;</span></span>\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">message</span><span class=\"token punctuation\">(</span>STATUS <span class=\"token string\">\"Using LLVMConfig.cmake in: <span class=\"token interpolation\"><span class=\"token punctuation\">$&#123;</span><span class=\"token variable\">LLVM_DIR</span><span class=\"token punctuation\">&#125;</span></span>\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># Set your project compile flags.</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># E.g. if using the C++ header files</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># you will need to enable C++11 support</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\"># for your compiler.</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">include_directories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">$&#123;</span>LLVM_INCLUDE_DIRS<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">add_definitions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">$&#123;</span>LLVM_DEFINITIONS<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">CMAKE_CXX_STANDARD</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">add_executable</span><span class=\"token punctuation\">(</span>llvm_test main.cpp<span class=\"token punctuation\">)</span> <span class=\"token comment\"># éœ€æ”¹ä¸ºä½ çš„é¡¹ç›®å éœ€è¦ç¼–è¯‘çš„ cpp æ–‡ä»¶å</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token function\">llvm_map_components_to_libnames</span><span class=\"token punctuation\">(</span>llvm_libs irreader<span class=\"token punctuation\">)</span> <span class=\"token comment\">#æ ¹æ®éœ€è¦å¡«å…¥ LLVM ç»„ä»¶</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># Link against LLVM libraries</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">target_link_libraries</span><span class=\"token punctuation\">(</span>llvm_test <span class=\"token punctuation\">$&#123;</span>llvm_libs<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n<li>\n<p>ä¿å­˜åå³å¯ä½¿ç”¨ CLion æ„‰å¿«çš„å¼€å‘ / Debug LLVM C++ API ä»£ç äº†ã€‚</p>\n</li>\n</ol>\n<details class=\"info\"><summary>âš ï¸å¸¸è§é—®é¢˜</summary><div>\n<ol>\n<li>å¦‚æœåœ¨ç¬¬ 4 æ­¥å‡ºç°é”™è¯¯ï¼šæ‰¾ä¸åˆ° <code>LLVMConfig.cmake</code>  æ–‡ä»¶ï¼Œä»£è¡¨ä½ çš„ <code>Homebrew</code>  å’Œç¬”è€…ä¸åŒï¼Œè¯·å…¨å±€æœç´¢ <code>LLVMConfig.cmake</code>  æ–‡ä»¶å¹¶åœ¨ <code>-DLLVM_DIR:PATH=</code>  åå†™å…¥æ­£ç¡®çš„ä½ç½®ï¼‰</li>\n<li>ä¸Šè¿°ä»£ç ä¸­ <code>llvm_map_components_to_libnames(llvm_libs irreader)</code>  æ˜¯ä¸€ç§æŒ‰éœ€ä½¿ç”¨ LLVM ç»„ä»¶çš„æ–¹å¼ï¼Œ <code>irreader</code>  å°±æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå¯¹åº”ç€å¤´æ–‡ä»¶ <code>&quot;llvm/IR/IRBuilder.h&quot;</code> ï¼Œå¦‚æœä½ åœ¨å¼•ç”¨å¤´æ–‡ä»¶æ˜¯å‡ºç° <code>&quot;xxx.h&quot; not found</code>  çš„é”™è¯¯ï¼Œè¯·æ£€æŸ¥æ˜¯å¦åœ¨ <code>CMakeLists.txt</code>  ä¸­å¼•å…¥äº†å¯¹åº”çš„ç»„ä»¶ã€‚</li>\n<li>å¯ä»¥é€šè¿‡ <code>llvm-config --components all</code>  åˆ—å‡º LLVM çš„æ‰€æœ‰ç»„ä»¶ã€‚</li>\n</ol>\n</div></details>\n<h1 id=\"llvm-åŸºæœ¬çŸ¥è¯†\"><a class=\"anchor\" href=\"#llvm-åŸºæœ¬çŸ¥è¯†\">#</a> LLVM åŸºæœ¬çŸ¥è¯†</h1>\n<h2 id=\"åŸºæœ¬æ¦‚å¿µ\"><a class=\"anchor\" href=\"#åŸºæœ¬æ¦‚å¿µ\">#</a> åŸºæœ¬æ¦‚å¿µ</h2>\n<h3 id=\"å¼•å…¥\"><a class=\"anchor\" href=\"#å¼•å…¥\">#</a> å¼•å…¥</h3>\n<p>éšç€è®¡ç®—æœºæŠ€æœ¯çš„ä¸æ–­å‘å±•ä»¥åŠå„ç§é¢†åŸŸéœ€æ±‚çš„å¢å¤šï¼Œè¿‘å‡ å¹´æ¥ï¼Œè®¸å¤šç¼–ç¨‹è¯­è¨€å¦‚é›¨åæ˜¥ç¬‹èˆ¬å‡ºç°ï¼Œä»–ä»¬å¤§å¤šä¸ºäº†è§£å†³æŸä¸€äº›ç‰¹å®šé¢†åŸŸçš„éœ€æ±‚ï¼Œæ¯”å¦‚è¯´ä¸º JavaScript å¢åŠ é™æ€ç±»å‹æ£€æŸ¥çš„ TypeScriptï¼Œä¸ºè§£å†³æœåŠ¡å™¨ç«¯é«˜å¹¶å‘çš„ Golangï¼Œä¸ºè§£å†³å†…å­˜å®‰å…¨å’Œçº¿ç¨‹å®‰å…¨çš„ Rustã€‚</p>\n<p>è®©æˆ‘ä»¬è®¾èº«å¤„åœ°åœ°æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¼€å‘ä¸€é—¨æ–°çš„ç¼–è¯‘å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œæœ‰ä»€ä¹ˆéœ€è¦è§£å†³çš„é—®é¢˜å‘¢ï¼Ÿ</p>\n<ol>\n<li>\n<p>æ€æ ·è®©æˆ‘çš„ç¼–ç¨‹è¯­è¨€èƒ½åœ¨å°½å¯èƒ½å¤šçš„å¹³å°ä¸Šè¿è¡Œ</p>\n<p>â€‹\tæˆ‘æƒ³è®©æˆ‘çš„ç¼–ç¨‹è¯­è¨€èƒ½å¤Ÿåœ¨ Windowsã€macOS å’Œ Linux ä¸Šéƒ½å¯ä»¥è¿è¡Œï¼›æˆ‘æƒ³è®©æˆ‘çš„ç¼–ç¨‹è¯­è¨€èƒ½å¤Ÿåœ¨ Intel èŠ¯ç‰‡ã€ARM èŠ¯ç‰‡ï¼Œä¹ƒè‡³é¾™èŠ¯ä¸Šéƒ½å¯ä»¥è¿è¡Œã€‚</p>\n</li>\n<li>\n<p>æ€æ ·è®©æˆ‘çš„ç¼–ç¨‹è¯­è¨€å¯ä»¥ä½¿ç”¨å‰äººå…ˆè¿›çš„æŠ€æœ¯</p>\n<p>â€‹\tåœ¨ç¼–ç¨‹è¯­è¨€å‘å±•çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰è®¸è®¸å¤šå¤šæˆç†Ÿçš„æŠ€æœ¯ã€‚ä»æ±‡ç¼–æŒ‡ä»¤å±‚é¢æ¥çœ‹ï¼Œç®€å•åœ°æƒ³ç»™ä¸€ä¸ªå˜é‡å€¼ç½® 0ï¼ŒAMD64 æ¶æ„ä¸‹å¯ä»¥ç”¨ <code>xor %eax, %eax</code>  å¼‚æˆ–è‡ªèº«ï¼ŒAArch64 æ¶æ„ä¸‹å¯ä»¥ç”¨ <code>mov w0, wzr</code>  ä½¿ç”¨é›¶å¯„å­˜å™¨ï¼›ä»ç®—æ³•å±‚é¢æ¥çœ‹ï¼Œå¯ä»¥ä½¿ç”¨å°¾è°ƒç”¨ä¼˜åŒ–ã€CFI ç­‰ã€‚å¦‚æœæˆ‘ä¸æƒ³é‡å¤é€ è½®å­ï¼Œè¯¥å¦‚ä½•å¤ç”¨è¿™äº›æŠ€æœ¯å‘¢ï¼Ÿ</p>\n</li>\n<li>\n<p>æ€æ ·è®©æˆ‘çš„ç¼–ç¨‹è¯­è¨€åœ¨æ±‡ç¼–å±‚é¢å®ç°ã€Œå®šåˆ¶ã€</p>\n<p>â€‹\té«˜çº§è¯­è¨€ä¸­çš„å‡½æ•°åï¼Œåœ¨æ±‡ç¼–å±‚é¢ï¼Œæˆ‘æƒ³è®©ä»–æ¢ä¸ªåå­—ï¼›æˆ‘æƒ³è®© C è¯­è¨€åº“èƒ½ç”¨å®ƒçš„è°ƒç”¨çº¦å®šæ¥è°ƒç”¨æˆ‘çš„é«˜çº§è¯­è¨€ä¸­çš„å‡½æ•°ã€‚</p>\n</li>\n</ol>\n<p>æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨ C è¯­è¨€æ¥ä½œä¸º â€œä¸­é—´å±‚â€ï¼Œå½“æˆ‘ä»¬å¼€å‘æ–°ç¼–è¯‘è¯­è¨€æ—¶ï¼Œæä¾›è¯¥è¯­è¨€åˆ° C è¯­è¨€çš„è½¬æ¢ï¼Œè¿™æ ·åšæ˜¯å› ä¸ºï¼š</p>\n<ol>\n<li>ç»å¤§éƒ¨åˆ†çš„æ“ä½œç³»ç»Ÿéƒ½æ˜¯ç”± C å’Œæ±‡ç¼–è¯­è¨€å†™æˆï¼Œå› æ­¤å¹³å°å¤§å¤šä¼šæä¾›ä¸€ä¸ª C ç¼–è¯‘å™¨å¯ä»¥ä½¿ç”¨ï¼Œè¿™æ ·å°±è§£å†³äº†ç¬¬ä¸€ä¸ªé—®é¢˜</li>\n<li>C è¯­è¨€å†å²ä¹…è¿œï¼Œæœ‰éå¸¸å¤šçš„ä¼˜åŒ–å™¨ï¼Œç¨‹åºç¿»è¯‘æˆ C è¯­è¨€åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨é‚£äº›ä¸º C è¯­è¨€å®šåˆ¶çš„ä¼˜åŒ–å™¨ï¼Œä»è€Œæ–¹ä¾¿çš„ä½¿ç”¨å‰äººçš„æˆç†ŸæŠ€æœ¯ï¼Œè¿™å°±è§£å†³äº†ç¬¬äºŒä¸ªé—®é¢˜ã€‚</li>\n<li>C è¯­è¨€æœ¬èº«å¹¶æ²¡æœ‰ç¬¨é‡çš„è¿è¡Œæ—¶ï¼Œä»£ç å¾ˆè´´è¿‘åº•å±‚ï¼Œå¯ä»¥ä½¿ç”¨ä¸€å®šç¨‹åº¦çš„å®šåˆ¶ï¼Œä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†ç¬¬ä¸‰ä¸ªé—®é¢˜ã€‚</li>\n</ol>\n<p>ç„¶è€Œï¼ŒC è¯­è¨€æ¯•ç«Ÿæ˜¯ â€œè€å¤è‘£â€ äº†ï¼Œç›¸å¯¹äºç°åœ¨çš„å„ç§ç¼–ç¨‹è¯­è¨€æ¥è¯´è¿˜æ˜¯å¤ªè¿‡åƒµç¡¬æ­»æ¿ã€‚å¦‚æœæœ‰è¿™ä¹ˆä¸€ç§è¯­è¨€ï¼Œä»–<strong>å¯ä»¥åœ¨å„ä¸ªå¹³å°è¿è¡Œ</strong>ï¼Œä¸”<strong>è‡ªå¸¦æé«˜çš„ä»£ç ä¼˜åŒ–èƒ½åŠ›</strong>ï¼ŒåŒæ—¶<strong>æä¾›çµæ´»æ“ä½œç³»ç»Ÿåº•å±‚çš„èƒ½åŠ›</strong>ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æƒ³å¼€å‘ä¸€ä¸ªæ–°çš„ç¼–ç¨‹è¯­è¨€æ—¶ï¼Œå²‚ä¸æ˜¯åªéœ€è¦æä¾›ä¸€ä¸ªä»æ–°è¯­è¨€åˆ°è¿™ç§è¯­è¨€çš„è½¬æ¢å™¨å°±å¯ä»¥äº†ã€‚æ²¡é”™ï¼Œè¿™å°±æ˜¯ LLVMï¼</p>\n<p>ç®€å•æ¥è¯´ï¼Œå½“æˆ‘ä»¬æƒ³å¼€å‘ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€æ—¶ï¼Œåªéœ€æä¾›å°†è‡ªå·±è¯­è¨€çš„æºä»£ç ç¼–è¯‘æˆ LLVM çš„ä¸­é—´ä»£ç ï¼ˆLLVM IRï¼‰çš„èƒ½åŠ›ï¼Œç„¶åå°±å¯ä»¥äº¤ç”± LLVM å¯¹ä¸­é—´ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶ç¼–è¯‘æˆæ‰€éœ€è¿è¡Œå¹³å°çš„äºŒè¿›åˆ¶ç¨‹åºã€‚LLVM çš„ä¼˜ç‚¹ä¹Ÿæ­£å¯¹åº”æˆ‘ä»¬ä¹‹å‰è®²çš„ä¸‰ä¸ªé—®é¢˜ï¼š</p>\n<ul>\n<li>\n<p>LLVM åç«¯æ”¯æŒçš„å¹³å°å¾ˆå¤šï¼Œæˆ‘ä»¬ä¸éœ€è¦æ‹…å¿ƒ CPUã€æ“ä½œç³»ç»Ÿçš„é—®é¢˜</p>\n<p>æœ‰ä¸€ç‚¹éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œæ“ä½œç³»ç»Ÿ API çš„è°ƒç”¨è¿˜æ˜¯å¾—ç”±ç¼–ç¨‹è¯­è¨€å¼€å‘è€…è‡ªå·±å®ç°ï¼ŒLLVM ä¸è´Ÿè´£è¿™ä¸ªã€‚ä¾‹å¦‚ï¼Œç¼–ç¨‹è¯­è¨€çš„æ ‡å‡†åº“ä¸­ï¼Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå…¶åº•å±‚å®ç°åœ¨ Linux ä¸­æ˜¯å¦æ˜¯ <code>open</code>  ç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨ Windows ä¸­æ˜¯å¦æ˜¯ <code>CreateFile</code>  å‡½æ•°ï¼Œè¿™éƒ½å¾—ç¼–ç¨‹è¯­è¨€å¼€å‘è€…è‡ªå·±å®ç°ã€‚</p>\n</li>\n<li>\n<p>LLVM åç«¯çš„ä¼˜åŒ–æ°´å¹³è¾ƒé«˜ï¼Œæˆ‘ä»¬åªéœ€è¦å°†ä»£ç ç¼–è¯‘æˆ LLVM IRï¼Œå°±å¯ä»¥ç”± LLVM åç«¯ä½œç›¸åº”çš„ä¼˜åŒ–</p>\n<p>ä½†æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€ç‚¹ï¼ŒLLVM IR æ¯•ç«Ÿæ˜¯æ›´ä¸ºåº•å±‚çš„è¯­è¨€ï¼Œåœ¨é«˜çº§è¯­è¨€ä¸­çš„è®¸å¤šç»†èŠ‚ï¼Œéƒ½ä¼šåœ¨ LLVM IR ä¸­ä¸¢å¤±ã€‚å› æ­¤ï¼Œé«˜çº§è¯­è¨€ä¸­èƒ½åšçš„ä¼˜åŒ–ï¼Œè¿˜æ˜¯å¾—è¶æ—©åšï¼ŒæŠŠä¸€å¤§å †æœªç»ä¼˜åŒ–çš„ LLVM IR ä¸¢ç»™ LLVM åç«¯å»ä¼˜åŒ–ï¼Œä¼šä¸¥é‡æ‹–æ…¢ç¼–è¯‘æ—¶é—´ï¼Œé™ä½ç”Ÿæˆçš„äºŒè¿›åˆ¶ç¨‹åºçš„æ€§èƒ½ã€‚</p>\n</li>\n<li>\n<p>LLVM IR æœ¬èº«æ¯”è¾ƒè´´è¿‘æ±‡ç¼–è¯­è¨€ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†è®¸å¤š ABI å±‚é¢çš„å®šåˆ¶åŒ–åŠŸèƒ½</p>\n</li>\n</ul>\n<h3 id=\"æ¶æ„\"><a class=\"anchor\" href=\"#æ¶æ„\">#</a> æ¶æ„</h3>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/lhykol.jpg\" alt=\"LLVM æ¶æ„\" /></p>\n<p>LLVM æ•´ä½“æ¶æ„å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚åœ¨æ•´ä¸ªç¼–è¯‘è¿‡ç¨‹ä¸­ï¼ŒLLVM çš„å‰ç«¯æ˜¯ä¸ºå„ç§ç¼–ç¨‹è¯­è¨€å®šåˆ¶çš„ï¼Œè´Ÿè´£å°†å¯¹åº”ç¼–ç¨‹è¯­è¨€çš„æºä»£ç è½¬æ¢æˆ LLVM ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼ŒIntermediate Representationï¼‰ï¼›LLVM çš„åç«¯ä¸ºå„ç§ä¸åŒçš„å¹³å°åšäº†é€‚é…ï¼Œè´Ÿè´£å°† LLVM IR è½¬æ¢æˆåœ¨ç‰¹å®šå¹³å°ä¸Šå¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å¦‚æœåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°ä¼˜åŒ–çš„è¯ï¼Œåˆ™ç”± LLVM ä¼˜åŒ–å™¨æ¥å¯¹ IR æ–‡ä»¶è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶å°†ä¼˜åŒ–åçš„ IR æ–‡ä»¶è¾“å‡ºç»™ LLVM åç«¯å»ç¼–è¯‘ï¼Œå› æ­¤ IR çš„è®¾è®¡æ˜¯ LLVM çš„çµé­‚æ‰€åœ¨ã€‚</p>\n<h3 id=\"llvm-ir\"><a class=\"anchor\" href=\"#llvm-ir\">#</a> LLVM IR</h3>\n<div class=\"note info no-icon\">\n<p>ğŸ”” æœ‰å…³ IR çš„æ›´å¤šçŸ¥è¯†ï¼Œå°†åœ¨ã€ŒåŸºæœ¬ IR æŒ‡ä»¤ã€ç« èŠ‚ä¸­è®²è§£</p>\n</div>\n<p>LLVM IR çš„è®¾è®¡ä½“ç°äº†<strong>æƒè¡¡</strong>çš„è®¡ç®—æ€ç»´ã€‚ä½çº§çš„ IRï¼ˆå³æ›´æ¥è¿‘ç›®æ ‡ä»£ç çš„ IRï¼‰å…è®¸ç¼–è¯‘å™¨æ›´å®¹æ˜“åœ°ç”Ÿæˆé’ˆå¯¹ç‰¹å®šç¡¬ä»¶çš„ä¼˜åŒ–ä»£ç ï¼Œä½†ä¸åˆ©äºæ”¯æŒå¤šç›®æ ‡ä»£ç çš„ç”Ÿæˆã€‚é«˜çº§çš„ IR å…è®¸ä¼˜åŒ–å™¨æ›´å®¹æ˜“åœ°æå–æºä»£ç çš„æ„å›¾ï¼Œä½†ä¸åˆ©äºç¼–è¯‘å™¨æ ¹æ®ä¸åŒçš„ç¡¬ä»¶ç‰¹æ€§è¿›è¡Œä»£ç ä¼˜åŒ–ã€‚</p>\n<p>LLVM IR çš„è®¾è®¡é‡‡ç”¨ <code>common IR</code>  å’Œ <code>specific IR</code>  ç›¸ç»“åˆçš„æ–¹å¼ã€‚ <code>common IR</code>  æ—¨åœ¨ä¸åŒçš„åç«¯å…±äº«å¯¹æºç¨‹åºçš„ç›¸åŒç†è§£ï¼Œä»¥å°†å…¶è½¬æ¢ä¸ºä¸åŒçš„ç›®æ ‡ä»£ç ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿä¸ºå¤šä¸ªåç«¯ä¹‹é—´å…±äº«ä¸€ç»„ä¸ç›®æ ‡æ— å…³çš„ä¼˜åŒ–æä¾›äº†å¯èƒ½æ€§ã€‚ <code>specific IR</code>  å…è®¸ä¸åŒçš„åç«¯åœ¨ä¸åŒçš„è¾ƒä½çº§åˆ«ä¼˜åŒ–ç›®æ ‡ä»£ç ã€‚è¿™æ ·åšï¼Œæ—¢å¯ä»¥æ”¯æŒå¤šç›®æ ‡ä»£ç çš„ç”Ÿæˆï¼Œä¹Ÿå…¼é¡¾äº†ç›®æ ‡ä»£ç çš„æ‰§è¡Œæ•ˆç‡ã€‚</p>\n<p>LLVM IR æœ‰å¦‚ä¸‹ 3 ç§<strong>ç­‰ä»·</strong>å½¢å¼ï¼š</p>\n<ul>\n<li>å†…å­˜è¡¨ç¤º\n<ul>\n<li>ç±» <code>llvm::Function</code> ã€ <code>llvm::Instruction</code>  ç­‰ç”¨äºè¡¨ç¤º <code>common IR</code> ã€‚</li>\n<li>ç±» <code>llvm::MachineFunction</code> ã€ <code>llvm::MachineInstr</code>  ç­‰ç”¨äºè¡¨ç¤º <code>specific IR</code> ã€‚</li>\n</ul>\n</li>\n<li><code>.bc</code>  æ ¼å¼ï¼ˆBitcode Filesï¼Œå­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼‰</li>\n<li><code>.ll</code>  æ ¼å¼ï¼ˆå­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œä¾¿äºäººç±»é˜…è¯»ï¼‰</li>\n</ul>\n<p>LLVM IR çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>é‡‡ç”¨é™æ€å•ä¸€èµ‹å€¼ï¼ˆStatic Single Assignmentï¼ŒSSAï¼‰ï¼Œå³æ¯ä¸ªå€¼åªæœ‰ä¸€ä¸ªå®šä¹‰å®ƒçš„èµ‹å€¼æ“ä½œ</li>\n<li>ä»£ç è¢«ç»„ç»‡ä¸ºä¸‰åœ°å€æŒ‡ä»¤ï¼ˆThree-address Instructionsï¼‰</li>\n<li>æœ‰æ— é™å¤šä¸ªå¯„å­˜å™¨</li>\n</ul>\n<h2 id=\"åŸºæœ¬å‘½ä»¤\"><a class=\"anchor\" href=\"#åŸºæœ¬å‘½ä»¤\">#</a> åŸºæœ¬å‘½ä»¤</h2>\n<h3 id=\"c-to-irbitcode\"><a class=\"anchor\" href=\"#c-to-irbitcode\">#</a> C to IR/Bitcode</h3>\n<p>ç”±  <code>test.c</code>  ç”Ÿæˆ  <code>IR</code>  æ–‡ä»¶</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>clang -emit-llvm <span class=\"token parameter variable\">-S</span> test.c <span class=\"token parameter variable\">-o</span> test.ll</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>clang -emit-llvm <span class=\"token parameter variable\">-c</span> test.c <span class=\"token parameter variable\">-o</span> test.bc</pre></td></tr></table></figure><p>å¦‚æœéœ€è¦å…¶ä»–ç¼–è¯‘å‚æ•°å¯ä»¥ç›´æ¥é™„åŠ ï¼Œåªè¦ä¿è¯æœ‰  <code>-emit-llvm -S</code>  å‚æ•°å³å¯ç”Ÿæˆ <code>IR/Bicode</code>  æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>clang -emit-llvm <span class=\"token parameter variable\">-S</span> <span class=\"token parameter variable\">-g</span> <span class=\"token parameter variable\">-O3</span> -funroll-loops test.c <span class=\"token parameter variable\">-o</span> test.ll</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>clang -emit-llvm <span class=\"token parameter variable\">-c</span> <span class=\"token parameter variable\">-g</span> <span class=\"token parameter variable\">-O3</span> -funroll-loops test.c <span class=\"token parameter variable\">-o</span> test.bc</pre></td></tr></table></figure><h3 id=\"cpp-to-irbitcode\"><a class=\"anchor\" href=\"#cpp-to-irbitcode\">#</a> CPP to IR/Bitcode</h3>\n<p>ç”±  <code>test.cpp</code>  ç”Ÿæˆ  <code>IR</code>  æ–‡ä»¶</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>clang++ -emit-llvm <span class=\"token parameter variable\">-S</span> test.cpp <span class=\"token parameter variable\">-o</span> test.ll</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>clang++ -emit-llvm <span class=\"token parameter variable\">-c</span> test.cpp <span class=\"token parameter variable\">-o</span> test.bc</pre></td></tr></table></figure><h3 id=\"ccpp-to-execute\"><a class=\"anchor\" href=\"#ccpp-to-execute\">#</a> C/CPP to execute</h3>\n<p>ä½¿ç”¨æ–¹æ³•ä¸ <code>gcc</code>  ç±»ä¼¼</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>clang test.c <span class=\"token parameter variable\">-o</span> <span class=\"token builtin class-name\">test</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>clang++ test.cpp <span class=\"token parameter variable\">-o</span> <span class=\"token builtin class-name\">test</span></pre></td></tr></table></figure><h3 id=\"ir-to-bitcode\"><a class=\"anchor\" href=\"#ir-to-bitcode\">#</a> IR to Bitcode</h3>\n<p>å¯¹äº LLVM æ¥è¯´ï¼Œ <code>.ll</code>  æ ¼å¼æ˜¯ç»™ â€œäººâ€ çœ‹çš„æ ¼å¼ï¼Œ <code>.bc</code>  æ˜¯ç»™ â€œæœºå™¨â€ çœ‹çš„æ ¼å¼ï¼Œå°† â€œäººâ€ çœ‹çš„ä»£ç è½¬æˆ â€œæœºå™¨ç â€ï¼Œå°±ç±»ä¼¼äºæ±‡ç¼–çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥ç”¨ <code>llvm-as</code>  å‘½ä»¤ã€‚</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>llvm-as test.ll <span class=\"token parameter variable\">-o</span> test.bc</pre></td></tr></table></figure><h3 id=\"bitcode-to-ir\"><a class=\"anchor\" href=\"#bitcode-to-ir\">#</a> Bitcode to IR</h3>\n<p>åŒç†ï¼Œå°† <code>.bc</code>  æ ¼å¼è½¬æ¢ä¸º <code>.ll</code>  æ ¼å¼çš„è¿‡ç¨‹å°±ç±»ä¼¼äºåæ±‡ç¼–çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥ç”¨ <code>llvm-dis</code>  å‘½ä»¤ã€‚</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>llvm-dis test.bc <span class=\"token parameter variable\">-o</span> test.bc.ll</pre></td></tr></table></figure><h3 id=\"irbicode-to-asm\"><a class=\"anchor\" href=\"#irbicode-to-asm\">#</a> IR/Bicode to asm</h3>\n<p>ç”Ÿæˆç›®æ ‡å¹³å°çš„æ±‡ç¼–ä»£ç ï¼Œè¾“å…¥æ–‡ä»¶å¯ä»¥æ˜¯  <code>.bc</code>  ç±»å‹çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯  <code>.ll</code>  ç±»å‹çš„ã€‚</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>llc test.bc <span class=\"token parameter variable\">-o</span> test.bc.s</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>llc test.ll <span class=\"token parameter variable\">-o</span> test.ll.s</pre></td></tr></table></figure><h3 id=\"irbicode-to-execute\"><a class=\"anchor\" href=\"#irbicode-to-execute\">#</a> IR/Bicode to execute</h3>\n<p>IR å’Œ Bitcode æ ¼å¼éƒ½èƒ½ç›´æ¥è¿è¡Œ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>lli test.ll</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>lli test.bc</pre></td></tr></table></figure><h2 id=\"åŸºæœ¬irè¯­æ³•\"><a class=\"anchor\" href=\"#åŸºæœ¬irè¯­æ³•\">#</a> åŸºæœ¬ IR è¯­æ³•</h2>\n<h3 id=\"irç»“æ„\"><a class=\"anchor\" href=\"#irç»“æ„\">#</a> IR ç»“æ„</h3>\n<details class=\"primary\"><summary>LLVM IRçš„ç»“æ„ï¼ˆå¯å…ˆå¾€ä¸‹çœ‹ï¼Œè‡ªå·±æ€»ç»“ï¼‰</summary><div>\n<ol>\n<li>æ¨¡å—ï¼ˆModuleï¼‰ï¼šLLVM IR çš„æœ€é¡¶å±‚ç»“æ„æ˜¯æ¨¡å—ï¼Œè¡¨ç¤ºæ•´ä¸ªç¨‹åºæˆ–åº“ã€‚ä¸€ä¸ªæ¨¡å—ç”±ä¸€ç»„å…¨å±€å˜é‡å’Œå‡½æ•°ç»„æˆã€‚</li>\n<li>å…¨å±€å˜é‡ï¼ˆGlobal Variablesï¼‰ï¼šLLVM IR å…è®¸å£°æ˜å…¨å±€å˜é‡ï¼Œå®ƒä»¬æ˜¯åœ¨æ•´ä¸ªç¨‹åºä¸­å¯è§çš„ã€‚å…¨å±€å˜é‡ç”±å…¶ç±»å‹ã€åç§°å’Œå¯é€‰çš„åˆå§‹å€¼ç»„æˆã€‚å…¨å±€å˜é‡çš„å£°æ˜ä»¥ <code>@</code> ç¬¦å·å¼€å¤´ï¼Œåé¢è·Ÿç€å˜é‡åç§°å’Œç±»å‹ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œ <code>@myGlobal = global i32 0</code>  è¡¨ç¤ºä¸€ä¸ªåä¸º <code>myGlobal</code>  çš„ 32 ä½æ•´æ•°å…¨å±€å˜é‡ï¼Œåˆå§‹å€¼ä¸º 0ã€‚</li>\n<li>å‡½æ•°ï¼ˆFunctionsï¼‰ï¼šLLVM IR ä¸­çš„å‡½æ•°ç”±å‡½æ•°ç±»å‹ã€åç§°ã€å‚æ•°åˆ—è¡¨å’Œå‡½æ•°ä½“ç»„æˆã€‚å‡½æ•°ç±»å‹åŒ…æ‹¬è¿”å›ç±»å‹å’Œå‚æ•°ç±»å‹ã€‚å‡½æ•°çš„å£°æ˜ä»¥ <code>define</code>  å…³é”®å­—å¼€å¤´ï¼Œåé¢æ˜¯è¿”å›ç±»å‹ã€å‡½æ•°åç§°ã€å‚æ•°åˆ—è¡¨å’Œå‡½æ•°ä½“ã€‚å‡½æ•°ä½“ç”±åŸºæœ¬å—ï¼ˆBasic Blockï¼‰ç»„æˆï¼Œæ¯ä¸ªåŸºæœ¬å—ç”±ä¸€ç»„æŒ‡ä»¤ç»„æˆã€‚å‡½æ•°ä½“çš„æœ€åä¸€æ¡æŒ‡ä»¤é€šå¸¸æ˜¯è¿”å›æŒ‡ä»¤ã€‚</li>\n<li>åŸºæœ¬å—ï¼ˆBasic Blocksï¼‰ï¼šåŸºæœ¬å—æ˜¯ LLVM IR ä¸­çš„åŸºæœ¬æ‰§è¡Œå•å…ƒã€‚å®ƒç”±ä¸€ç³»åˆ—æŒ‰é¡ºåºæ‰§è¡Œçš„æŒ‡ä»¤ç»„æˆï¼Œæ²¡æœ‰åˆ†æ”¯æˆ–è·³è½¬æŒ‡ä»¤ã€‚åŸºæœ¬å—ä»¥æ ‡ç­¾ï¼ˆLabelï¼‰å¼€å¤´ï¼Œåé¢æ˜¯ä¸€ç»„æŒ‡ä»¤ã€‚åŸºæœ¬å—å¯ä»¥åŒ…å«æ§åˆ¶æµæŒ‡ä»¤ï¼Œå¦‚æ¡ä»¶åˆ†æ”¯å’Œæ— æ¡ä»¶è·³è½¬ï¼Œä»¥ä¾¿å®ç°ç¨‹åºçš„æ§åˆ¶æµç¨‹ã€‚</li>\n<li>æŒ‡ä»¤ï¼ˆInstructionsï¼‰ï¼šLLVM IR åŒ…æ‹¬å„ç§æŒ‡ä»¤æ¥è¡¨ç¤ºç¨‹åºçš„æ“ä½œã€‚æŒ‡ä»¤ç”±æ“ä½œç å’Œæ“ä½œæ•°ç»„æˆï¼Œç”¨äºæ‰§è¡Œç‰¹å®šçš„æ“ä½œã€‚LLVM IR æ”¯æŒå¸¸è§çš„æŒ‡ä»¤ç±»å‹ï¼Œå¦‚èµ‹å€¼æŒ‡ä»¤ã€ç®—æœ¯è¿ç®—æŒ‡ä»¤ã€é€»è¾‘è¿ç®—æŒ‡ä»¤ã€æ¡ä»¶åˆ†æ”¯æŒ‡ä»¤ã€å†…å­˜è®¿é—®æŒ‡ä»¤ç­‰ã€‚æŒ‡ä»¤å¯ä»¥ä½¿ç”¨å˜é‡ã€å¸¸é‡å’Œè¡¨è¾¾å¼ä½œä¸ºæ“ä½œæ•°ã€‚</li>\n</ol>\n</div></details>\n<p>é¦–å…ˆæ¥çœ‹çœ‹ IR é•¿ä»€ä¹ˆæ ·å­</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">_GNU_SOURCE</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World!\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>clang -emit-llvm -S main.c -o main.ll</code>  å°†ä¸Šè¿°ä»£ç ç¼–è¯‘æˆ IR çš„ <code>.ll</code>  æ ¼å¼ï¼š</p>\n<figure class=\"highlight llvm\"><figcaption data-lang=\"LLVM IR\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">; ModuleID = 'main.c'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">source_filename</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"main.c\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">target</span> <span class=\"token keyword\">datalayout</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"e-m:o-p270:32:32-p271:32:32-p272:64:64-i64:64-f80:128-n8:16:32:64-S128\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">target</span> <span class=\"token keyword\">triple</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"x86_64-apple-macosx14.0.0\"</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token variable\">@.str</span> <span class=\"token punctuation\">=</span> <span class=\"token keyword\">private</span> <span class=\"token keyword\">unnamed_addr</span> <span class=\"token keyword\">constant</span> <span class=\"token punctuation\">[</span><span class=\"token number\">14</span> <span class=\"token keyword\">x</span> <span class=\"token type class-name\">i8</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">c</span><span class=\"token string\">\"Hello World!\\0A\\00\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">align</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">; Function Attrs: noinline nounwind optnone ssp uwtable</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">define</span> <span class=\"token keyword\">dso_local</span> <span class=\"token type class-name\">i32</span> <span class=\"token variable\">@main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token variable\">#0</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token variable\">%1</span> <span class=\"token punctuation\">=</span> <span class=\"token keyword\">alloca</span> <span class=\"token type class-name\">i32</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">align</span> <span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">store</span> <span class=\"token type class-name\">i32</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token type class-name\">i32</span><span class=\"token punctuation\">*</span> <span class=\"token variable\">%1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">align</span> <span class=\"token number\">4</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token variable\">%2</span> <span class=\"token punctuation\">=</span> <span class=\"token keyword\">call</span> <span class=\"token type class-name\">i32</span> <span class=\"token punctuation\">(</span><span class=\"token type class-name\">i8</span><span class=\"token punctuation\">*</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token variable\">@printf</span><span class=\"token punctuation\">(</span><span class=\"token type class-name\">i8</span><span class=\"token punctuation\">*</span> <span class=\"token keyword\">getelementptr</span> <span class=\"token keyword\">inbounds</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">14</span> <span class=\"token keyword\">x</span> <span class=\"token type class-name\">i8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">14</span> <span class=\"token keyword\">x</span> <span class=\"token type class-name\">i8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">*</span> <span class=\"token variable\">@.str</span><span class=\"token punctuation\">,</span> <span class=\"token type class-name\">i64</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token type class-name\">i64</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">ret</span> <span class=\"token type class-name\">i32</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">declare</span> <span class=\"token type class-name\">i32</span> <span class=\"token variable\">@printf</span><span class=\"token punctuation\">(</span><span class=\"token type class-name\">i8</span><span class=\"token punctuation\">*</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token variable\">#1</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">attributes</span> <span class=\"token variable\">#0</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">noinline</span> <span class=\"token keyword\">nounwind</span> <span class=\"token keyword\">optnone</span> <span class=\"token keyword\">ssp</span> <span class=\"token keyword\">uwtable</span> <span class=\"token string\">\"disable-tail-calls\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"frame-pointer\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"all\"</span> <span class=\"token string\">\"less-precise-fpmad\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"min-legal-vector-width\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"0\"</span> <span class=\"token string\">\"no-infs-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-jump-tables\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-nans-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-signed-zeros-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-trapping-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"true\"</span> <span class=\"token string\">\"stack-protector-buffer-size\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"8\"</span> <span class=\"token string\">\"target-cpu\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"penryn\"</span> <span class=\"token string\">\"target-features\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"+cx16,+cx8,+fxsr,+mmx,+sahf,+sse,+sse2,+sse3,+sse4.1,+ssse3,+x87\"</span> <span class=\"token string\">\"tune-cpu\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"generic\"</span> <span class=\"token string\">\"unsafe-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"use-soft-float\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">attributes</span> <span class=\"token variable\">#1</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token string\">\"disable-tail-calls\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"frame-pointer\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"all\"</span> <span class=\"token string\">\"less-precise-fpmad\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-infs-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-nans-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-signed-zeros-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-trapping-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"true\"</span> <span class=\"token string\">\"stack-protector-buffer-size\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"8\"</span> <span class=\"token string\">\"target-cpu\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"penryn\"</span> <span class=\"token string\">\"target-features\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"+cx16,+cx8,+fxsr,+mmx,+sahf,+sse,+sse2,+sse3,+sse4.1,+ssse3,+x87\"</span> <span class=\"token string\">\"tune-cpu\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"generic\"</span> <span class=\"token string\">\"unsafe-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"use-soft-float\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token variable\">!llvm.module.flags</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">!</span><span class=\"token punctuation\">&#123;</span><span class=\"token variable\">!0</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">!1</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token variable\">!llvm.ident</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">!</span><span class=\"token punctuation\">&#123;</span><span class=\"token variable\">!2</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token variable\">!0</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">!</span><span class=\"token punctuation\">&#123;</span><span class=\"token type class-name\">i32</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">!</span><span class=\"token string\">\"wchar_size\"</span><span class=\"token punctuation\">,</span> <span class=\"token type class-name\">i32</span> <span class=\"token number\">4</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token variable\">!1</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">!</span><span class=\"token punctuation\">&#123;</span><span class=\"token type class-name\">i32</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">!</span><span class=\"token string\">\"PIC Level\"</span><span class=\"token punctuation\">,</span> <span class=\"token type class-name\">i32</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token variable\">!2</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">!</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">!</span><span class=\"token string\">\"Homebrew clang version 12.0.1\"</span><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è™½ç„¶åªæ˜¯ä¸€ä¸ªç®€å•çš„ <code>Hello world</code>  ç¨‹åºï¼Œä½†æ˜¯ä¹ŸåŸºæœ¬åŒ…å«äº† IR æ–‡ä»¶çš„å„ä¸ªéƒ¨åˆ†ã€‚â€œéº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨â€ï¼Œè®©æˆ‘ä»¬ä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ¥çœ‹ï¼š</p>\n<p><strong>ç¬¬ä¸€éƒ¨åˆ†ï¼ˆ1ï½4 è¡Œï¼‰</strong></p>\n<ul>\n<li>\n<p><code>source_filename</code> ï¼šæè¿°äº†æºæ–‡ä»¶çš„åç§°åŠå…¶æ‰€åœ¨è·¯å¾„ã€‚</p>\n</li>\n<li>\n<p><code>target datalayout</code> ï¼šæè¿°äº†ç›®æ ‡æœºå™¨ä¸­æ•°æ®çš„å†…å­˜å¸ƒå±€æ–¹å¼ï¼ŒåŒ…æ‹¬ï¼šå­—èŠ‚åºã€ç±»å‹å¤§å°ä»¥åŠå¯¹é½æ–¹å¼ã€Œ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sbHZtLm9yZy9kb2NzL0xhbmdSZWYuaHRtbCNkYXRhLWxheW91dA==\">å…·ä½“è¯´æ˜</span>ã€ã€‚</p>\n</li>\n<li>\n<p><code>target triple</code> ï¼šæè¿°äº†ç›®æ ‡æœºå™¨æ˜¯ä»€ä¹ˆï¼Œä»è€ŒæŒ‡ç¤ºåç«¯ç”Ÿæˆç›¸åº”çš„ç›®æ ‡ä»£ç ã€‚</p>\n</li>\n</ul>\n<p><strong>ç¬¬äºŒéƒ¨åˆ†ï¼ˆ6ï½19 è¡Œï¼‰</strong></p>\n<ul>\n<li>\n<p>æ ‡è¯†ç¬¦</p>\n<p>LLVM IR ä¸­çš„æ ‡è¯†ç¬¦åˆ†ä¸ºï¼šå…¨å±€æ ‡è¯†ç¬¦å’Œå±€éƒ¨æ ‡è¯†ç¬¦ã€‚å…¨å±€æ ‡è¯†ç¬¦ä»¥ <code>@</code> å¼€å¤´ï¼Œæ¯”å¦‚ï¼šå…¨å±€å‡½æ•°ã€å…¨å±€å˜é‡ã€‚å±€éƒ¨æ ‡è¯†ç¬¦ä»¥ <code>%</code>  å¼€å¤´ï¼Œç±»ä¼¼äºæ±‡ç¼–è¯­è¨€ä¸­çš„å¯„å­˜å™¨ã€‚</p>\n<p>æ ‡è¯†ç¬¦æœ‰å¦‚ä¸‹ 3 ç§å½¢å¼ï¼š</p>\n<ul>\n<li>æœ‰åç§°çš„å€¼ï¼ˆNamed Valueï¼‰ï¼Œè¡¨ç¤ºä¸ºå¸¦æœ‰å‰ç¼€ï¼ˆ <code>@</code> æˆ– <code>%</code> ï¼‰çš„å­—ç¬¦ä¸²ã€‚æ¯”å¦‚ï¼š% valã€@nameã€‚</li>\n<li>æ— åç§°çš„å€¼ï¼ˆUnnamed Valueï¼‰ï¼Œè¡¨ç¤ºä¸ºå¸¦å‰ç¼€ï¼ˆ <code>@</code> æˆ– <code>%</code> ï¼‰çš„æ— ç¬¦å·æ•°å€¼ã€‚æ¯”å¦‚ï¼š%0ã€%1ã€@2ã€‚</li>\n<li>å¸¸é‡ã€‚</li>\n</ul>\n</li>\n<li>\n<p><code>define</code> ï¼šç”¨äºå®šä¹‰ä¸€ä¸ªå‡½æ•°</p>\n<ul>\n<li>\n<p><code>define dso_local i32 @main() #0 &#123; ... &#125;</code> ï¼Œè¡¨ç¤ºå®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚å…¶å‡½æ•°åç§°ä¸º <code>main</code> ï¼Œè¿”å›å€¼çš„æ•°æ®ç±»å‹ä¸º <code>i32</code> ï¼ˆå ç”¨ 4 å­—èŠ‚çš„æ•´å‹ï¼‰ï¼Œæ²¡æœ‰å‚æ•°ã€‚</p>\n</li>\n<li>\n<p><code>#0</code> ï¼Œç”¨äºä¿®é¥°å‡½æ•°æ—¶è¡¨ç¤ºä¸€ç»„å‡½æ•°å±æ€§ã€Œ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sbHZtLm9yZy9kb2NzL0xhbmdSZWYuaHRtbCNmdW5jdGlvbi1hdHRyaWJ1dGVz\">å…·ä½“è¯´æ˜</span>ã€ã€‚è¿™äº›å±æ€§å®šä¹‰åœ¨æ–‡ä»¶æœ«å°¾ã€‚å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight llvm\"><figcaption data-lang=\"LLVM IR\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">attributes</span> <span class=\"token variable\">#0</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">noinline</span> <span class=\"token keyword\">nounwind</span> <span class=\"token keyword\">optnone</span> <span class=\"token keyword\">ssp</span> <span class=\"token keyword\">uwtable</span> <span class=\"token string\">\"disable-tail-calls\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"frame-pointer\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"all\"</span> <span class=\"token string\">\"less-precise-fpmad\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"min-legal-vector-width\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"0\"</span> <span class=\"token string\">\"no-infs-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-jump-tables\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-nans-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-signed-zeros-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"no-trapping-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"true\"</span> <span class=\"token string\">\"stack-protector-buffer-size\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"8\"</span> <span class=\"token string\">\"target-cpu\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"penryn\"</span> <span class=\"token string\">\"target-features\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"+cx16,+cx8,+fxsr,+mmx,+sahf,+sse,+sse2,+sse3,+sse4.1,+ssse3,+x87\"</span> <span class=\"token string\">\"tune-cpu\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"generic\"</span> <span class=\"token string\">\"unsafe-fp-math\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token string\">\"use-soft-float\"</span><span class=\"token punctuation\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li>\n<p>LLVM IR ä¸­ï¼Œå‡½æ•°ä½“æ˜¯ç”±<strong>åŸºæœ¬å—</strong>ï¼ˆBasic Blocksï¼‰æ„æˆçš„ã€‚åŸºæœ¬å—æ˜¯ç”±ä¸€ç³»åˆ—é¡ºåºæ‰§è¡Œçš„è¯­å¥æ„æˆçš„ï¼Œå¹¶ï¼ˆå¯é€‰åœ°ï¼‰ä»¥æ ‡ç­¾ä½œä¸ºèµ·å§‹ã€‚ä¸åŒçš„æ ‡ç­¾ä»£è¡¨ä¸åŒçš„åŸºæœ¬å—ã€‚</p>\n<p>åŸºæœ¬å—çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>ä»…æœ‰ä¸€ä¸ªå…¥å£ï¼Œå³åŸºæœ¬å—ä¸­çš„ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚</li>\n<li>ä»…æœ‰ä¸€ä¸ªå‡ºå£ï¼Œå³åŸºæœ¬å—ä¸­çš„æœ€åä¸€æ¡æŒ‡ä»¤ï¼ˆè¢«ç§°ä¸º <code>terminator instruction</code> ï¼‰ã€‚è¯¥æŒ‡ä»¤è¦ä¹ˆè·³è½¬åˆ°å…¶ä»–åŸºæœ¬å—ï¼ˆä¸åŒ…æ‹¬å…¥å£åŸºæœ¬å—ï¼‰ï¼Œè¦ä¹ˆä»å‡½æ•°è¿”å›ã€‚</li>\n<li>å‡½æ•°ä½“ä¸­ç¬¬ä¸€ä¸ªå‡ºç°çš„åŸºæœ¬å—ï¼Œç§°ä¸ºå…¥å£åŸºæœ¬å—ï¼ˆEntry Basic Blockï¼‰ã€‚å®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„åŸºæœ¬å—ï¼Œåœ¨è¿›å…¥å‡½æ•°æ—¶ç«‹å³æ‰§è¡Œè¯¥åŸºæœ¬å—ï¼Œå¹¶ä¸”ä¸å…è®¸ä½œä¸ºå…¶ä»–åŸºæœ¬å—çš„è·³è½¬ç›®æ ‡ï¼ˆå³ä¸å…è®¸è¯¥åŸºæœ¬å—æœ‰å‰ç»§èŠ‚ç‚¹ï¼‰ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>ç¬¬ä¸‰éƒ¨åˆ†ï¼ˆ21ï½26 è¡Œï¼‰</strong></p>\n<ul>\n<li>\n<p><code>llvm.module.flags</code> ï¼šå‘½åå…ƒæ•°æ®ï¼ˆNamed Metadataï¼‰ä¹‹ä¸€ï¼Œç”¨äºæè¿°æ¨¡å—çº§åˆ«çš„ä¿¡æ¯ã€‚</p>\n<p><code>llvm.module.flags</code>  æ˜¯ä¸€ä¸ªåŒ…å«ä¸€ç³»åˆ—å…ƒæ•°æ®èŠ‚ç‚¹çš„é›†åˆã€‚é›†åˆä¸­çš„æ¯ä¸ªå…ƒæ•°æ®èŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªå½¢å¦‚ <code>&#123;&lt;behavior&gt;, &lt;key&gt;, &lt;value&gt;&#125;</code>  çš„ä¸‰å…ƒç»„ã€‚å…¶ä¸­ï¼Œ <code>&lt;behavior&gt;</code>  ç”¨äºæŒ‡å®šæ¥è‡ªä¸åŒæ¨¡å—çš„ <code>&lt;key&gt;</code>  å’Œ <code>&lt;value&gt;</code>  éƒ½ç›¸åŒçš„å…ƒæ•°æ®åˆå¹¶æ—¶å¦‚ä½•å¤„ç†ï¼Œ <code>&lt;key&gt;</code>  è¡¨ç¤ºå…ƒæ•°æ®åœ¨æœ¬æ¨¡å—ä¸­çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆä»…åœ¨æœ¬æ¨¡å—å†…å”¯ä¸€ï¼Œæ¥è‡ªä¸åŒæ¨¡å—çš„å…ƒæ•°æ®å¯èƒ½æœ‰ç›¸åŒçš„æ ‡è¯†ç¬¦ï¼‰ï¼Œ <code>&lt;value&gt;</code>  è¡¨ç¤ºå…ƒæ•°æ®æ‰€æºå¸¦ä¿¡æ¯çš„å€¼ã€‚</p>\n<p>å¸¸è§çš„ <code>&lt;behavior&gt;</code>  å€¼ä¸ºã€Œ1ã€ï¼Œè¡¨ç¤ºã€Œå¦‚æœä¸¤ä¸ªå€¼ä¸ä¸€è‡´ï¼Œåˆ™å‘å‡ºé”™è¯¯ï¼Œå¦åˆ™ç”Ÿæˆçš„å€¼å°±æ˜¯æ“ä½œæ•°çš„å€¼ã€ã€‚</p>\n<figure class=\"highlight llvm\"><figcaption data-lang=\"LLVM IR\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token variable\">!llvm.module.flags</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">!</span><span class=\"token punctuation\">&#123;</span><span class=\"token variable\">!0</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">!1</span><span class=\"token punctuation\">&#125;</span> <span class=\"token comment\">; æŒ‡å®šäº†ä¸¤ä¸ªå…ƒæ•°æ®ï¼0 å’Œï¼1</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token variable\">!0</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">!</span><span class=\"token punctuation\">&#123;</span><span class=\"token type class-name\">i32</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">!</span><span class=\"token string\">\"wchar_size\"</span><span class=\"token punctuation\">,</span> <span class=\"token type class-name\">i32</span> <span class=\"token number\">4</span><span class=\"token punctuation\">&#125;</span> <span class=\"token comment\">; è¡¨ç¤ºæ ‡è¯†ç¬¦ä¸º \"wchar_size\" çš„å…ƒæ•°æ®æ‰€æºå¸¦ä¿¡æ¯çš„å€¼åœ¨æ‰€æœ‰æ¨¡å—ä¸­éƒ½åº”è¯¥æ˜¯ 4ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token variable\">!1</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">!</span><span class=\"token punctuation\">&#123;</span><span class=\"token type class-name\">i32</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">!</span><span class=\"token string\">\"PIC Level\"</span><span class=\"token punctuation\">,</span> <span class=\"token type class-name\">i32</span> <span class=\"token number\">2</span><span class=\"token punctuation\">&#125;</span> <span class=\"token comment\">; åŒç†</span></pre></td></tr></table></figure></li>\n<li>\n<p><code>llvm.ident</code> ï¼šç”¨äºè¡¨ç¤º Clang çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</p>\n</li>\n</ul>\n<h3 id=\"ir-æŒ‡ä»¤\"><a class=\"anchor\" href=\"#ir-æŒ‡ä»¤\">#</a> IR æŒ‡ä»¤</h3>\n<p>åœ¨ LLVM çš„ IR ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®ç±»å‹éƒ½æ˜¯åŸºäº LLVM ç±»å‹ç³»ç»Ÿå®šä¹‰çš„ï¼Œè¿™äº›æ•°æ®ç±»å‹åŒ…æ‹¬æ•´æ•°ã€æµ®ç‚¹æ•°ã€æŒ‡é’ˆã€æ•°ç»„ã€ç»“æ„ä½“ç­‰ç­‰ï¼Œæ¯ä¸ªæ•°æ®ç±»å‹éƒ½å…·æœ‰è‡ªå·±çš„å±æ€§ï¼Œä¾‹å¦‚ä½å®½ã€å¯¹é½æ–¹å¼ç­‰ç­‰ã€‚åœ¨ IR ä¸­ï¼Œæ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªç±»å‹ï¼Œè¿™ä¸ªç±»å‹å¯ä»¥è¢«æ˜¾å¼åœ°æŒ‡å®šï¼Œæˆ–è€…é€šè¿‡æŒ‡ä»¤çš„æ“ä½œæ•°æ¨å¯¼å‡ºæ¥ã€‚</p>\n<p>LLVM çš„ IR æŒ‡ä»¤éå¸¸ä¸°å¯Œï¼ŒåŒ…æ‹¬ç®—æœ¯ã€é€»è¾‘ã€æ¯”è¾ƒã€è½¬æ¢ã€æ§åˆ¶æµç­‰ç­‰ï¼Œå®ƒä»¬å¯ä»¥è¢«ç”¨æ¥è¡¨è¾¾å¤æ‚çš„ç¨‹åºç»“æ„ï¼ŒåŒæ—¶ IR æŒ‡ä»¤è¿˜å¯ä»¥é€šè¿‡ LLVM çš„ä¼˜åŒ–å™¨è¿›è¡Œä¼˜åŒ–ï¼Œä»¥ç”Ÿæˆé«˜æ•ˆçš„ç›®æ ‡ä»£ç ã€‚</p>\n<p>IR æŒ‡ä»¤ç±»å‹æ¯”è¾ƒå¤šï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æŒ‡ä»¤ç±»å‹ï¼š</p>\n<ol>\n<li>åŠ å‡ä¹˜é™¤æŒ‡ä»¤ï¼šadd, sub, mul, sdiv, udiv, fadd, fsub, fmul, fdiv ç­‰</li>\n<li>ä½è¿ç®—æŒ‡ä»¤ï¼šand, or, xor, shl, lshr, ashr ç­‰</li>\n<li>è½¬æ¢æŒ‡ä»¤ï¼štrunc, zext, sext, fptrunc, fpext, fptoui, fptosi, uitofp, sitofp, ptrtoint, inttoptr, bitcast ç­‰</li>\n<li>å†…å­˜æŒ‡ä»¤ï¼šalloca, load, store, getelementptr ç­‰</li>\n<li>æ§åˆ¶æµæŒ‡ä»¤ï¼šbr, switch, ret, indirectbr, invoke, resume, unreachable ç­‰</li>\n<li>å…¶ä»–æŒ‡ä»¤ï¼šphi, select, call, va_arg, landingpad ç­‰</li>\n</ol>\n<p>æŒ‡ä»¤ç›¸å…³å†…å®¹èµ„æ–™ä¸°å¯Œï¼Œä¸å†å…·ä½“èµ˜è¿°äº†ï¼Œå¯ä»¥å‚è€ƒï¼š</p>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC83MjAyOTc2MTY3NTE1MDQ1OTQ2\">LLVM çš„ IR æŒ‡ä»¤è¯¦è§£</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9sbHZtLm9yZy9kb2NzL0xhbmdSZWYuaHRtbA==\">LLVM å®˜æ–¹æ‰‹å†Œ</span></li>\n</ul>\n<h1 id=\"llvm-c-apiç›¸å…³æ“ä½œ\"><a class=\"anchor\" href=\"#llvm-c-apiç›¸å…³æ“ä½œ\">#</a> LLVM C++ API ç›¸å…³æ“ä½œ</h1>\n<div class=\"note primary no-icon\">\n<ul>\n<li>\n<p>æœ¬ç« ä½¿ç”¨çš„ C++ API å¯¹åº” <code>LLVM 17.0.6_1</code> ï¼ŒåŒå¤§ç‰ˆæœ¬ä¸‹ API åŸºæœ¬ä¸ä¼šå‘ç”Ÿå¤ªå¤§å˜åŒ–ï¼Œè€Œå¦‚æœæ˜¯ä¸åŒå¤§ç‰ˆæœ¬ï¼Œéƒ¨åˆ† API çš„å®šä¹‰å¯èƒ½ä¸åŒï¼Œéœ€è¦è‡ªè¡ŒæŸ¥çœ‹ API æ‰‹å†Œã€‚</p>\n</li>\n<li>\n<p>æŸ¥çœ‹ LLVM ç‰ˆæœ¬ï¼š <code>llvm-config --version</code></p>\n</li>\n<li>\n<p>API æ‰‹å†Œï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sbHZtLm9yZy9kb2NzL0xhbmdSZWYuaHRtbA==\">https://llvm.org/docs/LangRef.html</span></p>\n</li>\n<li>\n<p>âš ï¸ ä¸ºäº†æ–¹ä¾¿ä¹¦å†™ï¼Œç»™å‡ºçš„ä»£ç å¤§å¤šæ˜¯ç‰‡æ®µçš„å½¢å¼ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæœ¬ç« èŠ‚ä»£ç å…·æœ‰è¿ç»­æ€§ï¼Œå³è‹¥ä»£ç ç‰‡æ®µä¸­æŸä¸ªå˜é‡æœªå®šä¹‰ä½†ç›´æ¥ä½¿ç”¨ï¼Œå¯ä»¥å¾€å‰æ‰¾æ‰¾çœ‹ã€‚</p>\n</li>\n</ul>\n</div>\n<h2 id=\"è¯»å†™iræ–‡ä»¶\"><a class=\"anchor\" href=\"#è¯»å†™iræ–‡ä»¶\">#</a> è¯» / å†™ IR æ–‡ä»¶</h2>\n<p>è¯»å†™ IR æ–‡ä»¶æ˜¯åˆ†æçš„åŸºç¡€ï¼Œé€šè¿‡è¯»å…¥ IR æ–‡ä»¶å¹¶è¿›è¡Œè§£æï¼Œå¯ä»¥å‘æºç¨‹åºä¸­æ’å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„æ“ä½œï¼Œç„¶åå°†æ›´æ”¹åçš„ IR å†™å›æ–‡ä»¶ï¼Œå°†ç»“æœä¿å­˜ä¸‹æ¥ã€‚å‡è®¾éœ€è¦è¯»å…¥ä¸€ä¸ª <code>main.ll</code>  çš„ IR æ–‡ä»¶å¹¶å¯¹å…¶è¿›è¡Œæ“ä½œï¼Œæ“ä½œå®Œæˆåå°† IR ä¿å­˜æˆ <code>.bc</code>  çš„æ ¼å¼ã€‚</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/LLVMContext.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/Module.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/IRBuilder.h></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/Instructions.h></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/Support/SourceMgr.h></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IRReader/IRReader.h></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/BasicBlock.h></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/Transforms/Utils/BasicBlockUtils.h></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"llvm/Support/raw_ostream.h\"</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"llvm/Bitcode/BitcodeWriter.h\"</span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> llvm<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    LLVMContext ctx<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    SMDiagnostic err<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  \t<span class=\"token comment\">// è¯»å…¥æŒ‡å®š IR æ–‡ä»¶å¹¶è§£æï¼Œè·å– LLVMContext</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    std<span class=\"token double-colon punctuation\">::</span>unique_ptr<span class=\"token operator\">&lt;</span>Module<span class=\"token operator\">></span> mod_ptr <span class=\"token operator\">=</span> <span class=\"token function\">parseIRFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main.ll\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">,</span> ctx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>mod_ptr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        std<span class=\"token double-colon punctuation\">::</span>cerr <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Failed to read IR File\\n\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    Module <span class=\"token operator\">*</span>mod <span class=\"token operator\">=</span> mod_ptr<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token comment\">// åˆ†ææ“ä½œ</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  \t<span class=\"token comment\">// ä¿å­˜æˆæ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    std<span class=\"token double-colon punctuation\">::</span>error_code EC<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    llvm<span class=\"token double-colon punctuation\">::</span>raw_fd_ostream <span class=\"token function\">OS</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main.bc\"</span><span class=\"token punctuation\">,</span> EC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        std<span class=\"token double-colon punctuation\">::</span>cerr <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"failed to open output file\\n\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    llvm<span class=\"token double-colon punctuation\">::</span><span class=\"token function\">WriteBitcodeToFile</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>mod_ptr<span class=\"token punctuation\">,</span> OS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ul>\n<li>\n<p>ä¿å­˜æˆ <code>.ll</code>  æ ¼å¼ï¼š</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>std<span class=\"token double-colon punctuation\">::</span>error_code EC<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>llvm<span class=\"token double-colon punctuation\">::</span>raw_fd_ostream <span class=\"token function\">OS</span><span class=\"token punctuation\">(</span>source_ll<span class=\"token punctuation\">,</span> EC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>EC<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    std<span class=\"token double-colon punctuation\">::</span>cerr <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"failed to open output file\\n\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>mod<span class=\"token operator\">-></span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>OS<span class=\"token punctuation\">,</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n<li>\n<p>åœ¨ç»ˆç«¯ç›´æ¥è¾“å‡º <code>.ll</code>  æ ¼å¼</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mod<span class=\"token operator\">-></span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token function\">outs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"éå†iræ–‡ä»¶\"><a class=\"anchor\" href=\"#éå†iræ–‡ä»¶\">#</a> éå† IR æ–‡ä»¶</h2>\n<p>è¿™é‡Œç»™å‡ºéå†æ‰€æœ‰æŒ‡ä»¤çš„ä»£ç </p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/LLVMContext.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/Module.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/IRBuilder.h></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/Instructions.h></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/Support/SourceMgr.h></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IRReader/IRReader.h></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/BasicBlock.h></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/Transforms/Utils/BasicBlockUtils.h></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"llvm/Support/raw_ostream.h\"</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"llvm/Bitcode/BitcodeWriter.h\"</span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> llvm<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    LLVMContext ctx<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    SMDiagnostic err<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    std<span class=\"token double-colon punctuation\">::</span>unique_ptr<span class=\"token operator\">&lt;</span>Module<span class=\"token operator\">></span> mod_ptr <span class=\"token operator\">=</span> <span class=\"token function\">parseIRFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main.ll\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">,</span> ctx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>mod_ptr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        std<span class=\"token double-colon punctuation\">::</span>cerr <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Failed to read IR File\\n\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    Module <span class=\"token operator\">*</span>mod <span class=\"token operator\">=</span> mod_ptr<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  \t<span class=\"token comment\">// ä¾æ¬¡éå† * å‡½æ•° *</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>Function <span class=\"token operator\">&amp;</span>F <span class=\"token operator\">:</span> <span class=\"token operator\">*</span>mod<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      \t<span class=\"token comment\">// ä¾æ¬¡éå† * åŸºæœ¬å— *</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>BasicBlock <span class=\"token operator\">&amp;</span>BB <span class=\"token operator\">:</span> F<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>          \t<span class=\"token comment\">// ä¾æ¬¡éå† * æŒ‡ä»¤ *</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>Instruction <span class=\"token operator\">&amp;</span>I <span class=\"token operator\">:</span> BB<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>                <span class=\"token comment\">// å¯¹æŒ‡ä»¤è¿›è¡Œæ“ä½œ</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\t\tmod<span class=\"token operator\">-></span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token function\">outs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><details class=\"info\"><summary>èŒƒå›´forã€ŒC++ 11å¼•å…¥ã€</summary><div>\n<p>C++ 11 ä¸­å¼•å…¥äº†<span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWFybi5taWNyb3NvZnQuY29tL3poLWNuL2NwcC9zdGFuZGFyZC1saWJyYXJ5L2l0ZXJhdG9yP3ZpZXc9bXN2Yy0xNzA=\">è¿­ä»£å™¨å¯¹è±¡</span>ï¼Œå¯é€šè¿‡ä½¿ç”¨æˆå‘˜å’Œå…¨å±€å‡½æ•°ï¼ˆå¦‚  <code>begin()</code>  å’Œ  <code>end()</code> ï¼‰ä»¥åŠè¿ç®—ç¬¦ï¼ˆå¦‚  <code>++</code>  å’Œ  <code>--</code> ï¼‰å‘å‰æˆ–å‘åç§»åŠ¨ï¼Œæ¥æ˜¾å¼ä½¿ç”¨è¿­ä»£å™¨ã€‚ä¹Ÿå¯ä»¥é€šè¿‡èŒƒå›´ for å¾ªç¯æ¥éšå¼ä½¿ç”¨è¿­ä»£å™¨ã€‚</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">/* æ˜¾ç¤ºä½¿ç”¨è¿­ä»£å™¨ */</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// å®šä¹‰ä¸€ä¸ªè¿­ä»£å™¨</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span> vec<span class=\"token punctuation\">&#123;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">auto</span> it <span class=\"token operator\">=</span> <span class=\"token function\">begin</span><span class=\"token punctuation\">(</span>vec<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> it <span class=\"token operator\">!=</span> <span class=\"token function\">end</span><span class=\"token punctuation\">(</span>vec<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> it<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">// Access element using dereference operator</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    cout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token operator\">*</span>it <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ç­‰ä»·äº</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// æ¨èä½¿ç”¨ auto æ¥è‡ªåŠ¨è·å–ç±»å‹</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">auto</span> num <span class=\"token operator\">:</span> vec<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">// no dereference operator</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    cout <span class=\"token operator\">&lt;&lt;</span> num <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></div></details>\n<h2 id=\"åˆ›å»ºå‡½æ•°åŸºæœ¬å—æŒ‡ä»¤\"><a class=\"anchor\" href=\"#åˆ›å»ºå‡½æ•°åŸºæœ¬å—æŒ‡ä»¤\">#</a> åˆ›å»ºå‡½æ•° / åŸºæœ¬å— / æŒ‡ä»¤</h2>\n<p>åœ¨åˆ›å»ºå‡½æ•° / åŸºæœ¬å— / æŒ‡ä»¤æ—¶éœ€è¦å…ˆè·å–å½“å‰çš„ä¸Šä¸‹æ–‡ï¼Œå¹¶è®¾ç½®å¥½ â€œæ’å…¥ç‚¹â€ï¼Œåˆ›å»ºçš„åŸºæœ¬å— / æŒ‡ä»¤ä¼šæ’å…¥åˆ° â€œæ’å…¥ç‚¹â€ æŒ‡å®šçš„ä½ç½®ã€‚</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/LLVMContext.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/Module.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/IRBuilder.h></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/Instructions.h></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/Support/SourceMgr.h></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IRReader/IRReader.h></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/IR/BasicBlock.h></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;llvm/Transforms/Utils/BasicBlockUtils.h></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"llvm/Support/raw_ostream.h\"</span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"llvm/Bitcode/BitcodeWriter.h\"</span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> llvm<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    LLVMContext ctx<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    SMDiagnostic err<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    std<span class=\"token double-colon punctuation\">::</span>unique_ptr<span class=\"token operator\">&lt;</span>Module<span class=\"token operator\">></span> mod_ptr <span class=\"token operator\">=</span> <span class=\"token function\">parseIRFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main.ll\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">,</span> ctx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>mod_ptr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        std<span class=\"token double-colon punctuation\">::</span>cerr <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"Failed to read IR File\\n\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    Module <span class=\"token operator\">*</span>mod <span class=\"token operator\">=</span> mod_ptr<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    IRBuilder<span class=\"token operator\">&lt;</span><span class=\"token operator\">></span> <span class=\"token function\">builder</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  \t<span class=\"token comment\">// å…ˆå£°æ˜å‡½æ•°ç»“æ„ï¼šè¿™é‡Œå£°æ˜äº†ä¸€ä¸ªè¿”å›å€¼ä¸º doubleï¼Œå‚æ•°ä¸ºä¸€ä¸ª double ç±»å‹çš„å‡½æ•°ï¼›false è¡¨æ˜è¯¥å‡½æ•°å‚æ•°ä¸ªæ•°ä¸å¯å˜</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    FunctionType <span class=\"token operator\">*</span>funcType <span class=\"token operator\">=</span> <span class=\"token class-name\">FunctionType</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Type</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">getDoubleTy</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span><span class=\"token class-name\">Type</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">getDoubleTy</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå°†å‡½æ•°å‘½åä¸º check</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    Function <span class=\"token operator\">*</span>checkFunc <span class=\"token operator\">=</span> <span class=\"token class-name\">Function</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>funcType<span class=\"token punctuation\">,</span> Function<span class=\"token double-colon punctuation\">::</span>ExternalLinkage<span class=\"token punctuation\">,</span> <span class=\"token string\">\"check\"</span><span class=\"token punctuation\">,</span> mod<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token comment\">// å­˜å‚¨å‚æ•°ï¼ˆè·å–å‚æ•°çš„å¼•ç”¨ï¼‰</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    Function<span class=\"token double-colon punctuation\">::</span>arg_iterator argsIT <span class=\"token operator\">=</span> checkFunc<span class=\"token operator\">-></span><span class=\"token function\">arg_begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//Function ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œè·å–å‚æ•°çš„è¿­ä»£å™¨</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    Value <span class=\"token operator\">*</span>arg_n <span class=\"token operator\">=</span> argsIT<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è·å–ç¬¬ä¸€ä¸ªå‚æ•°</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  \t<span class=\"token comment\">// åœ¨ \"check\" å‡½æ•°ä¸­åˆ›å»ºä¸€ä¸ªåŸºæœ¬å—</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    BasicBlock <span class=\"token operator\">*</span>entryBlock <span class=\"token operator\">=</span> <span class=\"token class-name\">BasicBlock</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> checkFunc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    builder<span class=\"token punctuation\">.</span><span class=\"token function\">SetInsertPoint</span><span class=\"token punctuation\">(</span>entryBlock<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¾ç½®æ’å…¥ç‚¹ä¸ºä¸Šä¸€è¡Œåˆ›å»ºçš„åŸºæœ¬å—</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    Value <span class=\"token operator\">*</span>fRemResult <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">CreateFRem</span><span class=\"token punctuation\">(</span>arg_n<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ConstantFP</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> <span class=\"token function\">APFloat</span><span class=\"token punctuation\">(</span><span class=\"token number\">100.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// åˆ›å»º \"FRem\" æŒ‡ä»¤</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    builder<span class=\"token punctuation\">.</span><span class=\"token function\">CreateRet</span><span class=\"token punctuation\">(</span>fRemResult<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// åˆ›å»º \"ret\" æŒ‡ä»¤ï¼Œ è¿”å›å€¼ä¸º \"FRem\" çš„ç»“æœ</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>Function <span class=\"token operator\">&amp;</span>F <span class=\"token operator\">:</span> <span class=\"token operator\">*</span>mod<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>BasicBlock <span class=\"token operator\">&amp;</span>BB <span class=\"token operator\">:</span> F<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>Instruction <span class=\"token operator\">&amp;</span>I <span class=\"token operator\">:</span> BB<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    mod<span class=\"token operator\">-></span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token function\">outs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"åˆ›å»ºè·³è½¬\"><a class=\"anchor\" href=\"#åˆ›å»ºè·³è½¬\">#</a> åˆ›å»ºè·³è½¬</h2>\n<ol>\n<li>\n<p>é€šè¿‡å‡½æ•°è°ƒç”¨è¿›è¡Œè·³è½¬</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// BO æ˜¯ FAdd æŒ‡ä»¤æŒ‡é’ˆï¼ŒåŒæ—¶ä¹Ÿæ˜¯è¯¥æŒ‡ä»¤çš„è¿”å›å€¼</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">auto</span> <span class=\"token operator\">*</span>BO <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">dyn_cast</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>BinaryOperator<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>I<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>BO<span class=\"token operator\">-></span><span class=\"token function\">getOpcode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> Instruction<span class=\"token double-colon punctuation\">::</span>FAdd<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token comment\">// è®¾ç½®æ’å…¥ç‚¹ä¸º BO æŒ‡ä»¤çš„ä¸‹ä¸€æ¡</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>   builder<span class=\"token punctuation\">.</span><span class=\"token function\">SetInsertPoint</span><span class=\"token punctuation\">(</span>BO<span class=\"token operator\">-></span><span class=\"token function\">getNextNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token comment\">// åˆ›å»º call æŒ‡ä»¤ï¼Œcall checkFunc å‡½æ•°ï¼Œå‚æ•°ä¸º BO</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>   Value <span class=\"token operator\">*</span>checkResult <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">CreateCall</span><span class=\"token punctuation\">(</span>checkFunc<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>BO<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></li>\n<li>\n<p>é€šè¿‡å‡½æ•°è¿”å›è¿›è¡Œè·³è½¬</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// å‡½æ•°åŸå‹ï¼šReturnInst *CreateRet (Value *RetVal, Instruction *InsertBefore = nullptr);</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// æ¥å—ä¸€ä¸ªè¿”å›å€¼ RetValï¼Œå°†å…¶ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼è¿”å›ã€‚å¯é€‰çš„ InsertBefore å‚æ•°å…è®¸æŒ‡å®šæ’å…¥è¯¥æŒ‡ä»¤çš„ä½ç½®ï¼Œé»˜è®¤ä¸º nullptrï¼Œè¡¨ç¤ºåœ¨å½“å‰æ’å…¥ç‚¹å¤„æ’å…¥ã€‚</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>builder<span class=\"token punctuation\">.</span><span class=\"token function\">CreateRet</span><span class=\"token punctuation\">(</span>fRemResult<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n<li>\n<p>æ— æ¡ä»¶è·³è½¬</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// åœ¨å½“å‰åŸºæœ¬å—çš„æœ«å°¾åˆ›å»ºä¸€ä¸ªæ— æ¡ä»¶è·³è½¬æŒ‡ä»¤ï¼Œä½¿æ§åˆ¶æµè½¬ç§»åˆ° DestBB æŒ‡å®šçš„åŸºæœ¬å—</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>builder<span class=\"token punctuation\">.</span><span class=\"token function\">CreateBr</span><span class=\"token punctuation\">(</span>DestBB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n<li>\n<p>æ¡ä»¶è·³è½¬</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// åˆ›å»ºæ¯”è¾ƒæŒ‡ä»¤ï¼Œæ¯”è¾ƒ sum å’Œ 100.0 çš„å¤§å°</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Value <span class=\"token operator\">*</span>cmp <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">CreateFCmpUGT</span><span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ConstantFP</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> <span class=\"token function\">APFloat</span><span class=\"token punctuation\">(</span><span class=\"token number\">100.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// åˆ›å»ºæ¡ä»¶è·³è½¬ï¼Œå®Œæ•´å®šä¹‰å¦‚ä¸‹ï¼š</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// BranchInst *CreateCondBr(Value *Cond, BasicBlock *TrueBB, BasicBlock *FalseBB, Instruction *InsertBefore = nullptr);</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>builder<span class=\"token punctuation\">.</span><span class=\"token function\">CreateCondBr</span><span class=\"token punctuation\">(</span>cmp<span class=\"token punctuation\">,</span> TrueBB<span class=\"token punctuation\">,</span> FalseBB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure></li>\n</ol>\n<h2 id=\"è·å–æ›´æ”¹å‚æ•°\"><a class=\"anchor\" href=\"#è·å–æ›´æ”¹å‚æ•°\">#</a> è·å– / æ›´æ”¹å‚æ•°</h2>\n<p>åŠ å…¥æˆ‘æƒ³é€šè¿‡ LLVM C++ API è·å–ä¸€ä¸ª IR æŒ‡ä»¤çš„å‚æ•°ä»¥ä¾¿åç»­åˆ†æã€æˆ–å°†å…¶ä¿®æ”¹ä¸ºæŒ‡å®šå€¼</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// åˆ›å»ºä¸€ä¸ªåŠ æ³•æŒ‡ä»¤</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Instruction <span class=\"token operator\">*</span>AddInst <span class=\"token operator\">=</span> <span class=\"token class-name\">BinaryOperator</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">CreateAdd</span><span class=\"token punctuation\">(</span>Operand1<span class=\"token punctuation\">,</span> Operand2<span class=\"token punctuation\">,</span> <span class=\"token string\">\"sum\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Value <span class=\"token operator\">*</span>NewValue <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å®šä¹‰ä¸€ä¸ªæ–°çš„æ“ä½œæ•°å€¼ NewValue</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">// å‡½æ•°åŸå‹ï¼švoid Instruction::setOperand (unsigned index, Value *val);</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">//index è¡¨ç¤ºè¦è®¾ç½®çš„æ“ä½œæ•°çš„ç´¢å¼•ï¼Œä» 0 å¼€å§‹ï¼Œè¡¨ç¤ºæŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼›</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">//val è¡¨ç¤ºè¦è®¾ç½®çš„æ–°çš„æ“ä½œæ•°å€¼ï¼Œç±»å‹ä¸º Valueï¼Œå¯ä»¥æ˜¯å¸¸é‡ã€å˜é‡æˆ–å…¶ä»–æŒ‡ä»¤çš„ç»“æœ</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>AddInst<span class=\"token operator\">-></span><span class=\"token function\">setOperand</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> NewValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å°† Add æŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¿®æ”¹ä¸º NewValue</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\">// è·å–ç¬¬ä¸€ä¸ªæ“ä½œæ•° Operand1</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// æ³¨æ„ï¼šAddInst åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª Value * ç±»å‹ï¼Œè¡¨ç¤º add çš„è®¡ç®—ç»“æœ</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>AddInst<span class=\"token operator\">-></span><span class=\"token function\">getOperand</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ldmlhbi16aGFuZy5naXRodWIuaW8vbGx2bS1pci10dXRvcmlhbC9pbmRleC5odG1s\">https://evian-zhang.github.io/llvm-ir-tutorial/index.html</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9sbHZtLm9yZy9kb2NzL0xhbmdSZWYuaHRtbA==\">https://llvm.org/docs/LangRef.html</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9sbHZtLm9yZy9kb2NzL0NvZGluZ1N0YW5kYXJkcy5odG1s\">https://llvm.org/docs/CodingStandards.html</span></li>\n</ul>\n",
            "tags": [
                "LLVM",
                "LLVM",
                "æ•™ç¨‹"
            ]
        },
        {
            "id": "https://gality.cn/ml/transformer/",
            "url": "https://gality.cn/ml/transformer/",
            "title": "Transformer è¯¦è§£",
            "date_published": "2024-02-23T07:13:11.000Z",
            "content_html": "<div class=\"note primary no-icon\">\n<p>Transformer æ˜¯ä¸€ç§é‡‡ç”¨äº† â€œè‡ªæ³¨æ„åŠ›æœºåˆ¶â€ çš„æ¨¡å‹ï¼Œä¸»è¦åº”ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰å’Œè®¡ç®—æœºï¼ˆCVï¼‰è§†è§‰é¢†åŸŸã€‚Transformer é‡‡ç”¨ â€œencoder+decoderâ€ çš„æ¶æ„ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å¯ä»¥æ˜¯ä¸å®šé•¿çš„åºåˆ—ï¼ˆseq2seqï¼‰ã€‚é€šè¿‡æ³¨æ„åŠ›æœºåˆ¶ï¼Œtransformer å¯ä»¥å­¦ä¹ åˆ°è¾“å…¥åºåˆ—ä¸­çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»è€Œè¡¨ç°å‡ºæ›´å¼ºçš„å­¦ä¹ èƒ½åŠ›ã€‚</p>\n<p><strong>Key wordsï¼šseq2seqã€Encoderã€Decoderã€Multi-headed Attentionã€Positional Encodingã€Input Embedding</strong></p>\n</div>\n<h1 id=\"transformer-æ¶æ„\"><a class=\"anchor\" href=\"#transformer-æ¶æ„\">#</a> Transformer æ¶æ„</h1>\n<div class=\"note info no-icon\">\n<p>ä¸ºäº†æ–¹ä¾¿è§£é‡Šï¼Œä¸‹æ–‡éƒ½ä»¥<strong>æ–‡æœ¬ç¿»è¯‘</strong>ä¸ºä¾‹æ¥è§£é‡Š transformerã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œtransformer çš„è¾“å…¥æ˜¯ä¸€æ®µè‹±æ–‡ï¼Œè¾“å‡ºæ˜¯ä¸€æ®µä¸å®šé•¿åº¦çš„ä¸­æ–‡ã€‚</p>\n</div>\n<p>åŸå§‹çš„ Transformer é‡‡ç”¨<strong>ç¼–ç å™¨ - è§£ç å™¨</strong>ï¼ˆEncoderâ€“Decoderï¼‰æ¶æ„ï¼ŒEncoder å’Œ Decoder åˆç”±å¤šå±‚å° encoder å’Œ decoder ç»„æˆã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/767krk.jpg\" alt=\"Transformeræ¶æ„\" height=\"300\" /></p>\n<h2 id=\"è¯„ä¼°è¿‡ç¨‹\"><a class=\"anchor\" href=\"#è¯„ä¼°è¿‡ç¨‹\">#</a> è¯„ä¼°è¿‡ç¨‹</h2>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/64apze.jpg\" alt=\"è¯„ä¼°è¿‡ç¨‹\" height=\"370\" /></p>\n<p>åŸå§‹è¾“å…¥ä¿¡æ¯åœ¨è¿›å…¥ Encoder ä¹‹åï¼Œé¦–å…ˆéœ€è¦è¿›è¡Œ<strong>è¯åµŒå…¥</strong>å’Œ<strong>ä½ç½®ä¿¡æ¯ç¼–ç </strong>è½¬æ¢ä¸ºä¸€ç»„å‘é‡ï¼Œç„¶åå°†è¯¥ç»„å‘é‡å‘é‡ç»è¿‡<strong>å¤šå±‚</strong>çš„æŠ½å–ä¼šè¢«æ˜ å°„ä¸ºä¸€ç»„<strong>æŠ½è±¡çš„è¿ç»­è¡¨ç¤º</strong>ï¼Œå…¶ä¸­åŒ…å«äº†åŸå§‹è¾“å…¥çš„æ‰€æœ‰å¯å­¦ä¹ ä¿¡æ¯ï¼ˆå¯ä»¥ç†è§£ä¸ºä¸€ç§æ€»ç»“æ¦‚æ‹¬ï¼Œä¿ç•™è¾“å…¥ä¸­å¯¹æœºå™¨æœ‰ç”¨çš„ä¿¡æ¯ï¼Œç„¶åè¾“å‡ºæˆä¸€ç§æœºå™¨èƒ½çœ‹æ‡‚çš„å½¢å¼ï¼‰ï¼Œç„¶åå°†è¯¥ç»„è¡¨ç¤ºè¾“å…¥åˆ° Decoder ä¸­ã€‚æ¯å±‚å° decoder åˆ©ç”¨è¾“å…¥çš„é‚£äº›è¡¨ç¤ºæ¥ç”Ÿæˆè¾“å‡ºä¿¡æ¯ï¼Œæ³¨æ„ï¼Œå° decoder ç”Ÿæˆçš„ä¿¡æ¯åŒæ ·ä¹Ÿä¼šè¢«è¾“å…¥åˆ°å…¶ä»–å° decoder ä¸­å‚ä¸åç»­çš„è¾“å‡ºï¼Œå³æ¯ä¸€æ¬¡å° decoder çš„è¾“å…¥æ˜¯<strong>å…¶ä»–å° decoder ä¹‹å‰çš„è¾“å‡º</strong>å’Œ<strong> Encoder çš„è¾“å‡º</strong>ã€‚</p>\n<h2 id=\"è®­ç»ƒè¿‡ç¨‹\"><a class=\"anchor\" href=\"#è®­ç»ƒè¿‡ç¨‹\">#</a> è®­ç»ƒè¿‡ç¨‹</h2>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/ew35a6.jpg\" alt=\"è®­ç»ƒè¿‡ç¨‹\" height=\"600\" /></p>\n<p>ç›¸æ¯”äºè¯„ä¼°é˜¶æ®µï¼Œåœ¨ transformer çš„è®­ç»ƒé˜¶æ®µï¼ŒDecoder çš„è¾“å…¥æœ‰æ‰€ä¸åŒã€‚åœ¨è®­ç»ƒæ—¶ï¼ŒDecoder çš„è¾“å…¥æ˜¯<strong> Encoder çš„è¾“å‡º</strong>å’Œ<strong>æ­£ç¡®ç­”æ¡ˆ</strong>ï¼Œç›®çš„æ˜¯è®© Decoder èƒ½æ ¹æ®æ­£ç¡®çš„ç­”æ¡ˆè®¡ç®—äº¤å‰ç†µï¼Œè¿™æ ·æ‰èƒ½è¿›è¡Œå‚æ•°æ›´æ–°ã€‚å…³äºè¿™éƒ¨åˆ†çš„ç»†èŠ‚ï¼Œæˆ‘ä¼šåœ¨åæ–‡ä¸­è¯¦ç»†è®²è§£ã€‚</p>\n<h1 id=\"transormer-ç»†èŠ‚\"><a class=\"anchor\" href=\"#transormer-ç»†èŠ‚\">#</a> Transormer ç»†èŠ‚</h1>\n<h2 id=\"è¯åµŒå…¥\"><a class=\"anchor\" href=\"#è¯åµŒå…¥\">#</a> è¯åµŒå…¥</h2>\n<div class=\"note info no-icon\">\n<p>transformer çš„è¾“å…¥é€šå¸¸æ˜¯ä¸€æ®µåºåˆ—ï¼ˆå¯èƒ½æ˜¯æ–‡æœ¬ã€åƒç´ ç­‰ç¦»æ•£å€¼ï¼‰ï¼Œè¿™äº›åºåˆ—éƒ½æ˜¯<strong>éç»“æ„åŒ–</strong>çš„æ•°æ®ï¼Œä¸å¯ä»¥è¢«ç›´æ¥ç”¨äºè®¡ç®—ã€‚å› æ­¤ï¼Œéœ€è¦ä¸€ç§è§„åˆ™æ¥å°†è¿™äº›éç»“æ„åŒ–çš„æ•°æ®è½¬æ¢æˆç»“æ„åŒ–çš„æ•°æ®ï¼ˆå‘é‡ã€tensor ç­‰ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>è¡¨ç¤ºï¼ˆRepresentationï¼‰</strong>ã€‚è¡¨ç¤ºçš„å¥½åä¼šç›´æ¥å½±å“æœºå™¨å­¦ä¹ ç»“æœï¼Œæ‰€ä»¥éœ€è¦æ¢ç´¢ä¸€ç§å¥½çš„è¡¨ç¤ºã€‚è€Œ ** è¯åµŒå…¥ï¼ˆword embeddingï¼‰** å°±æ˜¯ä¸€ç§æ¯”è¾ƒå¥½çš„è¡¨ç¤ºæ–¹æ³•ï¼Œç”¨äºå°†å•è¯è½¬æ¢æˆï¼ˆåµŒå…¥åˆ°ï¼‰å‘é‡ã€‚</p>\n</div>\n<blockquote>\n<p>ä¸€ç§æœ€ç®€å•çš„è¡¨ç¤ºæ–¹æ³•æ˜¯ <code>one-hot</code>  ç¼–ç ï¼Œè¿™ç§ç¼–ç æ–¹æ³•ä¼šå°†æ¯ä¸€ä¸ªéœ€è¦åµŒå…¥çš„å•è¯è½¬æ¢æˆ <code>one-hot</code>  å‘é‡ï¼Œä¾‹å¦‚ï¼Œæƒ³è¡¨ç¤ºä¸‰ä¸ªå•è¯ï¼šappleã€orangeã€iphoneï¼Œä»–çš„ <code>one-hot</code>  ç¼–ç å¯ä»¥ä¸ºï¼š</p>\n<ul>\n<li>appleï¼š[1, 0, 0]</li>\n<li>orangeï¼š[0, 1, 0]</li>\n<li>iphoneï¼š[0, 0, 1]</li>\n</ul>\n<p>è¿™ç§ä¸€ä¸ªå‘é‡ä¸­åªæœ‰ä¸€ä¸ª <code>1</code> ï¼Œå…¶ä½™å…¨æ˜¯ <code>0</code>  å‘é‡ç§°ä¸º <code>one-hot</code>  å‘é‡ï¼Œä½†è¿™ä¼šå¸¦æ¥ä¸¤ä¸ªé—®é¢˜ï¼š</p>\n<ol>\n<li>å®é™…åº”ç”¨ä¸­å¾€å¾€éœ€è¦è¡¨ç¤ºå‡ åä¸‡ç”šè‡³ç™¾ä¸‡ä¸ªå•è¯ï¼Œç”¨ <code>one-hot</code>  ç¼–ç ä¼šå½¢æˆä¸€ä¸ªå‡ åä¸‡ç»´çš„çŸ©é˜µï¼Œä¸”è¯¥çŸ©é˜µæå…¶ç¨€ç–ï¼Œå¯¼è‡´è®¡ç®—å’Œå­˜å‚¨çš„æ•ˆç‡éƒ½éå¸¸ä½ä¸‹ã€‚</li>\n<li>æ— æ³•è¡¨è¾¾ä¸åŒå•è¯ä¹‹é—´çš„å…³ç³»ã€‚ä¾‹å¦‚ï¼Œç›´è§‰ä¸Šï¼Œæˆ‘ä»¬ä¼šè®¤ä¸º apple å’Œ orange è¿™ä¸¤ä¸ªå•è¯è¯­ä¹‰æ›´åŠ ç›¸è¿‘ï¼ˆéƒ½æ˜¯æ°´æœï¼‰ï¼Œè€Œ iphone å’Œ orange è¿™ä¸¤ä¸ªè¯è¯­ä¹‰æ›´è¿œï¼Œä½†æ˜¯ï¼Œ <code>one-hot</code>  ç¼–ç æ— æ³•ä½“ç°å‡ºè¿™å±‚ä¿¡æ¯ï¼Œå¯¹äº <code>one-hot</code>  ç¼–ç æ¥è¯´ï¼Œæ¯ä¸€ä¸ªè¯éƒ½æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ï¼Œä¸åˆ©äºæœºå™¨å»ç†è§£è¯ä¹‰ã€‚</li>\n</ol>\n</blockquote>\n<p>è¯åµŒå…¥ä¹Ÿæ˜¯ä¸€ç§è¡¨ç¤ºæ–¹æ³•ï¼Œä¸è¿‡ä»–è§£å†³äº† <code>one-hot</code>  è¡¨ç¤ºçš„é—®é¢˜ï¼Œæ›´åŠ é€‚ç”¨äºå¤§é‡å•è¯çš„è¡¨ç¤ºã€‚</p>\n<p>è¯åµŒå…¥å¹¶ä¸æ˜¯æŸç§ç‰¹å®šçš„ç®—æ³•ï¼Œè€Œæ˜¯ä¸€ç§è¡¨ç¤ºæ–¹æ³•çš„ç»Ÿç§°ï¼ŒæŒ‡çš„æ˜¯å°†ä¸€ä¸ªå•è¯åµŒå…¥åˆ°ä¸€ä¸ªå¤šç»´çš„<strong>ç‰¹å¾çŸ©é˜µ</strong>ä¸­ã€‚ä¸ºäº†æ–¹ä¾¿ç†è§£è¯åµŒå…¥ï¼Œæˆ‘ä»¬é¦–å…ˆå¼•å…¥ â€œç‰¹å¾â€ çš„æ¦‚å¿µã€‚ä»¥ apple ä¸ºä¾‹ï¼Œå®ƒæœ‰ä¸€äº›ç‰¹å¾ï¼Œä¾‹å¦‚ï¼Œå±äºæ°´æœã€å¯ä»¥åƒã€åœ†çš„ã€ç”œçš„...ã€‚è€Œæ¯ä¸€ä¸ªè¯éƒ½å¯ä»¥æ€»ç»“å‡ºæ¥ä¸€äº›ç‰¹å¾ï¼Œåªè¦æˆ‘ä»¬æ€»ç»“å‡ºè¶³å¤Ÿå¤šçš„ç‰¹å¾ï¼Œå°±å¯ä»¥ä»¥ç‰¹å¾ä¸ºç»´åº¦æ¥è¡¨ç¤ºå•è¯ï¼Œè¿™ç§è¡¨ç¤ºå½¢æˆçš„çŸ©é˜µå°±æ˜¯ç‰¹å¾çŸ©é˜µã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/y7tfor.png\" alt=\"ç‰¹å¾çŸ©é˜µç¤ºæ„\" /></p>\n<p>ä¸Šå›¾å°±ä¸€ä¸ªä¾‹å­ï¼Œä¾‹å¦‚æˆ‘ä»¬æ€»ç»“å‡ºäº† 300 ä¸ªç‰¹å¾ï¼Œåˆ†åˆ«æ˜¯ genderã€royalã€ageã€food...ï¼Œç”¨æ•°å€¼çš„å¤§å°æ¥è¡¨ç¤ºå•è¯åœ¨è¯¥ç‰¹å¾ç»´åº¦ä¸Šçš„å¾—åˆ†ã€‚é‚£ä¹ˆ apple å’Œ orange åœ¨ food è¿™ä¸€ç‰¹å¾ä¸Šå°±åº”è¯¥æœ‰æ¯”è¾ƒå¤§çš„æ•°å€¼ï¼Œè€Œåœ¨ genderã€royal ç­‰ç‰¹å¾ç»´åº¦ä¸Šæ•°å€¼å¾ˆå°ï¼Œè€Œ king å’Œ queen è¿™ä¸¤ä¸ªå•è¯å°±åº”è¯¥åœ¨ royal è¿™ä¸ªç‰¹å¾ç»´åº¦å°±åº”è¯¥æœ‰æ¯”è¾ƒå¤§çš„å€¼ã€‚åªè¦æˆ‘ä»¬çš„ç‰¹å¾é€‰å–çš„è¶³å¤Ÿåˆé€‚ä¸”ä¸°å¯Œï¼Œå°±å¯ä»¥å°†ä»»æ„å•è¯ â€œåµŒå…¥â€ åˆ°è¿™ä¸ª 300 ç»´çš„ç‰¹å¾çŸ©é˜µä¸­ï¼ˆç”¨ä¸€ç»„ç‰¹å¾å€¼æ¥å”¯ä¸€å¯¹åº”æŸä¸ªå•è¯ï¼Œä¸”èƒ½ä½“ç°å•è¯è¯æ„ä¹‹é—´çš„å…³ç³»ï¼‰ï¼Œè¿™å°±æ˜¯è¯åµŒå…¥çš„åŸç†ã€‚</p>\n<p>è¯åµŒå…¥æœ‰ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ï¼Œå®ƒå¯ä»¥å¸®åŠ©å®ç°ç±»æ¯”æ¨ç†ã€‚ä¾‹å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œé€šè¿‡ä¸åŒå‘é‡ä¹‹é—´çš„å‡æ³•è¿ç®—ï¼Œå¯ä»¥å‘ç°ä¸åŒè¯ä¹‹é—´çš„ç±»æ¯”å…³ç³»ï¼Œä¾‹å¦‚ï¼Œman å’Œ woman ç›¸å‡ï¼Œå¯ä»¥å‘ç°è¿™ä¸¤ä¸ªå•è¯åœ¨ gender ç»´åº¦ä¸Šå·®åˆ«è¾ƒå¤§ï¼Œè€Œåœ¨å…¶ä»–ç»´åº¦ä¸Šå·®åˆ«è¾ƒå°ã€‚è¿™ç§ç‰¹æ€§éå¸¸æœ‰åŠ©äºæ¨¡å‹å»å‘ç°è¯å’Œè¯ä¹‹é—´çš„å…³è”ï¼Œå› æ­¤åœ¨ transformer ä¸­ encoder ä¹‹å‰ä¼šå…ˆè¿›è¡Œè¯åµŒå…¥æ¥å¸®åŠ©æ¨¡å‹å­¦ä¹ ã€‚</p>\n<p>åœ¨å®é™…æƒ…å†µä¸­ï¼Œé€šå¸¸æ˜¯ç”¨æœºå™¨å­¦ä¹ å»å­¦ä¹ ä¸€ç»„å•è¯ï¼Œç”Ÿæˆä¸€ä¸ªç‰¹å¾çŸ©é˜µï¼Œå› æ­¤é€‰å–çš„ç‰¹å¾å¯èƒ½å¹¶ä¸èƒ½å¾ˆç®€å•çš„æè¿°ï¼ŒåŒæ—¶ï¼Œè¯åµŒå…¥çš„ç‰¹å¾ç»´åº¦ä¹Ÿæ ¹æ®ä»»åŠ¡çš„ä¸åŒå’Œä¸åŒï¼Œä½†æ˜¯æ€»çš„æ¥è¯´ï¼Œéƒ½æ˜¯åŸºäºä¸Šè¿°åŸç†æ¥å®ç°è¯åµŒå…¥çš„ã€‚</p>\n<h2 id=\"encoder-è¯¦è§£\"><a class=\"anchor\" href=\"#encoder-è¯¦è§£\">#</a> encoder è¯¦è§£</h2>\n<h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81MDY3MTExNjk=\">https://zhuanlan.zhihu.com/p/506711169</span></li>\n</ul>\n",
            "tags": [
                "æœºå™¨å­¦ä¹ ",
                "æœºå™¨å­¦ä¹ ",
                "tranformer"
            ]
        },
        {
            "id": "https://gality.cn/ml/CNN/",
            "url": "https://gality.cn/ml/CNN/",
            "title": "CNN ï½œ Network Architecture Designed for Image",
            "date_published": "2024-02-05T03:12:37.000Z",
            "content_html": "<div class=\"note info no-icon\">\n<p>å·ç§¯ç¥ç»ç½‘ç»œï¼ˆConvolutional Neural Networkï¼‰æ˜¯ä¸€ç§ä¸“ä¸ºå›¾åƒå¤„ç†è®¾è®¡çš„ç¥ç»ç½‘ç»œç»“æ„ã€‚ç›¸æ¯”äºå…¨è¿æ¥ç¥ç»ç½‘ç»œç»“æ„ï¼Œå·ç§¯ç¥ç»ç½‘ç»œåœ¨é¢å¯¹å›¾åƒç›¸å…³ä»»åŠ¡æ—¶æœ‰çªå‡ºçš„è¡¨ç°ï¼Œè¿™æ˜¯å› ä¸ºè¿™ç§ç‰¹æ®Šçš„ç½‘ç»œç»“æ„çš„è®¾è®¡æ€è·¯ä¸å›¾åƒæœ¬èº«çš„ç‰¹å¾ç´§å¯†ç›¸å…³ï¼Œä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œå¦‚æœæƒ³å°† CNN åº”ç”¨äºå…¶ä»–æ¨¡æ€ä»»åŠ¡ä¸­ï¼Œåº”æ ¹æ®å…·ä½“æ¨¡æ€çš„ç‰¹å¾å¯¹ç½‘ç»œè¿›è¡Œä¿®æ”¹ã€‚ã€Œè‘—åçš„ AlphaGo å°±æ˜¯åŸºäº CNN ç»“æ„æ¥è¿›è¡Œå­¦ä¹ çš„ã€</p>\n</div>\n<h1 id=\"é—®é¢˜å¼•å…¥\"><a class=\"anchor\" href=\"#é—®é¢˜å¼•å…¥\">#</a> é—®é¢˜å¼•å…¥</h1>\n<p>å‡è®¾æˆ‘ä»¬å¸Œæœ›ç”¨æœºå™¨å­¦ä¹ æ¥å®ç°ä¸€ä¸ªå›¾ç‰‡åˆ†ç±»ä»»åŠ¡ï¼Œæ¨¡å‹çš„è¾“å…¥æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œæ¨¡å‹çš„è¾“å‡ºæ˜¯å…¶æ‰€å±çš„åˆ†ç±»ã€‚ä»¥ä¸€ä¸ª <code>100x100</code>  åƒç´ çš„å›¾ç‰‡ä¸ºä¾‹ï¼ˆä½œä¸ºå¯¹æ¯”ï¼Œæˆ‘ä»¬å¸¸è¯´çš„ 4K åˆ†è¾¨ç‡æŒ‡ <code>3840x2160</code>  åƒç´ ï¼‰ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/vldzu5.jpg\" alt=\"å›¾ç‰‡å¤„ç†\" height=\"350\" /></p>\n<p>å›¾ç‰‡å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ª 3 ç»´çš„ tensorï¼Œä¸‰ä¸ªç»´åº¦åˆ†åˆ«ä¸ºï¼šé•¿ã€å®½ã€é€šé“ã€‚å¯¹äºå½©è‰²å›¾ç‰‡æ¥è¯´ï¼Œæœ‰ä¸‰ä¸ªé€šé“ï¼Œå¯¹åº”ç€<span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8zNjc4MjMzMTk=\"> RGB ä¸‰ç§é¢œè‰²</span>ï¼ˆè®¡ç®—æœºå­˜å‚¨å›¾ç‰‡çš„åŸç†ï¼‰ã€‚ç”±äºç¥ç»ç½‘ç»œçš„è¾“å…¥åªèƒ½æ˜¯ä¸€ä¸ªå‘é‡ï¼ˆ2 ç»´ï¼‰ï¼Œæ‰€ä»¥ä¸ºäº†è®©ç¥ç»ç½‘ç»œèƒ½è¯»å–ä¸€ä¸ªå›¾ç‰‡ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°†ä¸‰ç»´ tensor â€œå¹³å¦åŒ–â€ï¼Œå°†ä¸‰ç»´çš„ tensor æŒ‰é€šé“ç»´åº¦æ’åˆ—æˆ 2 ç»´çš„å‘é‡ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‘é‡çš„å¤§å°ä¸º <code>300x100</code> ã€‚</p>\n<p>æˆ‘ä»¬å…ˆè€ƒè™‘ç”¨ä¸€ä¸ªå…¨è¿æ¥ç¥ç»ç½‘ç»œæ¥å¤„ç†è¿™ä¸ªå›¾ç‰‡ï¼Œå‡è®¾ç¬¬ä¸€å±‚æœ‰ 1000 ä¸ªç¥ç»å…ƒï¼Œä»»æ„ä¸€ä¸ªè¾“å…¥åˆ°ä»»æ„ä¸€ä¸ªç¥ç»å…ƒä¹‹é—´éƒ½åº”å­˜åœ¨ä¸€ä¸ª â€œæƒé‡â€ã€‚æ­¤æ—¶ï¼Œç¬¬ä¸€å±‚å°†æœ‰ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>100</mn><mo>Ã—</mo><mn>300</mn><mo>Ã—</mo><mn>1000</mn><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><annotation encoding=\"application/x-tex\">100 \\times 300 \\times 1000 = 10^7</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">Ã—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">Ã—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">7</span></span></span></span></span></span></span></span></span></span></span> ä¸ª â€œæƒé‡â€ï¼Œè¿™è¿˜æ˜¯åœ¨ä¸è€ƒè™‘ â€œåç½®â€ï¼Œä¸è€ƒè™‘ â€œå¤šå±‚â€ ç½‘ç»œçš„æƒ…å†µä¸‹ã€‚</p>\n<p><span class=\"red\">äº‹å®ä¸Šï¼Œæƒ³è¦æ›´æ–°å¦‚æ­¤æµ·é‡çš„å‚æ•°ï¼Œå¯¹ç®—åŠ›è¦æ±‚å®åœ¨å¤ªè¿‡åºå¤§ï¼Œæ ¹æœ¬å°± â€œtrainâ€ ä¸èµ·æ¥ã€‚</span></p>\n<h1 id=\"ç®€åŒ–åŸºäºå±€éƒ¨ç‰¹å¾æ¥ç®€åŒ–ç½‘ç»œç»“æ„\"><a class=\"anchor\" href=\"#ç®€åŒ–åŸºäºå±€éƒ¨ç‰¹å¾æ¥ç®€åŒ–ç½‘ç»œç»“æ„\">#</a> ç®€åŒ–ï¼šåŸºäºå±€éƒ¨ç‰¹å¾æ¥ç®€åŒ–ç½‘ç»œç»“æ„</h1>\n<p>äººç±»åœ¨è¯†åˆ«å›¾ç‰‡æ—¶ï¼Œå›¾ç‰‡ä¸­çš„å¤§éƒ¨åˆ†çš„å†…å®¹å…¶å®æ˜¯æ— ç”¨çš„ï¼Œäººç±»å…¶å®æ˜¯é€šè¿‡ä¸€äº›<strong>å±€éƒ¨ç‰¹å¾</strong>æ¥è¯†åˆ«ç‰©ä½“çš„ï¼Œä¾‹å¦‚ä¸‹é¢çš„å›¾ç‰‡ï¼Œç¬¬ä¸€çœ¼çœ‹ä¸Šå»éå¸¸åƒä¸€åªä¹Œé¸¦ï¼Œå› ä¸ºæˆ‘ä»¬é¦–å…ˆçœ‹åˆ°äº† â€œå–™â€ï¼Œç»“åˆ â€œé»‘è‰²â€ çš„ç‰¹å¾ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°ä¹Œé¸¦ã€‚ä½†æ˜¯å†å¾€ä¸‹çœ‹ï¼Œå½“æˆ‘ä»¬çœ‹åˆ°äº† â€œå°¾å·´â€ è¿™ä¸ªç‰¹å¾åï¼Œæˆ‘ä»¬ä¼šååº”è¿‡æ¥ï¼ŒåŸæ¥è¿™æ˜¯ä¸€ä¸ªçŒ«ã€‚ä½†æ˜¯æ— è®ºæˆ‘ä»¬æ€ä¹ˆè¯†åˆ«è¿™ä¸ªåŠ¨ç‰©ï¼Œå‘¨å›´çš„é»„è‰²åœ°æ¿åˆ«æ²¡æœ‰ä¸ºæˆ‘ä»¬æä¾›ä»»ä½•æœ‰æ•ˆä¿¡æ¯ï¼ŒæŠŠå®ƒä»¬å»æ‰ä¹Ÿå¹¶ä¸å½±å“æˆ‘ä»¬è¯†åˆ«å‡ºè¿™ä¸ªåŠ¨ç‰©ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/fih9ra.png\" alt=\"â€œä¹Œé¸¦â€çŒ«çŒ«\" height=\"210\" /></p>\n<h2 id=\"è®©æ¨¡å‹åªå…³æ³¨å±€éƒ¨ç»†èŠ‚\"><a class=\"anchor\" href=\"#è®©æ¨¡å‹åªå…³æ³¨å±€éƒ¨ç»†èŠ‚\">#</a> è®©æ¨¡å‹åªå…³æ³¨å±€éƒ¨ç»†èŠ‚</h2>\n<p>å—ä¸Šé¢çš„è§‚å¯Ÿå¯å‘ï¼Œæˆ‘ä»¬å‘ç°åœ¨è¿›è¡Œå›¾åƒå¤„ç†æ—¶ï¼Œç¥ç»ç½‘ç»œå…¶å®å¹¶ä¸éœ€è¦æ•´ä¸ªå›¾åƒæ¥ä½œä¸ºè¾“å…¥ï¼Œåªè¦ç¥ç»ç½‘ç»œèƒ½è¯†åˆ«å‡ºå›¾ç‰‡ä¸­ç‰©ä½“çš„æŸäº›ç‰¹å¾å°±è¶³å¤Ÿå®Œæˆè¯†åˆ«ä»»åŠ¡äº†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘æŒ‰ä¸€å®šçš„è§„åˆ™æ¥å°†åŸå›¾ç‰‡åˆ’åˆ†æˆå¤šä¸ª â€œå°å›¾ç‰‡â€ï¼Œç»™ä¸€ä¸ªå°å›¾ç‰‡åˆ†é…<strong>ä¸€ä¸ªæˆ–å¤šä¸ªç¥ç»å…ƒ</strong>æ¥å­¦ä¹ ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/wqu0cs.jpg\" alt=\"æ¨¡å‹åªçœ‹ç»†èŠ‚\" height=\"350\" /></p>\n<p>å‡è®¾æˆ‘ä»¬å°†å›¾ç‰‡åˆ’åˆ†æˆ <code>3x3</code>  åƒç´ ï¼ˆéœ€è¦æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼Œèƒ½è¦†ç›–ä½ç‰¹å¾å³å¯ï¼Œè¦†ç›–ä¸å®Œå…¨ä¹Ÿå¯ä»¥ï¼Œåé¢ä¼šè¯´ï¼‰çš„å°å›¾ç‰‡ï¼Œå¹¶ä¸”ä»¤æ¯ 3 ä¸ªç¥ç»å…ƒå­¦ä¹ ä¸€ä¸ªå°å›¾ç‰‡ï¼Œé‚£ä¹ˆæ­¤æ—¶ï¼Œå¯¹äºä¸€ä¸ªç¥ç»å…ƒæ¥è¯´ï¼Œæ‰€éœ€æ›´æ–°çš„ â€œæƒé‡â€ å°±ä»è¿‡å»çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mo>Ã—</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding=\"application/x-tex\">3 \\times 10^4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">Ã—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span></span></span></span> ä¸ªé™ä½åˆ° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mo>Ã—</mo><mn>3</mn><mo>Ã—</mo><mn>3</mn><mo>=</mo><mn>9</mn></mrow><annotation encoding=\"application/x-tex\">3\\times3\\times3=9</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">Ã—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">Ã—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">9</span></span></span></span> ä¸ªï¼Œæ‰€éœ€è¿ç®—é‡å°±ä¼šå¤§å¤§å‡å°äº†ï¼Œè¿™å°±æ˜¯ä¸€ç§ç®€åŒ–ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/7qunhq.png\" alt=\"æ„Ÿå—é‡\" height=\"350\" /></p>\n<p>å…¶ä¸­ï¼Œæ¯ä¸ªç¥ç»å…ƒå¯æ„ŸçŸ¥çš„åŒºåŸŸï¼Œå°±å«åš<strong>æ„Ÿå—é‡ï¼ˆreceptive fieldï¼‰</strong>ã€‚</p>\n<h2 id=\"å¸¸è§é—®é¢˜\"><a class=\"anchor\" href=\"#å¸¸è§é—®é¢˜\">#</a> å¸¸è§é—®é¢˜</h2>\n<h3 id=\"æ„Ÿå—é‡æ˜¯å¦å¯ä»¥é‡å ä¸ºä»€ä¹ˆ\"><a class=\"anchor\" href=\"#æ„Ÿå—é‡æ˜¯å¦å¯ä»¥é‡å ä¸ºä»€ä¹ˆ\">#</a> æ„Ÿå—é‡æ˜¯å¦å¯ä»¥é‡å ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</h3>\n<p>æ„Ÿå—é‡å¯ä»¥é‡å ï¼Œä¹Ÿå¿…é¡»é‡å ï¼Œå› ä¸ºåœ¨åˆ’å®šæ„Ÿå—é‡æ—¶æˆ‘ä»¬å¹¶ä¸èƒ½ä¿è¯è¯†åˆ«ç‰©ä½“æ‰€éœ€çš„ç‰¹å¾å°±æ­£å¥½å®Œæ•´çš„è½åœ¨æ„Ÿå—é‡å†…ï¼Œæ‰€ä»¥ï¼Œæœ€å¥½é€åƒç´ çš„åˆ’å®šæ„Ÿå—é‡ï¼Œä»¥ä¿è¯ç‰¹å¾å¯ä»¥å®Œæ•´çš„å‡ºç°åœ¨æŸäº›ç¥ç»å…ƒçš„æ„Ÿå—é‡ä¸­ã€‚æ¯ä¸ªæ„Ÿå—é‡ç›¸éš”çš„è·ç¦»ç§°ä¸º<strong>æ­¥é•¿ï¼ˆstrideï¼‰</strong>ã€‚</p>\n<h3 id=\"æ„Ÿå—é‡çš„è®¾è®¡æ˜¯å¦æœ‰è§„èŒƒ\"><a class=\"anchor\" href=\"#æ„Ÿå—é‡çš„è®¾è®¡æ˜¯å¦æœ‰è§„èŒƒ\">#</a> æ„Ÿå—é‡çš„è®¾è®¡æ˜¯å¦æœ‰è§„èŒƒï¼Ÿ</h3>\n<p>æ„Ÿå—é‡å¯ä»¥æ ¹æ®ä»»åŠ¡éœ€è¦éšæ„è®¾è®¡ï¼Œä¾‹å¦‚æ„Ÿå—é‡å¯ä»¥åªçœ‹æŸä¸ªé€šé“ã€æˆ–è€…æ„Ÿå—é‡çš„å½¢çŠ¶ä¹Ÿå¯ä»¥æ˜¯é•¿æ–¹å½¢ç­‰ç­‰ã€æˆ–è€…ä¹Ÿæ˜¯å¯ä»¥è®¾è®¡ä¸åŒå¤§å°çš„æ„Ÿå—é‡ï¼Œæ€»ä¹‹ï¼Œä¸€åˆ‡æ ¹æ®ä»»åŠ¡éœ€è¦æ¥ã€‚</p>\n<h3 id=\"æ„Ÿå—é‡è¶Šè¿‡å›¾åƒè¾¹ç•Œæ€ä¹ˆåŠ\"><a class=\"anchor\" href=\"#æ„Ÿå—é‡è¶Šè¿‡å›¾åƒè¾¹ç•Œæ€ä¹ˆåŠ\">#</a> æ„Ÿå—é‡è¶Šè¿‡å›¾åƒè¾¹ç•Œæ€ä¹ˆåŠï¼Ÿ</h3>\n<p>å¯ä»¥ç›´æ¥ä¸å¡«å……ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦å¯¹å›¾åƒçš„è¾¹ç¼˜è¿›è¡Œå¡«å……ï¼ŒåŒæ ·ï¼Œå…·ä½“æ€ä¹ˆå¡«å……ä¹Ÿå¯ä»¥éšæ„è®¾è®¡ã€‚</p>\n<h3 id=\"ç»å…¸è®¾è®¡\"><a class=\"anchor\" href=\"#ç»å…¸è®¾è®¡\">#</a> ç»å…¸è®¾è®¡</h3>\n<p>è¿™é‡Œæä¾›ä¸€ç§ç»å…¸è®¾è®¡ï¼šæ¯ä¸ªæ„Ÿå—é‡åˆ†é… 64 ä¸ªç¥ç»å…ƒï¼Œæ„Ÿå—é‡å¤§å° <code>3x3</code> ï¼Œæ­¥é•¿ä¸º 2ï¼Œè¾¹ç¼˜éœ€è¦è¿›è¡Œå¡«å……ã€‚</p>\n<h1 id=\"ç®€åŒ–åŸºäºç›¸ä¼¼ç‰¹å¾ç®€åŒ–è®­ç»ƒè¿‡ç¨‹\"><a class=\"anchor\" href=\"#ç®€åŒ–åŸºäºç›¸ä¼¼ç‰¹å¾ç®€åŒ–è®­ç»ƒè¿‡ç¨‹\">#</a> ç®€åŒ–ï¼šåŸºäºç›¸ä¼¼ç‰¹å¾ç®€åŒ–è®­ç»ƒè¿‡ç¨‹</h1>\n<p>äººç±»åœ¨è¯†åˆ«å›¾ç‰‡çš„è¿‡ç¨‹ä¸­å¸¸å¸¸ä¼šå¿½ç•¥ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬è¦è¯†åˆ«çš„ç‰©ä½“å¯ä»¥åœ¨å›¾ç‰‡ä¸­çš„ä»»æ„ä½ç½®ï¼Œäººç±»ä¼šè‡ªåŠ¨å¿½ç•¥ç‰©ä½“ç›¸å¯¹åœ¨å›¾ç‰‡ä¸­ç›¸å¯¹ä½ç½®çš„åŒºåˆ«ï¼Œä½†æ˜¯å¯¹äºç¥ç»ç½‘ç»œæ¥è¯´ï¼Œç”±äºæ˜¯ä¸åŒçš„ç¥ç»å…ƒæ¥æ„ŸçŸ¥ä¸åŒçš„åŒºåŸŸï¼Œæ‰€ä»¥å¯èƒ½å­˜åœ¨æŸä¸€ç‰¹å¾æ¢äº†ä¸ªä½ç½®ï¼Œå¦å¤–ä¸€ä¸ªç¥ç»å…ƒè¯†åˆ«ä¸å‡ºçš„æƒ…å†µã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/ge8iuo.jpg\" alt=\"åŒä¸€ç‰¹å¾å‡ºç°åœ¨ä¸åŒä½ç½®\" height=\"350\" /></p>\n<h2 id=\"è®©ä¸åŒæ„Ÿå—é‡çš„ç¥ç»å…ƒå…±äº«å‚æ•°\"><a class=\"anchor\" href=\"#è®©ä¸åŒæ„Ÿå—é‡çš„ç¥ç»å…ƒå…±äº«å‚æ•°\">#</a> è®©ä¸åŒæ„Ÿå—é‡çš„ç¥ç»å…ƒå…±äº«å‚æ•°</h2>\n<p>ç¥ç»ç½‘ç»œå­¦ä¹ çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ç¡®å®šä¸€ç»„å‚æ•°çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä»å•ä¸ªç¥ç»å…ƒçš„è§’åº¦æ¥çœ‹ï¼Œç¥ç»å…ƒå¯¹æŸç‰¹å¾çš„è¯†åˆ«å¯ä»¥å¯¹åº”åˆ°è¯¥ç¥ç»å…ƒçš„ä¸€ç»„å‚æ•°ä¸Šï¼Œæ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬è®©ä¸åŒçš„ç¥ç»å…ƒå…±äº«è¿™ä¸€ç»„å‚æ•°ï¼Œåˆ™å¯ä»¥å®ç°è®©ä¸åŒçš„ç¥ç»å…ƒéƒ½å¯ä»¥è¯†åˆ«åŒä¸€ç‰¹å¾ã€‚è¿™é‡Œéœ€è¦å¼ºè°ƒçš„çš„æ˜¯ï¼Œè¿™é‡Œçš„ä¸åŒçš„ç¥ç»å…ƒå¿…é¡»æ˜¯<strong>ä¸åŒæ„Ÿå—é‡</strong>çš„ç¥ç»å…ƒï¼Œç”±äºä¸åŒçš„æ„Ÿå—é‡çš„ç¥ç»å…ƒçš„è¾“å…¥ä¸åŒï¼Œå³ä½¿å…±äº«åŒä¸€ç»„å‚æ•°ï¼Œä»ç„¶ä¼šæœ‰ä¸åŒçš„è¾“å‡ºï¼›è€Œå¦‚æœæ˜¯åŒä¸€æ„Ÿå—é‡çš„ç¥ç»å…ƒçš„è¯ï¼Œå…±äº«åŒä¸€ç»„å‚æ•°åˆ™ä¼šä½¿ä¸åŒç¥ç»å…ƒè¾“å‡ºç›¸åŒçš„ç»“æœï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/53hkro.jpg\" alt=\"ä¸åŒæ„Ÿå—é‡çš„ç¥ç»å…ƒå…±äº«åŒä¸€ç»„å‚æ•°\" height=\"350\" /></p>\n<p>è¿›ä¸€æ­¥æ¥è¯´ï¼Œå…¶å®å°±æ˜¯å°†ä¸€ç»„å‚æ•°å’Œä¸€ä¸ªç‰¹å¾ç»‘å®šï¼Œè®°å¾—ä¸Šæ–‡ä¸­æåˆ°çš„è¦è®©å¤šä¸ªç¥ç»å…ƒæ¥æ„Ÿå—åŒä¸€ä¸ªæ„Ÿå—é‡å—ï¼Ÿæ˜¯çš„ï¼Œè®© 64 ä¸ªç¥ç»å…ƒæ„Ÿå—ä¸€ä¸ªæ„Ÿå—é‡ï¼Œå…¶å®å°±æ˜¯åœ¨æ¨¡å‹ä¸­é¢„ç•™äº† 64 ä¸ª â€œå¯æ›´æ–°â€ çš„ç‰¹å¾ä½ï¼Œè¯¥æ¨¡å‹æœ€å¤šå¯ä»¥ä»å›¾ç‰‡ä¸­æå– 64 ä¸ªä¸åŒçš„ç‰¹å¾ï¼Œä¸”ä»»æ„ä¸€ä¸ªæ„Ÿå—é‡çš„ç¥ç»å…ƒéƒ½å¯ä»¥è¯†åˆ«è¿™ç§ç‰¹å¾ã€‚æ„Ÿå—åŒä¸€ä¸ªæ„Ÿå—é‡çš„ä¸åŒç¥ç»å…ƒæˆ‘ä»¬ä»¥ <code>filter x</code>  æ¥å‘½åï¼Œç¬¬ä¸€ä¸ªç§°ä¸º <code>filter 1</code> ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­<strong>åŒæ­¥æ›´æ–°å¤šä¸ªç¥ç»å…ƒ</strong>ï¼Œä»»æ„ä¸€ä¸ªç¥ç»å…ƒå­¦ä¹ åˆ°æŸç§ç‰¹å¾åï¼Œå…¶ä»–æ„Ÿå—é‡çš„å¯¹åº”çš„ <code>filter</code>  ä¹Ÿä¼šè‡ªåŠ¨çš„å­¦ä¼šè¿™ç§ç‰¹å¾ï¼Œä»è€Œå¤§å¤§ç®€åŒ–è®­ç»ƒçš„è¿‡ç¨‹ï¼ŒåŒæ—¶æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>\n<h1 id=\"ä»filterçš„è§’åº¦çœ‹å¾…è®­ç»ƒè¿‡ç¨‹\"><a class=\"anchor\" href=\"#ä»filterçš„è§’åº¦çœ‹å¾…è®­ç»ƒè¿‡ç¨‹\">#</a> ä» filter çš„è§’åº¦çœ‹å¾…è®­ç»ƒè¿‡ç¨‹</h1>\n<p>å‰é¢è¯´è¿‡ï¼Œä¸€ä¸ª <code>filter</code>  è¯†åˆ«ä¸€ç§ç‰¹å¾ï¼Œè¿™ä¸ªè¯´æ³•å¯èƒ½ç¨å¾®æœ‰äº›æŠ½è±¡ï¼Œæˆ‘ä»¬æ¥ç»™å‡ºä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼šè¾“å…¥æ˜¯ä¸€ä¸ª <code>6x6</code>  åƒç´ çš„é»‘ç™½å›¾ç‰‡ï¼ˆé€šé“æ•°ä¸º 1ï¼‰ï¼Œæ„Ÿå—é‡ä¸º <code>3x3</code> ï¼Œæ¯ä¸ªæ„Ÿå—é‡è®¾ç½® 64 ä¸ªç¥ç»å…ƒå»å­¦ä¹ ï¼Œæ­¥é•¿ä¸º 1ï¼Œåœ¨ç¥ç»ç½‘ç»œä¸­æˆ‘ä»¬ä»åªè€ƒè™‘ â€œæƒé‡â€ã€‚</p>\n<h2 id=\"ä¸€ä¸ªfilterè¯†åˆ«ä¸€ç§ç‰¹å¾\"><a class=\"anchor\" href=\"#ä¸€ä¸ªfilterè¯†åˆ«ä¸€ç§ç‰¹å¾\">#</a> ä¸€ä¸ª filter è¯†åˆ«ä¸€ç§ç‰¹å¾</h2>\n<p>é¦–å…ˆæ¥è¯´æ˜ä¸ºä»€ä¹ˆä¸€ä¸ª <code>filter</code>  å¯ä»¥è¯†åˆ«ä¸€ç§ç‰¹å¾ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/lxcfqf.jpg\" alt=\"ä¸€ä¸ªfilterè¯†åˆ«ä¸€ç§ç‰¹å¾\" height=\"350\" /></p>\n<p>å‡è®¾ <code>Filter 1</code>  å°±æ˜¯ä¸€ä¸ªä¸»å¯¹è§’çº¿å…¨ä¸º 1ï¼Œå…¶ä»–å…ƒç´ éƒ½ä¸º - 1 çš„æƒé‡çŸ©é˜µï¼Œé‚£ä¹ˆå½“ä¸”ä»…å½“æ„Ÿå—é‡ä¸­ä¸»å¯¹è§’çº¿å…¨ä¸º 1ï¼Œå…¶ä»–å…ƒç´ å…¨ 0 æ—¶æ‰èƒ½ï¼Œè¯¥ç¥ç»å…ƒçš„è¾“å‡ºå¯ä»¥å–å¾—æœ€å¤§å€¼ 3ï¼Œå³ <code>Filter 1</code>  è¯†åˆ«äº†ç‰¹å¾ï¼šæœ‰ä¸€æ¡ä»å·¦ä¸Šåˆ°å³ä¸‹çš„çº¿ã€‚</p>\n<h2 id=\"ä»å°å›¾ç‰‡åˆ°æ•´ä¸ªå›¾ç‰‡\"><a class=\"anchor\" href=\"#ä»å°å›¾ç‰‡åˆ°æ•´ä¸ªå›¾ç‰‡\">#</a> ä»å°å›¾ç‰‡åˆ°æ•´ä¸ªå›¾ç‰‡</h2>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/5ftedn.jpg\" alt=\"å¤šå±‚CNN\" height=\"350\" /></p>\n<p>å› ä¸ºä¸€ä¸ªæ„Ÿå—é‡è®¾ç½®äº† 64 ä¸ªç¥ç»å…ƒï¼Œæ‰€ä»¥ç¬¬ä¸€å±‚å·ç§¯å±‚å¤„ç†åå¾—åˆ°çš„æ˜¯ä¸€ä¸ª 64 é€šé“ï¼Œå¤§å°ä¸º <code>4x4</code>  çš„ç‰¹å¾ tensorï¼Œå°†è¯¥è¾“å‡ºäº¤ç»™ä¸‹ä¸€å±‚å·ç§¯å±‚ï¼Œä¸‹ä¸€ä¸ªå·ç§¯å±‚è®¾ç½®çš„æ„Ÿå—é‡ä»ä¸º <code>3x3</code> ï¼Œä½†æ˜¯è¿™æ—¶ï¼Œç”±äº <code>3x3</code>  çš„æ„Ÿå—é‡ä¸­çš„æ¯ä¸€ä¸ª <code>Feature</code>  éƒ½æ˜¯ä»åŸå›¾ç‰‡ä¸­ <code>3x3x1</code>  çš„å°å›¾ç‰‡ä¸­æå–çš„ï¼Œå³æ¯ä¸€ä¸ª <code>Feature</code>  éƒ½åŒ…å«äº† <code>3x3x1</code>  çš„åƒç´ ä¿¡æ¯ï¼Œé‚£ä¹ˆç¬¬äºŒå±‚å·ç§¯å±‚æ‰€èƒ½ â€œæ„Ÿå—â€ çš„èŒƒå›´å…¶å®æ˜¯åŸå›¾ç‰‡ä¸­ <code>5x5x1</code>  å¤§å°çš„åŒºåŸŸã€‚</p>\n<p>éšç€å·ç§¯å±‚çš„å¢å¤šï¼Œåé¢çš„å·ç§¯å±‚ä¸­çš„ç¥ç»å…ƒ â€œæ„Ÿå—â€ çš„èŒƒå›´å°±ä¼š<strong>è¶Šæ¥è¶Šå¤§</strong>ã€‚</p>\n<h1 id=\"ç®€åŒ–åŸºäºå›¾ç‰‡çš„å‹ç¼©æ¥ç®€åŒ–è®¡ç®—é‡\"><a class=\"anchor\" href=\"#ç®€åŒ–åŸºäºå›¾ç‰‡çš„å‹ç¼©æ¥ç®€åŒ–è®¡ç®—é‡\">#</a> ç®€åŒ–ï¼šåŸºäºå›¾ç‰‡çš„å‹ç¼©æ¥ç®€åŒ–è®¡ç®—é‡</h1>\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹å›¾ç‰‡è¿›è¡Œé™é‡‡æ ·å¹¶ä¸å½±å“å›¾ç‰‡çš„è¯†åˆ«ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æŸç§æ–¹æ³•æ¥å°†å¤šä¸ªåƒç´ åˆæˆæˆä¸€ä¸ªåƒç´ ï¼Œä»è€Œå¤§å¹…å‡å°‘å›¾ç‰‡ä¸­çš„æ€»åƒç´ ç‚¹æ•°ï¼Œè¿™è¿‡ç¨‹ç§°ä¸º <code>Pooling</code> ã€‚ä»¥ <code>Max Pooling</code>  ä¸ºä¾‹ï¼Œ <code>Max Pooling</code>  å°±æ˜¯ç”¨ä¸€ä¸ªåŒºåŸŸå†…æœ€å¤§çš„å€¼ä»£æ›¿è¯¥åŒºåŸŸçš„æ‰€æœ‰å€¼ï¼Œä»è€Œå‹ç¼©å›¾ç‰‡å¤§å°ã€‚</p>\n<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ— è®ºæ€æ · <code>Pooling</code>  éƒ½ä¸€å®šä¼šå‡å°‘å›¾ç‰‡çš„ç‰¹å¾ã€‚è¿™ç§æ–¹æ³•ä¸€èˆ¬åœ¨è¿‡å»ç®—åŠ›ç´§å¼ æ—¶ä½¿ç”¨ï¼Œç°åœ¨çš„ CNN ä¸­å·²ç»åœ¨æ…¢æ…¢å‡å°‘ï¼Œç”šè‡³å®Œå…¨ä¸ä½¿ç”¨ <code>Pooling</code>  æŠ€æœ¯äº†ã€‚</p>\n<h1 id=\"æ€»ç»“\"><a class=\"anchor\" href=\"#æ€»ç»“\">#</a> æ€»ç»“</h1>\n<p>å·ç§¯ç¥ç»ç½‘ç»œå…¶å®å°±æ˜¯ä¸€ç§ä¸“ä¸ºå¤„ç†å›¾åƒè€Œè®¾è®¡çš„ç½‘ç»œç»“æ„ã€‚å…¨è¿æ¥å±‚å¯ä»¥å¤„ç†ä»»ä½•ä»»åŠ¡ï¼ŒåŒæ ·çš„ï¼Œä¹Ÿæ„å‘³ç€ä»–å¹¶ä¸æ“…é•¿ä»»ä½•ä»»åŠ¡ã€‚åœ¨å…¨è¿æ¥çš„åŸºç¡€ä¸ŠåŠ å…¥ â€œæ„Ÿå—é‡â€ å’Œ â€œå‚æ•°å…±äº«â€ï¼Œå°±è¯ç”Ÿäº†å·ç§¯å·ç§¯ç¥ç»ç½‘ç»œã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/gch9wd.png\" alt=\"Benefit of Convolutional Layer\" height=\"350\" /></p>\n<h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMVRENHkxMzdtUD9wPTIw\">https://www.bilibili.com/video/BV1TD4y137mP?p=20</span></li>\n</ul>\n",
            "tags": [
                "æœºå™¨å­¦ä¹ ",
                "æœºå™¨å­¦ä¹ ",
                "CNN",
                "å›¾åƒå¤„ç†"
            ]
        },
        {
            "id": "https://gality.cn/scientific-research/thesis-reading/%20Blockchain%20Imitation%20Game/",
            "url": "https://gality.cn/scientific-research/thesis-reading/%20Blockchain%20Imitation%20Game/",
            "title": "è®ºæ–‡é˜…è¯»ï½œ The Blockchain Imitation Game",
            "date_published": "2024-01-08T06:21:22.000Z",
            "content_html": "<div class=\"note info\">\n<p>Qin K, Chaliasos S, Zhou L, et al. The blockchain imitation game[J]. arXiv preprint arXiv:2303.17877, 2023.</p>\n<p>é“¾æ¥ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudXNlbml4Lm9yZy9zeXN0ZW0vZmlsZXMvc2VjMjNmYWxsLXByZXB1Yi0zMzEtcWluLnBkZg==\">https://www.usenix.org/system/files/sec23fall-prepub-331-qin.pdf</span></p>\n</div>\n<details class=\"primary\"><summary>æ€è€ƒğŸ¤”</summary><div>\n<p>å›é¡¾æ•´ç¯‡è®ºæ–‡ï¼Œå®‰å…¨é—®é¢˜äº§ç”Ÿäº â€œæŠ¢å…ˆâ€ è¿è¡Œï¼Œè¿™ç§æŠ¢å…ˆè¿è¡Œæ˜¯åŸºäºæŸäº›ç§å¯† â€œæƒ…æŠ¥â€ çš„ï¼Œè¿™ç§äº‹æƒ…éå¸¸å¸¸è§ï¼Œå½±å“ä¹Ÿéå¸¸å¹¿æ³›ï¼Œå°±åƒç½—æ–¯æŸ´å°”å¾·å€ŸåŠ©æ‹¿ç ´ä»‘æ»‘é“å¢æŒæ§äº†æ•´ä¸ªè‹±å›½çš„ç»æµä¸€æ ·ï¼ŒæŒæ¡ â€œæƒ…æŠ¥â€ çš„ç”¨æˆ·å¯ä»¥å‡ ä¹ â€œç¡®å®šçš„â€ ç›ˆåˆ©ã€‚è¿™ä¸€æƒ…å†µåœ¨åŒºå—é“¾ä¸­çš„å½±å“ä¼šæ›´åŠ çš„ä¸¥é‡ï¼Œå› ä¸ºåœ¨åŒºå—é“¾ä¸­ï¼ŒçŸ¿å·¥æœ¬èº«å°±å¯ä»¥è¿›è¡Œäº¤æ˜“ï¼Œç›¸å½“äºå¯ä»¥ä¸ç›´æ¥ç»è¿‡ â€œäº¤æ˜“æ‰€â€ å°±å¯ä»¥å®Œæˆé‡‘é’±çš„æµåŠ¨ï¼Œè¿™æ— ç–‘æ›´æœ‰åˆ©äºé‚£äº›èƒ½æ›´å¿«æ‹¥æœ‰ â€œæƒ…æŠ¥â€ çš„çŸ¿å·¥ã€‚</p>\n<p>æˆ‘è®¤ä¸ºï¼Œè®ºæ–‡ä¸­æå‡ºçš„æ–¹æ³•æœ‰å‡ ä¸ªå…³é”®ç‚¹ï¼š</p>\n<ol>\n<li>æ ¹æ®åŠ¨æ€æ§åˆ¶æµå›¾çš„æ„å»ºå¿«é€Ÿåˆ†æç¨‹åºçš„æµç¨‹</li>\n<li>é€šè¿‡æ±¡ç‚¹åˆ†æç¨‹åºè‡ªåŠ¨åŒ–æ‰¾åˆ°æ±¡ç‚¹ä½ç½®å¹¶ç”Ÿæˆå¯¹æŠ—æ€§æ™ºèƒ½åˆçº¦</li>\n<li>æœ¬åœ°å¿«é€ŸéªŒè¯ä»¥ç¡®ä¿æ”»å‡»æ”¶ç›Š</li>\n</ol>\n<p>ä»å®éªŒçš„ç»“æœæ¥çœ‹ï¼ŒAPE åœ¨ä»¥å¤ªåŠä¸­æˆåŠŸæ”»å‡»çš„äº¤æ˜“å  0.0061%ï¼›åœ¨ BSC ä¸­æˆåŠŸæ”»å‡»çš„äº¤æ˜“å  0.0022%ï¼Œè¿™ä¸ªæ¯”ä¾‹ç›¸æ¯”äº &quot;Naive Transaction Imitation Attack&quot; æ¥è¯´è™½ç„¶æ›´å°ï¼Œä½†æ˜¯äº§ç”Ÿçš„æ”¶ç›Šå´ç¿»äº† 3 å€å·¦å³ã€‚è¿™æ„å‘³ç€éƒ¨åˆ†å¤§é¢äº¤æ˜“é‡‡ç”¨äº†çš„ä¿å¯†çš„æ™ºèƒ½åˆçº¦æ¥å¯¹æŠ— &quot;Naive Transaction Imitation Attack&quot;ï¼Œè¿™æ˜¯åˆç†çš„ï¼Œä½†åŒæ—¶ä¹Ÿæš´éœ²äº†äº¤æ˜“æ‰€å…¶å®ç¼ºä¹å¯¹äºå®‰å…¨é—®é¢˜çš„æ·±åˆ»è®¤çŸ¥ï¼Œæ€»æ˜¯å°è¯•é€šè¿‡å°½å¯èƒ½å°çš„æ”¹å˜æ¥å¯¹å·²çŸ¥å®‰å…¨å¨èƒè¿›è¡Œé˜²æŠ¤ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ›´å¤§çš„å®‰å…¨éšæ‚£ï¼›å¦å¤–ä¸€ä¸ªæš´éœ²å‡ºæ¥çš„é—®é¢˜æ˜¯å³ä½¿åœ¨å®‰å…¨å¨èƒå·²çŸ¥çš„å‰æä¸‹ï¼Œå¤§é‡çš„ç”¨æˆ·å¹¶æ²¡æœ‰å…³å¿ƒå¯èƒ½å­˜åœ¨çš„å®‰å…¨é£é™©ï¼Œåœ¨åŒºå—é“¾è¿™æ ·çš„ä¸€ä¸ªæœ‰æµ·é‡èŠ‚ç‚¹åŠç”¨æˆ·çš„åº”ç”¨ä¸­ï¼Œæ”»å‡»è€…æ›´å®¹æ˜“é€šè¿‡å·²çŸ¥å¨èƒæ¥è·å–åˆ©ç›Šï¼Œä»è¿™ç‚¹ä¸Šæ¥è¯´ï¼Œå¦‚æœé‡‘èç±»åŒºå—é“¾ç®—æ³•æœ¬èº«å¯ä»¥åŠæ—¶æä¾›å¯¹å®‰å…¨å¨èƒçš„æ›´æ–°å¹¶å¼ºåˆ¶è¿›è¡Œç‰ˆæœ¬éªŒè¯ï¼Œå¯ä»¥æœ€å¤§ç¨‹åº¦ä¸Šé¿å…é‡‘èæŸå¤±ã€‚</p>\n<p>ä» APE çš„å®ç°è§’åº¦æ¥è¯´ï¼ŒAPE ä¸­çš„ç¨‹åºæµåˆ†æã€æ±¡ç‚¹åˆ†æã€å¯¹æŠ—æ€§æ™ºèƒ½åˆçº¦ç”Ÿæˆçš„åº•å±‚å®ç°éƒ½æ˜¯åŸºäºå¯¹åŒºå—é“¾ç¨‹åºçš„äºŒè¿›åˆ¶åˆ†æï¼Œè¿™ç§æ”»å‡»æ‰‹æ³•éœ€è¦å¯¹äºäºŒè¿›åˆ¶ç¨‹åºæœ‰æå¼ºçš„äº†è§£ï¼ŒåŒæ—¶ï¼Œè¿‘å¹´æ¥ç”± Go è¯­è¨€å®ç°çš„åŒºå—é“¾ç¨‹åºä¸æ–­å¢å¤šï¼ŒGo è¯­è¨€æœ¬èº«çš„ä»£ç è®¾è®¡åˆå¢åŠ äº†é€†å‘åˆ†æçš„éš¾åº¦ï¼Œä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†å®‰å…¨æ€§ã€‚å› æ­¤ï¼Œè™½ç„¶ APE ä¸­çš„ç¨‹åºæµåˆ†ææ— æ³•å¯¹æŠ—å¯¹ç¨‹åºæµçš„æ··æ·†é˜²æŠ¤ï¼Œä½†æ˜¯å´æä¾›äº†ä¸€ç§æ›´è½»é‡åŒ–çš„å®‰å…¨æ”»å‡»çš„æ€è·¯ï¼Œè¿™ç§æ€è·¯å¯¹äºç›¸å¯¹æ¥è¯´è¿˜æœªé«˜åº¦å¤æ‚åŒ–çš„åŒºå—é“¾ç¨‹åºå¯èƒ½ä¼šæ›´åŠ å¥½ç”¨ã€‚</p>\n<p>æ•´ä½“æ¥çœ‹ï¼ŒAPE è™½ç„¶å®ç°äº†ä¸€ç§é€šç”¨çš„æ¨¡æ‹Ÿæ”»å‡»çš„æ–¹æ³•ï¼Œä½†æ˜¯æœ¬èº«å…¶å®ä»ç„¶ç›¸å¯¹ç®€å•ï¼Œèƒ½æˆåŠŸè¿è¡Œæ¨¡æ‹Ÿæ”»å‡»çš„äº¤æ˜“æ•°é‡ä»ç„¶å æ¯”å¾ˆå°ï¼Œæˆ‘è®¤ä¸ºå­˜åœ¨ä¸€äº›å¯ä»¥æ”¹è¿›çš„ç‚¹ã€‚</p>\n<ol>\n<li>åœ¨æ±¡ç‚¹åˆ†æä¸­ï¼ŒAPE ä»…ä»…æ˜¯ç»“åˆäº†éƒ¨åˆ†ç¡®å®šçš„ EVN æ“ä½œç ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´éƒ¨åˆ†äº‹å®ä¸Šå¯å¤„ç†çš„æ±¡ç‚¹ç¨‹åºæœªè¢«å‘ç°ï¼Œè¿™é‡Œå¯ä»¥ç»“åˆ â€œfuzzingâ€ æŠ€æœ¯æå‰å¯¹æ‰€æœ‰çš„ EVN æ“ä½œç è¿›è¡Œç­›é€‰ï¼Œå°½å¯èƒ½å°†æ‰€æœ‰å¯èƒ½é€ æˆæ±¡ç‚¹çš„æ“ä½œç æ‰¾å‡ºï¼Œæœ‰åˆ©äºæ‰©å¤§æ”»å‡»é¢ã€‚</li>\n<li>åœ¨æ™ºèƒ½åˆçº¦ç”Ÿæˆä¸­ï¼Œè®ºæ–‡å¹¶æ²¡æœ‰è¯¦ç»†çš„æè¿°è¿™é‡Œç”Ÿæˆæ™ºèƒ½åˆçº¦çš„å…·ä½“æ–¹æ³•ï¼Œä½†æ˜¯ä»è®ºæ–‡æ¥çœ‹ä¸»è¦ patch çš„ç‚¹åœ¨äºå¯¹  <code>JUMPI</code>  çš„æ›¿æ¢ï¼Œè¿™å…¶å®æ˜¯ä¸€ç§ç®€å•çš„é’ˆå¯¹ç¨‹åºæµçš„æ§åˆ¶æ‰‹æ®µï¼Œå¯¹åº”çš„é˜²æŠ¤æ–¹æ³•ä¹Ÿéå¸¸å¤šï¼Œå¾ˆå®¹æ˜“çš„å¯¼è‡´æ¨¡ä»¿æ”»å‡»å¤±æ•ˆã€‚å¯ä»¥é€šè¿‡å¢åŠ æ›´å¤šçš„ patch æ¨¡ç‰ˆï¼Œé’ˆå¯¹æ›´å¤šæ“ä½œç è¿›è¡Œæ”¹å˜æ¥æ‰©å¤§æ”»å‡»é¢ã€‚</li>\n</ol>\n</div></details>\n<h1 id=\"abstract\"><a class=\"anchor\" href=\"#abstract\">#</a> Abstract</h1>\n<p>ä½¿ç”¨åŒºå—é“¾è¿›è¡Œè‡ªåŠ¨äº¤æ˜“å’Œå¯¹æŠ—æ€§äº¤æ˜“å·²ç»å¸ç©ºè§æƒ¯ã€‚ç„¶è€Œï¼Œç”±äºåŒºå—é“¾çš„é€æ˜æ€§ï¼Œå¯¹æ‰‹èƒ½å¤Ÿè§‚å¯Ÿåˆ°ä»»ä½•<span class=\"red\">æ‚¬è€Œæœªå†³ã€å°šæœªæŒ–æ˜çš„äº¤æ˜“åŠå…¶æ‰§è¡Œé€»è¾‘</span>ã€‚è¿™ç§é€æ˜æ€§è¿›ä¸€æ­¥åŠ©é•¿äº†æ–°å‹å¯¹æ‰‹çš„å‡ºç°ï¼Œä»–ä»¬ä¼šå®æ—¶<span class=\"red\">å¤åˆ¶å¹¶é¢„å…ˆè¿è¡Œæœ‰åˆ©å¯å›¾çš„å¾…å¤„ç†äº¤æ˜“</span>ï¼Œä»è€Œè·å¾—å¯è§‚çš„ç»æµæ”¶ç›Šã€‚</p>\n<p>ä¸ºäº†æ­ç¤ºè¿™ç§ &quot;å¤åˆ¶ç²˜è´´&quot; çš„ä¸è‰¯è¡Œä¸ºï¼Œæœ¬æ–‡ä»‹ç»äº†åŒºå—é“¾æ¨¡ä»¿æ¸¸æˆï¼Œå¹¶æå‡ºäº†ä¸€ç§åä¸º APE çš„é€šç”¨æ¨¡ä»¿æ”»å‡»æ–¹æ³•ã€‚APE åˆ©ç”¨åŠ¨æ€ç¨‹åºåˆ†ææŠ€æœ¯ï¼Œæ”¯æŒå¯¹æŠ—æ€§æ™ºèƒ½åˆçº¦çš„è‡ªåŠ¨åˆæˆã€‚åœ¨ä¸€å¹´çš„æ—¶é—´å†…ï¼ˆ2021 å¹´ 8 æœˆ 1 æ—¥è‡³ 2022 å¹´ 7 æœˆ 31 æ—¥ï¼‰ï¼ŒAPE å¯ä»¥åœ¨ä»¥å¤ªåŠä¸Šäº§ç”Ÿ 1.4896 äº¿ç¾å…ƒçš„åˆ©æ¶¦ï¼Œåœ¨ BNB æ™ºèƒ½é“¾ï¼ˆBSCï¼‰ä¸Šäº§ç”Ÿ 4270 ä¸‡ç¾å…ƒçš„åˆ©æ¶¦ã€‚</p>\n<p>ä¸ä»…æ˜¯æ¶æ„æ”»å‡»ï¼Œæˆ‘ä»¬è¿˜è¿›ä¸€æ­¥å±•ç¤ºäº†<span class=\"red\">äº¤æ˜“å’Œåˆçº¦æ¨¡ä»¿ä½œä¸ºé˜²å¾¡ç­–ç•¥çš„æ½œåŠ›</span>ã€‚æˆ‘ä»¬å‘ç°ï¼ŒAPE åœ¨ä¸€å¹´å†…åˆ†åˆ«æˆåŠŸæ¨¡ä»¿äº†ä»¥å¤ªåŠå’Œ BSC ä¸Š 13 æ¬¡å’Œ 22 æ¬¡å·²çŸ¥çš„å»ä¸­å¿ƒåŒ–é‡‘èï¼ˆDeFiï¼‰æ”»å‡»ã€‚æˆ‘ä»¬çš„å‘ç°è¡¨æ˜ï¼ŒåŒºå—é“¾éªŒè¯å™¨å¯ä»¥å®æ—¶æ¨¡ä»¿æ”»å‡»ï¼Œä»¥é˜²æ­¢ DeFi ä¸­çš„å…¥ä¾µã€‚</p>\n<h1 id=\"introduction\"><a class=\"anchor\" href=\"#introduction\">#</a> Introduction</h1>\n<p>å»ºç«‹åœ¨åŒºå—é“¾åŸºç¡€ä¸Šçš„å»ä¸­å¿ƒåŒ–é‡‘èï¼ˆDeFiï¼‰å·²å‘å±•æˆä¸ºä¸€ä¸ªä»·å€¼æ•°åäº¿ç¾å…ƒçš„äº§ä¸šã€‚ç„¶è€Œï¼ŒåŒºå—é“¾ç‚¹å¯¹ç‚¹ï¼ˆP2Pï¼‰ç½‘ç»œè¢«æè¿°ä¸ºé»‘æš—æ£®æ—ï¼Œäº¤æ˜“è€…åœ¨å…¶ä¸­è¿›è¡Œç«äº‰æ€§äº¤æ˜“ï¼Œæ²‰æººäºå¯¹æŠ—æ€§çš„<strong>å‰ç½®è¿è¡Œ (front-running)</strong>ã€‚</p>\n<blockquote>\n<p>Front-runningï¼šç»çºªäººæˆ–æŠ•èµ„è€…å› ä¸ºé¢„å…ˆçŸ¥é“ä¼šå½±å“èµ„äº§ä»·æ ¼çš„å¤§å‹æœºå¯†äº¤æ˜“è€ŒåŠ å…¥äº¤æ˜“ï¼Œä»è€Œè·å¾—åˆ©ç›Šã€‚</p>\n</blockquote>\n<p>ç”±äºäº¤æ˜“åˆ›å»ºå’Œåœ¨åŒºå—é“¾ä¸Šæäº¤ä¹‹é—´å­˜åœ¨å›ºæœ‰çš„æ—¶é—´å»¶è¿Ÿï¼Œå› æ­¤è¿™ç§å‰ç½®è¿è¡Œæ˜¯å¯èƒ½å‘ç”Ÿçš„ã€‚è¿™ç§æ—¶é—´å»¶è¿Ÿé€šå¸¸åªæŒç»­å‡ ç§’é’Ÿï¼Œè¿™ç»™å‰ç½®è¿è¡Œè€…å¸¦æ¥äº†è®¡ç®—ä¸Šçš„æŒ‘æˆ˜ã€‚ä¸ºäº†è·å¾—ç»æµæ”¶ç›Šï¼ŒDeFi äº¤æ˜“è€…éœ€è¦ç›‘æ§é”™ç»¼å¤æ‚çš„å¸‚åœºåŠ¨æ€ï¼Œå¹¶åŠæ—¶è¿›è¡Œæœ‰åˆ©å¯å›¾çš„äº¤æ˜“ï¼Œè¿™é€šå¸¸éœ€è¦ä¸“ä¸šçš„é¢†åŸŸçŸ¥è¯†ã€‚ç›¸åï¼Œå¯¹æŠ—æ€§äº¤æ˜“è€…ä¹Ÿå¯èƒ½å¯»æ±‚ &quot;å¤åˆ¶ç²˜è´´&quot; å’Œæ¨¡ä»¿æ”»å‡»ã€‚æˆ‘ä»¬å°†è¿™ç§ç­–ç•¥ç§°ä¸ºæ¨¡ä»¿æ”»å‡»ã€‚ä¸€ç§æå…¶ç®€å•çš„<strong>å­—ç¬¦ä¸²æ›¿æ¢æ¨¡ä»¿æ–¹æ³•</strong>è¢«è¯æ˜å¯ä»¥åœ¨è¿‡å»çš„åŒºå—é“¾çŠ¶æ€ä¸‹æ¯æœˆäº§ç”Ÿæ•°åƒç¾å…ƒçš„æ”¶ç›Šã€‚</p>\n<blockquote>\n<p>KaihuaQin,LiyiZhou,andArthurGervais.Quantifyingblockchain extractable value: How dark is the forest? In <em>2022 IEEE Symposium on Security and Privacy (SP)</em>, pages 198â€“214. IEEE, 2022.</p>\n</blockquote>\n<p>å¼€æºç¤¾åŒºè¿…é€Ÿæå‡ºäº†é˜²å¾¡æªæ–½ï¼Œä»¥åº”å¯¹è¿™ç§ç®€å•çš„æ¨¡ä»¿æ–¹æ³•ã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œäº¤æ˜“è€…é€šå¸¸ä¼šéƒ¨ç½²ä¸ªæ€§åŒ–çš„é—­æºæ™ºèƒ½åˆçº¦ï¼Œä»è€Œå¢åŠ äº†åˆ©ç”¨çš„éš¾åº¦ã€‚å·²çŸ¥çš„æ¨¡ä»¿ç®—æ³•ä¸å†é€‚ç”¨ï¼Œå› ä¸ºè¿™äº›åˆçº¦é€šå¸¸é€šè¿‡éªŒè¯ç­‰æ–¹å¼åŠ ä»¥ä¿æŠ¤ã€‚</p>\n<p>ç„¶è€Œï¼Œäººä»¬è¿˜æ²¡æœ‰æ¢ç´¢å‡ºä¸€ç§é€šç”¨çš„æ¨¡ä»¿æ”»å‡»èƒ½ä½¿ç°æœ‰çš„ä¿æŠ¤æœºåˆ¶å¤±æ•ˆã€‚è¿™é¡¹å·¥ä½œçš„ç›®æ ‡æ˜¯<span class=\"red\">ç ”ç©¶ã€è¯†åˆ«ã€å®æ–½å’Œè¯„ä¼°ä¸€ç§é€šç”¨çš„æ¨¡ä»¿æ–¹æ³•</span>ã€‚æˆ‘ä»¬å‘ç°ï¼Œè¦æˆåŠŸæ¨¡ä»¿äº¤æ˜“ï¼Œæ”»å‡»è€…éœ€è¦å…‹æœä»¥ä¸‹ä¸‰ä¸ªæŠ€æœ¯éš¾é¢˜ã€‚</p>\n<ol>\n<li>å‰ç«¯è¿è¡Œæ—¶é—´çª—å£è¾ƒçŸ­ï¼Œå¯èƒ½æ— æ³•åº”ç”¨å¼ºå¤§çš„ç¨‹åºåˆ†ææŠ€æœ¯ï¼Œå¦‚ç¬¦å·æ‰§è¡Œï¼Œå› ä¸ºç¬¦å·æ‰§è¡Œä¸æ˜¯ä¸ºå®æ—¶ä»»åŠ¡è®¾è®¡çš„ã€‚</li>\n<li>æ”»å‡»è€…éœ€è¦é€’å½’åœ°è¯†åˆ«é˜»ç¢æ¨¡ä»¿æ‰§è¡Œçš„å—å®³åˆçº¦ï¼Œå¹¶ç”¨æ–°åˆæˆçš„å¯¹æŠ—åˆçº¦æ›¿æ¢å®ƒä»¬ã€‚å› æ­¤ï¼Œæœ‰å¿…è¦ä½¿ç”¨åŒºå—é“¾è™šæ‹Ÿæœºå·¥å…·æ¥ç¡®ä¿è¿™ä¸€è¯†åˆ«è¿‡ç¨‹çš„æ•ˆç‡ã€‚</li>\n<li>æ”»å‡»è€…å¿…é¡»ä¿è¯åˆæˆçš„åˆçº¦è¢«æ­£ç¡®è°ƒç”¨å’Œæ‰§è¡Œï¼Œè€Œäº§ç”Ÿçš„è´¢åŠ¡æ”¶å…¥åˆ™åœ¨æ¨¡ä»¿æ‰§è¡Œåè¢«å‘é€åˆ°æ¶æ„è´¦æˆ·ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œç°æœ‰çš„å·¥ä½œæˆ–ç°æˆçš„å·¥å…·éƒ½æ— æ³•è‡ªåŠ¨å¤åˆ¶å’Œåˆæˆæ³¨å…¥è‡ªå®šä¹‰é€»è¾‘çš„æ™ºèƒ½åˆçº¦ã€‚</li>\n</ol>\n<p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§è‡ªåŠ¨ä¸”é€šç”¨çš„æ¨¡ä»¿æ–¹æ³• APEï¼ˆå‚è§å›¾ 1ï¼‰ã€‚æŠ½è±¡æ¥è¯´ï¼ŒAPE çš„ç›®çš„æ˜¯æ„å»ºä¸€ä¸ªæ¨¡ä»¿äº¤æ˜“ï¼Œå¤åˆ¶å—å®³è€…äº¤æ˜“çš„é€»è¾‘ã€‚å¿…è¦æ—¶ï¼ŒAPE ä¼šåˆæˆå¹¶éƒ¨ç½²å¯¹æŠ—æ€§æ™ºèƒ½åˆçº¦ï¼Œä»¥ç»•è¿‡éªŒè¯æœºåˆ¶ç­‰å¤åˆ¶ä¿æŠ¤ã€‚ä¸ºæ­¤ï¼ŒAPE åˆ©ç”¨åŠ¨æ€æ±¡ç‚¹åˆ†æã€ç¨‹åºåˆæˆå’Œé«˜çº§å·¥å…·æ¥å®ç°æ¨¡ä»¿ç”Ÿæˆã€‚è¿™ç§é€šç”¨æ€§æºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³å¯¹æ‰‹ä¸éœ€è¦äº‹å…ˆäº†è§£å—å®³è€…ï¼Œä¹Ÿä¸éœ€è¦äº†è§£å—å®³è€…çš„äº¤æ˜“é€»è¾‘ï¼Œæ›´ä¸éœ€è¦äº‹å…ˆäº†è§£äº¤äº’çš„å»ä¸­å¿ƒåŒ–åº”ç”¨ç¨‹åºï¼ˆDAppï¼‰ã€‚APE é€‚ç”¨äºå¯æ›¿ä»£ã€ä¸å¯æ›¿ä»£ä»£å¸çš„äº¤æ˜“æ´»åŠ¨ä»¥åŠåˆ©ç”¨äº¤æ˜“ç­‰ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/apo7w0.png\" alt=\"å›¾1 é«˜çº§ APE æ”»å‡»æœºåˆ¶æ˜¯ä¸€ç§é€šç”¨çš„æ¨¡ä»¿æ–¹æ³•ï¼Œå¯åœ¨äº‹å…ˆä¸äº†è§£å—å®³è€…çš„äº¤æ˜“å’ŒåˆåŒçš„æƒ…å†µä¸‹åˆæˆå¯¹æŠ—æ€§åˆåŒã€‚APE ä¼šä¾µå ç”±æ­¤äº§ç”Ÿçš„ä»»ä½•æ”¶å…¥\" /></p>\n<p>å°½ç®¡åŸºäºåŒºå—é“¾çš„ DeFi é¢†åŸŸè“¬å‹ƒå‘å±•ï¼Œä½†å®ƒä¹Ÿå—åˆ°æ•°ç™¾ä¸‡ç¾å…ƒé»‘å®¢æ”»å‡»çš„å›°æ‰°ã€‚å¦‚æœ¬ä½œå“æ‰€è¿°ï¼Œæ¨¡ä»¿æ”»å‡»å¯ä¸ºæ¶æ„æ”»å‡»è€…å¸¦æ¥å·¨å¤§çš„ç»æµåˆ©ç›Šã€‚ä¸è¿‡ï¼Œæ ¹æ®æ·±åº¦é˜²å¾¡æ–¹æ³•ï¼ŒåŒºå—é“¾æ¨¡ä»¿æ”»å‡»æœ¬èº«ä¹Ÿå¯ä»¥é€šè¿‡æ¨¡ä»¿æ”»å‡»ã€æŒªç”¨æ˜“å—æ”»å‡»çš„èµ„é‡‘å¹¶å°†å…¶è¿”è¿˜ç»™å—å®³è€…æ¥å……å½“å…¥ä¾µé˜²å¾¡ç³»ç»Ÿã€‚å¼€æºç¤¾åŒºå°†è¿™ç§å–„æ„æ´»åŠ¨ç§°ä¸º &quot;ç™½å¸½é»‘å®¢&quot;ã€‚</p>\n<p>æˆ‘ä»¬å°†æˆ‘ä»¬çš„è´¡çŒ®æ€»ç»“å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>æˆ‘ä»¬å¼•å…¥äº†å¹¿ä¹‰åŒºå—é“¾æ¨¡ä»¿æ¸¸æˆï¼Œå…¶ä¸­æœ‰ä¸€ç±»æ–°çš„å¯¹æ‰‹è¯•å›¾åœ¨äº‹å…ˆä¸äº†è§£å—å®³è€…æ„å›¾æˆ–åº”ç”¨é€»è¾‘çš„æƒ…å†µä¸‹ï¼Œæ¨¡ä»¿å—å®³è€…çš„äº¤æ˜“å’Œç›¸å…³åˆçº¦ã€‚æˆ‘ä»¬ä¸ºåŸºäº EVM çš„åŒºå—é“¾è®¾è®¡äº†é€šç”¨æ¨¡ä»¿å·¥å…· APEã€‚æˆ‘ä»¬é¦–æ¬¡å±•ç¤ºäº†åŠ¨æ€ç¨‹åºåˆ†ææŠ€æœ¯å¯ä»¥å®ç°æ¨¡ä»¿æ”»å‡»ï¼Œä»è€Œå¯¹åŒºå—é“¾ç”¨æˆ·æ„æˆå®è´¨æ€§å¨èƒã€‚</li>\n<li>æˆ‘ä»¬åœ¨ä»¥å¤ªåŠå’Œ BNB æ™ºèƒ½é“¾ (BSC) ä¸Šå¯¹ APE è¿›è¡Œäº†ä¸ºæœŸä¸€å¹´çš„è¯„ä¼°ã€‚æˆ‘ä»¬å‘ç°ï¼ŒAPE å¯ä»¥åœ¨ä»¥å¤ªåŠä¸Šäº§ç”Ÿ 1.4896 äº¿ç¾å…ƒçš„åˆ©æ¶¦ï¼Œåœ¨ BSC ä¸Šäº§ç”Ÿ 4270 ä¸‡ç¾å…ƒçš„åˆ©æ¶¦ã€‚æˆ‘ä»¬å‘ç°ï¼Œ7374 ä¸‡ç¾å…ƒæºäº 35 æ¬¡å·²çŸ¥çš„ DeFi æ”»å‡»ï¼Œè€Œ APE å¯ä»¥å°†å…¶æ¶ˆé™¤ã€‚é€šè¿‡å‘ç° 5 ä¸ªæ–°æ¼æ´ï¼ŒAPE çš„å½±å“è¿›ä¸€æ­¥æ˜¾ç°ï¼Œæˆ‘ä»¬æŠ«éœ²äº†è¿™äº›æ–°æ¼æ´ï¼Œå› ä¸ºå¦‚æœè¢«åˆ©ç”¨ï¼Œå®ƒä»¬å¯èƒ½ä¼šé€ æˆ 3153 ä¸‡ç¾å…ƒçš„æ€»æŸå¤±ã€‚</li>\n<li>æˆ‘ä»¬å‘ç°ï¼ŒAPE å¯åœ¨ä»¥å¤ªåŠï¼ˆ13.3 ç§’çš„åŒºå—é—´æ—¶é—´ï¼‰å’Œ BSCï¼ˆ3 ç§’çš„åŒºå—é—´æ—¶é—´ï¼‰ä¸Šå®æ—¶æ‰§è¡Œã€‚æ¨¡ä»¿ä¸€æ¬¡ APE å¹³å‡éœ€è¦ 0.07 Â± 0.10 ç§’ã€‚ç”±äº APE çš„æ•ˆç‡å¾ˆé«˜ï¼Œåœ¨è¯„ä¼°æ—¶é—´å†…ï¼Œå®ƒåœ¨ 35 æ¬¡ DeFi æ”»å‡»ä¸­å®ç°äº†å®æ—¶çš„å‰ç½®è¿è¡Œã€‚æ‰§è¡Œ APE çš„çŸ¿å·¥æœ€ç»ˆå¯ä»¥é€‰æ‹©å®æ–½æ”»å‡»ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºç™½å¸½é»‘å®¢è¿›è¡Œé˜²å¾¡ã€‚</li>\n</ul>\n<h1 id=\"background\"><a class=\"anchor\" href=\"#background\">#</a> Background</h1>\n<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ¦‚è¿°æ‰€éœ€çš„èƒŒæ™¯ï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚</p>\n<h2 id=\"blockchain-and-smart-contract\"><a class=\"anchor\" href=\"#blockchain-and-smart-contract\">#</a> Blockchain and Smart Contract</h2>\n<p>åŒºå—é“¾æ˜¯åˆ†å¸ƒåœ¨ç‚¹å¯¹ç‚¹ç½‘ç»œä¸Šçš„åŒºå—é“¾æ¡ã€‚ç”¨æˆ·é€šè¿‡è´¦æˆ·çš„å…¬é’¥ç­¾åæ‰¹å‡†äº¤æ˜“ï¼ŒçŸ¿å·¥æ”¶é›†äº¤æ˜“ï¼Œå¹¶æŒ‰ç…§åŒºå—å†…çš„ç‰¹å®šé¡ºåºè¿›è¡ŒæŒ–æ˜ã€‚æ”¯æŒæ™ºèƒ½åˆçº¦çš„åŒºå—é“¾æ‰©å±•äº†è´¦æˆ·æŒæœ‰èµ„äº§å’Œä»£ç çš„èƒ½åŠ›ï¼Œå¯ä»¥æ‰§è¡Œä»»æ„è®¡ç®—ã€‚æ™ºèƒ½åˆçº¦é€šè¿‡äº¤æ˜“è¿›è¡Œåˆå§‹åŒ–å’Œæ‰§è¡Œï¼Œä¸€æ—¦éƒ¨ç½²å°±ä¸å¯æ›´æ”¹ã€‚å®ƒä»¬é€šå¸¸ç”¨é«˜çº§è¯­è¨€ï¼ˆå¦‚ So-lidityï¼‰ç¼–å†™ï¼Œç¼–è¯‘æˆä½çº§å­—èŠ‚ç ï¼Œç”±åŒºå—é“¾è™šæ‹Ÿæœºï¼ˆå¦‚ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰ï¼‰æ‰§è¡Œã€‚EVM æ˜¯åŸºäºå †æ ˆçš„è™šæ‹Ÿæœºï¼Œæ”¯æŒç®—æœ¯ã€æ§åˆ¶æµã€åŠ å¯†å’Œå…¶ä»–åŒºå—é“¾ç‰¹å®šæŒ‡ä»¤ï¼ˆå¦‚è®¿é—®å½“å‰åŒºå—ç¼–å·ï¼‰ã€‚æ¯æ‰§è¡Œä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤éƒ½éœ€è¦æ¶ˆè€— &quot;gas&quot;ï¼Œç”±æœ¬åœ°åŠ å¯†è´§å¸æ”¯ä»˜ã€‚è¯·æ³¨æ„ï¼Œæ‰€æœ‰ä»£ç å’Œè´¦æˆ·ä½™é¢é€šå¸¸éƒ½æ˜¯é€æ˜å¯è§çš„ã€‚æ™ºèƒ½åˆçº¦çš„åº”ç”¨äºŒè¿›åˆ¶æ¥å£ï¼ˆABIï¼‰å®šä¹‰äº†æ™ºèƒ½åˆçº¦å‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼ˆåŒ…æ‹¬å‡½æ•°ç±»å‹ã€åç§°ã€è¾“å…¥å‚æ•°ç­‰ï¼‰ã€‚å¦‚æœæ™ºèƒ½åˆçº¦ä¸æ˜¯å¼€æºçš„ï¼ŒABI å¾ˆå¯èƒ½ä¸å¯ç”¨ã€‚</p>\n<p>DeFi æ˜¯ä¸€ä¸ªå»ºç«‹åœ¨æ™ºèƒ½åˆçº¦åŒºå—é“¾ä¹‹ä¸Šçš„æ–°å…´é‡‘èç”Ÿæ€ç³»ç»Ÿï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œå…¶é”å®šçš„æ€»ä»·å€¼å·²è¾¾åˆ° 3000 äº¿ç¾å…ƒçš„å³°å€¼ã€‚DeFi çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªæ™ºèƒ½åˆçº¦ç¼–ç çš„é‡‘èç”Ÿæ€ç³»ç»Ÿï¼Œå®ç°äº† <strong>è‡ªåŠ¨åšå¸‚å•† (automated market maker)</strong>ã€å€Ÿè´·å¹³å°å’Œ <strong>ç¨³å®šå¸ (Stablecoin)</strong> ç­‰åŠŸèƒ½ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å‘ç›¸åº”çš„åˆçº¦å‘å¸ƒäº¤æ˜“æ¥è®¿é—® DeFi åº”ç”¨ç¨‹åºï¼ˆDAppï¼‰ã€‚</p>\n<blockquote>\n<p>market makerï¼šæŒ‡åœ¨è¯åˆ¸å¸‚åœºä¸Šï¼Œç”±å…·å¤‡ä¸€å®šå®åŠ›å’Œä¿¡èª‰çš„ç‹¬ç«‹è¯åˆ¸ç»è¥æ³•äººä½œä¸ºç‰¹è®¸äº¤æ˜“å•†ï¼Œä¸æ–­å‘å…¬ä¼—æŠ•èµ„è€…æŠ¥å‡ºæŸäº›ç‰¹å®šè¯åˆ¸çš„ä¹°å–ä»·æ ¼ï¼Œå¹¶åœ¨è¯¥ä»·ä½ä¸Šæ¥å—å…¬ä¼—æŠ•èµ„è€…çš„ä¹°å–è¦æ±‚ï¼Œä»¥å…¶è‡ªæœ‰èµ„é‡‘å’Œè¯åˆ¸ä¸æŠ•èµ„è€…è¿›è¡Œè¯åˆ¸äº¤æ˜“ã€‚ä¹°å–åŒæ–¹ä¸éœ€ç­‰å¾…äº¤æ˜“å¯¹æ–¹å‡ºç°ï¼Œåªè¦æœ‰åšå¸‚å•†å‡ºé¢æ‰¿æ‹…äº¤æ˜“å¯¹æ‰‹æ–¹å³å¯è¾¾æˆäº¤æ˜“ï¼Œåšå¸‚å•†ä»åŒæ–¹èµšå–ä¹°å–ä»·å·®è€Œä»ä¸­è·åˆ©ã€‚</p>\n<p>Stablecoinï¼šæ˜¯åŠ å¯†è´§å¸ (Cryptocurrency) çš„å…¶ä¸­ä¸€ç§ç±»å‹ã€‚ç¨³å®šå¸çš„æ ¸å¿ƒæƒ³æ³•æ˜¯è¦æ‰“é€ ä¸€ç§åº•å±‚åˆ†æ•£å¼è´¦æœ¬ï¼Œä½†ç»´æŒè´§å¸ç¨³å®šä»·å€¼çš„æœºåˆ¶ã€‚ç¨³å®šå¸è¢«æœ‰äº›äººè®¤ä¸ºæ˜¯ä¸­å¿ƒåŒ–èµ„äº§æŠµæŠ¼å‘è¡Œçš„ä»£å¸ï¼Œç¨³å®šå¸ä»·å€¼æ˜¯ä¸è¢«æŠµæŠ¼èµ„äº§ä»·å€¼ç›´æ¥è¿åŠ¨ã€‚</p>\n</blockquote>\n<h2 id=\"blockchain-extractable-value\"><a class=\"anchor\" href=\"#blockchain-extractable-value\">#</a> Blockchain Extractable Value</h2>\n<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œåå°”è¡—çš„äº¤æ˜“å‘˜é€šè¿‡å‰ç½®è¿è¡Œå…¶ä»–æŠ•èµ„è€…çš„è®¢å•ï¼ˆå³é«˜é¢‘äº¤æ˜“ï¼‰æ¥è·åˆ©ã€‚åŒæ ·ï¼ŒDeFi ä¸­çš„äº¤æ˜“é¡ºåºä¹Ÿå¯¹æ”¶ç›Šæå–æ´»åŠ¨äº§ç”Ÿäº†è‡´å‘½å½±å“ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒçŸ¿å·¥æŒ‰äº¤æ˜“è´¹ä»é«˜åˆ°ä½çš„é¡ºåºæ’åˆ—äº¤æ˜“ã€‚å› æ­¤ï¼ŒDeFi äº¤æ˜“å•†å¯ä»¥é€šè¿‡æä¾›æœ‰ç«äº‰åŠ›çš„äº¤æ˜“è´¹ï¼Œå¯¹å¾…å¤„ç†ï¼ˆå³å°šæœªå¼€é‡‡ï¼‰çš„äº¤æ˜“è¿›è¡Œå‰ç½®å’Œåç½®æ“ä½œã€‚ç„¶è€Œï¼ŒçŸ¿å·¥å¯¹ä¸‹å•äº¤æ˜“æ‹¥æœ‰ä¸€æ‰‹é®å¤©èˆ¬çš„ç‰¹æƒï¼Œè¿™ä½¿ä»–ä»¬å„æ–­äº†åŒºå—é“¾ä»·å€¼çš„æå–ã€‚è¿™ç§ç‰¹æƒå¼•å‡ºäº† ** çŸ¿å·¥å¯æå–ä»·å€¼ (MEV)** çš„æ¦‚å¿µã€‚</p>\n<blockquote>\n<p>MEVï¼šæŒ‡ â€œåœ¨ç»™å®šæ—¶é—´å†…ï¼ŒçŸ¿å·¥å¯ä»¥ä»æ“çºµäº¤æ˜“ä¸­æå–çš„ ETH æ€»é‡â€ã€‚ä»¥ä»¥å¤ªåŠä¸ºä¾‹ï¼Œä»¥å¤ªåŠç½‘ç»œçš„è¿è¡Œæ˜¯ä¾é çŸ¿å·¥å¯¹äº¤æ˜“è¿›è¡Œæ‰“åŒ…ï¼Œç”ŸæˆåŒºå—æ¥è¿è¡Œçš„ã€‚çŸ¿å·¥åœ¨æ‰“åŒ…äº¤æ˜“çš„æ—¶å€™å¯ä»¥åšåˆ°å°†æŸäº›äº¤æ˜“è¿›è¡Œæ’åºå¹²é¢„ç­‰ã€‚é€šè¿‡è¿™äº›æ“ä½œï¼ŒçŸ¿å·¥å¯èƒ½è·å–é™¤äº†äº¤æ˜“è´¹ç”¨å’ŒåŒºå—å¥–åŠ±ä¹‹å¤–çš„é¢å¤–åˆ©æ¶¦ï¼Œè¿™äº›å¤šå‡ºæ¥çš„ä»·å€¼å°±è¢«ç§°ä¸º MEVã€‚</p>\n</blockquote>\n<p>Qin ç­‰äººå°† MEV æ¦‚æ‹¬ä¸ºåŒºå—é“¾å¯æå–ä»·å€¼ï¼ˆBlockchain Extractable Valueï¼ŒBEVï¼‰ï¼Œå¹¶è¡¨æ˜åœ¨ 32 ä¸ªæœˆå†…ï¼Œä»¥å¤ªåŠä¸Šæå–çš„ BEV è¾¾ 5.4054 äº¿ç¾å…ƒï¼Œä¸»è¦æœ‰ä¸‰ä¸ªæ¥æºï¼š<strong>ä¸‰æ˜æ²»æ”»å‡» [1]</strong>ã€<strong>æ¸…ç®— [2,3]<strong> å’Œ</strong>å¥—åˆ© [4]</strong>ã€‚</p>\n<blockquote>\n<ol>\n<li>LiyiZhou,KaihuaQin,ChristofFerreiraTorres,DucVLe,andArthur Gervais. High-frequency trading on decentralized on-chain exchanges. In <em>2021 IEEE Symposium on Security and Privacy (SP)</em>, pages 428â€“445. IEEE, 2021.</li>\n<li>KaihuaQin,JensErnstberger,LiyiZhou,PhilippJovanovic,andArthur Gervais. Mitigating decentralized finance liquidations with reversible call options. In <em>International Conference on Financial Cryptography and Data Security</em>. Springer, 2023.</li>\n<li>KaihuaQin,LiyiZhou,PabloGamito,PhilippJovanovic,andArthur Gervais. An empirical study of defi liquidations: Incentives, risks, and instabilities. In <em>Proceedings of the 21st ACM Internet Measurement Conference</em>, page 336â€“350. ACM, 2021.</li>\n<li>LiyiZhou,KaihuaQin,AntoineCully,BenjaminLivshits,andArthur Gervais. On the just-in-time discovery of profit-generating transactions in defi protocols. In <em>2021 IEEE Symposium on Security and Privacy (SP)</em>, pages 919â€“936, 2021.</li>\n</ol>\n</blockquote>\n<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‰å°è¿è¡Œå³æœåŠ¡ï¼ˆFaaSï¼‰ï¼ˆå¦‚ flashbotsï¼‰é€šè¿‡åœ¨ç§æœ‰ç½‘ç»œä¸­ä¸çŸ¿å·¥å‹¾ç»“ï¼Œé™ä½äº†æå– BEV çš„é£é™©ã€‚ä¸è´¿èµ‚ç±»ä¼¼ï¼ŒBEV è¢«è¯æ˜ä¼šå¨èƒåˆ°åŒºå—é“¾å…±è¯†çš„å®‰å…¨æ€§ï¼Œå› ä¸ºçŸ¿å·¥ä¼šè¢«æ¿€åŠ±åˆ†å‰åŒºå—é“¾ã€‚å…³äº DeFi æ”»å‡»çš„ SoK ç³»ç»Ÿåˆ†æäº†å››å¹´æ¥çš„æ”»å‡»ï¼Œç¡®å®šäº†å„ç§æ”»å‡»çš„åŸå› å’Œå½±å“ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å¯¹ç™½å¸½æ”»å‡»è€…å’Œé»‘å¸½æ”»å‡»è€…è¿›è¡Œäº†åŒºåˆ†ï¼Œå…¶ä¸­é»‘å¸½æ”»å‡»è€…ä¿ç•™äº†æ”»å‡»çš„ç»æµæ”¶ç›Šï¼Œè€Œç™½å¸½æ”»å‡»è€…åˆ™å°†æ”»å‡»æ”¶å…¥é€€è¿˜ç»™ç¡®å®šçš„å—å®³è€…ã€‚</p>\n<h2 id=\"naive-transaction-imitation-attack\"><a class=\"anchor\" href=\"#naive-transaction-imitation-attack\">#</a> Naive Transaction Imitation Attack</h2>\n<p>æå–å®ä½“çš„ BEV å¯é‡‡ç”¨ä¸¤ç§ç­–ç•¥ï¼šä¸€ç§æ˜¯å¯¹ DeFi åº”ç”¨ç¨‹åºè¿›è¡Œç»†è‡´åˆ†æï¼ˆå³é’ˆå¯¹ç‰¹å®šåº”ç”¨ç¨‹åºçš„æå–ï¼‰ï¼Œå¦ä¸€ç§æ˜¯é‡‡ç”¨å¤©çœŸçš„é€šç”¨äº‹åŠ¡æ¨¡ä»¿æ”»å‡»ï¼ˆå³ä¸åº”ç”¨ç¨‹åºæ— å…³çš„æå–ï¼‰ã€‚</p>\n<p>Qin ç­‰äººæå‡ºäº†ä¸€ç§å¤©çœŸä½†æœ‰æ•ˆçš„äº‹åŠ¡æ¨¡ä»¿æ”»å‡»ã€‚<strong>è¯¥ç®—æ³•å°†å—å®³è€…äº¤æ˜“ä½œä¸ºè¾“å…¥ï¼Œå¹¶åœ¨äº¤æ˜“å‘é€è€…å’Œæ•°æ®å­—æ®µä¸­ç®€å•åœ°å°†äº¤æ˜“çš„å‘é€è€…åœ°å€æ›¿æ¢ä¸ºæ¶æ„åœ°å€</strong>ã€‚å› æ­¤ï¼Œè¿™ç§æ¨¡ä»¿ç®—æ³•ç›¸å½“äºå­—ç¬¦ä¸²æ›¿æ¢æ–¹æ³•ï¼Œå¹¶ä¸è¯•å›¾åˆæˆå¯¹æŠ—æ€§æ™ºèƒ½åˆçº¦ã€‚åœ¨å¯¹è¿‡å»çš„åŒºå—é“¾æ•°æ®è¿›è¡Œæ¨¡æ‹Ÿæ—¶ï¼Œç»“æœè¡¨æ˜è¿™ç§å¤©çœŸçš„ç®—æ³•å¯ä»¥åœ¨ 32 ä¸ªæœˆçš„æ—¶é—´å†…äº§ç”Ÿ 3537 ä¸‡ç¾å…ƒã€‚æˆ‘ä»¬åœ¨é™„å½• A ä¸­æä¾›äº†ä¸€ä¸ªå¤©çœŸçš„æ¨¡ä»¿ç¤ºä¾‹ã€‚ä½†æ˜¯ï¼Œå½“äº¤æ˜“è€…é€šè¿‡è®¤è¯æœºåˆ¶ç­‰æ–¹å¼ä¿æŠ¤è‡ªå·±çš„äº¤æ˜“æ—¶ï¼Œè¿™ç§ç®—æ³•å°±ä¼šå¤±æ•ˆï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹æ–‡æ¦‚è¿°ã€‚</p>\n<h2 id=\"motivating-examples\"><a class=\"anchor\" href=\"#motivating-examples\">#</a> Motivating Examples</h2>\n<p>DeFi ä¸­çš„äº¤æ˜“è€…é€šå¸¸ä½¿ç”¨å®šåˆ¶çš„æ™ºèƒ½åˆçº¦æ¥æ‰§è¡Œé‡‘èè¡Œä¸ºï¼Œä¾‹å¦‚å¥—åˆ©å’Œæ¸…ç®—ã€‚è¿™äº›äº¤æ˜“è€…å°è¯•ä¿æŠ¤å…¶äº¤æ˜“å…å—ä»¿å†’æ”»å‡»ï¼Œä¾‹å¦‚åªå…è®¸é¢„å®šä¹‰è´¦æˆ·è°ƒç”¨å…¶æ™ºèƒ½åˆçº¦ï¼ˆå‚è§å›¾ 2ï¼‰ã€‚è¿™ç§ä¿æŠ¤æªæ–½ä¸è®¤è¯æœºåˆ¶ç›¸å¯¹åº”ï¼Œæ˜¯å¼€æºç¤¾åŒºé‡‡ç”¨çš„ä¸€ç§å¸¸è§åšæ³•ã€‚æˆ‘ä»¬ä»¥ç°å®ä¸–ç•Œä¸­çš„èº«ä»½éªŒè¯ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/hxes5m.png\" alt=\"å›¾ 2ï¼šæ¸…ç®—äººé€šè¿‡å‘å…¶å®šåˆ¶åˆçº¦å‘é€äº¤æ˜“è§¦å‘æ¸…ç®—ã€‚è‡ªå®šä¹‰åˆçº¦åŒ…å«ä¸€ä¸ªéªŒè¯ï¼ˆç¬¬ 3 è¡Œï¼‰\" /></p>\n<p><em>èº«ä»½éªŒè¯ä¿æŠ¤ç¤ºä¾‹</em>ã€‚åœ¨å›¾ 2 ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†ã€Œæ¸…ç®—åˆçº¦ã€å¦‚ä½•å°è¯•é˜²æ­¢äº¤æ˜“æ¨¡ä»¿æ”»å‡»ã€‚å›¾ 2 ä¸­ã€Œæ¸…ç®—åˆçº¦ã€çš„å®ä½“ä»£ç æ²¡æœ‰å¼€æºï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨æœ€å…ˆè¿›çš„ EVM åˆçº¦å»ç¼–è¯‘å™¨å¯¹åˆçº¦å­—èŠ‚ç è¿›è¡Œåç¼–è¯‘ã€‚è¦è§¦å‘æ¸…ç®—ï¼Œæ¸…ç®—äººéœ€è¦å‘å¢å¼ºåˆçº¦å‘é€äº¤æ˜“ä»¥åŠã€Œå‚æ•°ã€ï¼ˆå¦‚é—ªè´·è§„æ¨¡å’Œæ¸…ç®—é‡‘é¢ï¼‰ã€‚å¦‚æœæ²¡æœ‰ä¿æŠ¤æœºåˆ¶ï¼Œå¯¹æ‰‹å¯èƒ½é€šè¿‡è°ƒç”¨å¸¦æœ‰ç›¸åŒå‚æ•°çš„ç›¸åŒåˆçº¦æ¥è¿è¡Œæ¸…ç®—å™¨ã€‚ç„¶è€Œï¼Œæ‰€æäº¤çš„åˆçº¦è¦æ±‚äº¤æ˜“å‘é€æ–¹åŒ¹é…ç‰¹å®šåœ°å€ï¼ˆç¬¬ 3 è¡Œï¼‰ã€‚å…·ä½“æ¥è¯´ï¼Œæ¸…ç®—å‡½æ•° <code>printMoney()</code>  åªèƒ½ç”±ç¡¬ç¼–ç åœ°å€è°ƒç”¨ã€‚å¦‚æœä¸æ»¡è¶³è¿™ä¸€æ¡ä»¶ï¼Œç¬¬ 2.3 èŠ‚ä¸­çš„å¤©çœŸæ¨¡ä»¿æ”»å‡»å°±ä¼šå¤±è´¥ã€‚è¦è§„é¿èº«ä»½éªŒè¯ä¿æŠ¤ï¼Œä¸€ç§æ–¹æ³•æ˜¯åˆæˆä¸€ä»½æ¶æ„åˆçº¦ï¼Œå¤åˆ¶æ¸…ç®—è€…çš„å®šåˆ¶åˆçº¦ã€‚é€šè¿‡é‡æ„å­—èŠ‚ç ï¼Œåˆæˆçš„åˆçº¦æ—¢ä¿ç•™äº†æ¸…ç®—é€»è¾‘ï¼Œåˆç»•è¿‡äº†èº«ä»½éªŒè¯ã€‚è¦æ‰§è¡Œæ”»å‡»ï¼Œæ”»å‡»è€…æ— éœ€äº†è§£æ¸…ç®—äº¤æ˜“çš„ä¸šåŠ¡é€»è¾‘ã€‚å¯¹æ‰‹ä¸è°ƒç”¨æ¸…ç®—äººçš„å®šåˆ¶åˆçº¦ï¼Œè€Œæ˜¯è°ƒç”¨åˆæˆåˆçº¦ï¼Œç„¶åè§¦å‘æ¸…ç®—ã€‚</p>\n<p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§è‡ªåŠ¨åŒ–å’Œé€šç”¨åŒ–çš„æ¨¡ä»¿æ–¹æ³• APEï¼Œå¯ä»¥æŒ«è´¥æ­¤ç±»ä¿æŠ¤ã€‚APE ä¸ä»…ä»…å±€é™äºèº«ä»½éªŒè¯ï¼Œå®ƒè¿˜æä¾›äº†ä¸€ç§å…¨é¢çš„æ–¹æ³•æ¥å…‹æœå¤©çœŸæ¨¡ä»¿ç­–ç•¥æ— æ³•å¤„ç†çš„å„ç§å½¢å¼çš„ä¿æŠ¤æœºåˆ¶ã€‚å†ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è€ƒè™‘è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šäº¤æ˜“è€…å‘å¸ƒäº†ä¸€ç¬”ç›ˆåˆ©äº¤æ˜“ï¼Œå¹¶å°†èµšå–çš„æ”¶å…¥å­˜å…¥äº¤æ˜“è€…æ§åˆ¶çš„æ™ºèƒ½åˆçº¦ä¸­ã€‚è™½ç„¶å¯¹æ‰‹å¯èƒ½ä¼šé€šè¿‡å¤©çœŸçš„ç­–ç•¥æˆåŠŸæ‰§è¡Œæ¨¡ä»¿äº¤æ˜“è¿™ä¸ªè¿‡ç¨‹ï¼Œä½†æ”¶å…¥ä»ä¼šç•™åœ¨ &quot;å—å®³è€…&quot; äº¤æ˜“è€…çš„åˆçº¦ä¸­ï¼Œæ”»å‡»è€…ä¸ä¼šå› æ­¤è·å¾—ä»»ä½•ç»æµæ”¶ç›Šã€‚ä¸æ­¤ç›¸åï¼ŒAPE é€šè¿‡åˆæˆä¸€ä¸ªä½œä¸ºæ”¶ç›Šæ¥æ”¶è€…çš„å¯¹æŠ—æ€§åˆçº¦æ¥è§£å†³è¿™ä¸€å›°å¢ƒã€‚æˆ‘ä»¬å°†åœ¨ç¬¬ 5.3 èŠ‚ä¸­è¿›ä¸€æ­¥ä»‹ç»è¿™ç§æƒ…å†µçš„ç»†èŠ‚ï¼Œå¹¶å±•ç¤ºçœŸå®ä¸–ç•Œä¸­çš„ä¸€ç¬”äº¤æ˜“ã€‚</p>\n<h1 id=\"ape-overview\"><a class=\"anchor\" href=\"#ape-overview\">#</a> APE Overview</h1>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/cdietk.png\" alt=\"è®ºæ–‡ä¸­æ¶‰åŠçš„ç¬¦å·åŠå«ä¹‰\" /></p>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ¦‚è¿°ç³»ç»Ÿå’Œå¨èƒæ¨¡å‹ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†æ¦‚è¿° APE çš„å…³é”®ç»„æˆéƒ¨åˆ†ã€‚</p>\n<h2 id=\"preliminary-models\"><a class=\"anchor\" href=\"#preliminary-models\">#</a> Preliminary Models</h2>\n<ul>\n<li>\n<p><strong>ç³»ç»Ÿæ¨¡å‹</strong></p>\n<p>æˆ‘ä»¬è€ƒè™‘é‡‡ç”¨æ™ºèƒ½åˆçº¦çš„åˆ†å¸ƒå¼è´¦æœ¬å’Œç°æœ‰çš„ DeFi ç”Ÿæ€ç³»ç»Ÿã€‚äº¤æ˜“è€…é€šè¿‡å…¶åŒºå—é“¾è´¦æˆ·æ‰§è¡Œé‡‘èæ“ä½œï¼Œç­¾ç½²çŸ¿å·¥æŒ–æ˜çš„äº¤æ˜“ã€‚åŒæ ·ï¼Œæ™ºèƒ½åˆçº¦ä¹Ÿç”±å…¶å„è‡ªçš„è´¦æˆ·å¼•ç”¨ã€‚åŒºå—é“¾äº¤æ˜“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.61508em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span></span></span></span> ä»£è¡¨çŠ¶æ€è½¬æ¢å‡½æ•°ï¼Œå°†è´¦æœ¬çŠ¶æ€ä» <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span> è½¬æ¢ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>S</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">S&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œå³ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>S</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo>=</mo><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mo stretchy=\"false\">(</mo><mi>S</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">S&#x27; = \\mathrm{tx}(S)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span></span></span></span> ã€‚</p>\n<p>æˆ‘ä»¬å‡è®¾ï¼Œåœ¨ DeFi ç³»ç»Ÿä¸­ï¼Œé™¤äº†åŸç”ŸåŒºå—é“¾åŠ å¯†è´§å¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨å„ç§èµ„äº§è¡¨ç¤ºå½¢å¼ï¼ˆå¦‚å¯æ›¿ä»£ä»£å¸ï¼‰ã€‚åœ¨åŒºå—é“¾çŠ¶æ€ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span> ä¸‹ï¼Œè´¦æˆ· <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> æŒæœ‰çš„èµ„äº§ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> ä½™é¢ç”¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>a</mi><msubsup><mi>l</mi><mi>a</mi><mi>m</mi></msubsup><mo stretchy=\"false\">(</mo><mi>S</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Bal^{m}_{a} (S)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span></span></span></span> Z è¡¨ç¤ºï¼Œè€Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"normal\">Î”</mi><mi>a</mi><mi>m</mi></msubsup><mo stretchy=\"false\">(</mo><mi>S</mi><mo separator=\"true\">,</mo><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\Delta^{m}_{a}(S,\\mathrm{tx})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\">Î”</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"mclose\">)</span></span></span></span> è¡¨ç¤ºåœ¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span> ä¸Šæ‰§è¡Œäº¤æ˜“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.61508em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span></span></span></span> åçš„ä½™é¢å˜åŒ–ï¼ˆå‚è§å…¬å¼ 1ï¼‰ã€‚</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable width=\"100%\"><mtr><mtd width=\"50%\"></mtd><mtd><mrow><msubsup><mi mathvariant=\"normal\">Î”</mi><mi>a</mi><mi>m</mi></msubsup><mo stretchy=\"false\">(</mo><mi>S</mi><mo separator=\"true\">,</mo><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mo stretchy=\"false\">)</mo><mo>=</mo><mi>B</mi><mi>a</mi><msubsup><mi>l</mi><mi>a</mi><mi>m</mi></msubsup><mo stretchy=\"false\">(</mo><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mo stretchy=\"false\">(</mo><mi>S</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>âˆ’</mo><mi>B</mi><mi>a</mi><msubsup><mi>l</mi><mi>a</mi><mi>m</mi></msubsup><mo stretchy=\"false\">(</mo><mi>S</mi><mo stretchy=\"false\">)</mo></mrow></mtd><mtd width=\"50%\"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\Delta^{m}_{a} (S, \\mathrm{tx}) = Bal^{m}_{a} (\\mathrm{tx}(S)) - Bal^{m}_{a}(S) \\tag{1}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\">Î”</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span></span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span></span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7143919999999999em;\"><span style=\"top:-2.4530000000000003em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span></span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span></span><span class=\"tag\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">(</span><span class=\"mord\"><span class=\"mord\">1</span></span><span class=\"mord\">)</span></span></span></span></span></span></p>\n<p>æˆ‘ä»¬è¿›ä¸€æ­¥å‡è®¾å­˜åœ¨é“¾ä¸Šäº¤æ˜“æ‰€ï¼Œè¿™äº›äº¤æ˜“æ‰€å…è®¸ä»ä»»ä½•èµ„äº§ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> åˆ°åŸç”ŸåŠ å¯†è´§å¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> çš„äº¤æ˜“ã€‚</p>\n</li>\n<li>\n<p><strong>å¨èƒæ¨¡å‹</strong></p>\n<p>æˆ‘ä»¬çš„è€ƒè™‘çš„æœ€å¼ºçš„å¯¹æŠ—æ¨¡å‹ä¸ºï¼šä¸€ä¸ªçŸ¿å·¥ï¼Œå®ƒå¯ä»¥å•æªåŒ¹é©¬åœ°åœ¨å…¶å¼€é‡‡çš„åŒºå—ä¸­è¿›è¡Œäº¤æ˜“ã€‚ä½œä¸ºçŸ¿å·¥ï¼Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥è®¿é—®æ¯ä¸ªå¾…å¤„ç†çš„äº¤æ˜“å’Œå½“å‰çš„åŒºå—é“¾çŠ¶æ€ã€‚ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> é€šè¿‡å¤šä¸ªåˆ†å¸ƒå¼èŠ‚ç‚¹å’Œç‚¹å¯¹ç‚¹è¿æ¥ï¼Œåœ¨ P2P ç½‘ç»œä¸Šä¸»åŠ¨åˆ—å‡ºæ•°æ®ã€‚æ­¤å¤–ï¼Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> è¿˜å¯ä»¥å……å½“æˆ–ä¸ FaaS æä¾›å•†åˆä½œï¼Œç§ä¸‹æ¥æ”¶å¾…å¤„ç†äº¤æ˜“ã€‚ç”±äº  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æ˜¯çŸ¿å·¥ï¼Œå› æ­¤  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥åœ¨ä»»ä½•å¾…å¤„ç†äº¤æ˜“ä¹‹å‰è¿›è¡Œäº¤æ˜“ã€‚æˆ‘ä»¬å‡è®¾ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span>  åœ¨è´¢åŠ¡ä¸Šæ˜¯ç†æ€§çš„ï¼Œå¹¶è¯•å›¾æœ€å¤§åŒ–å…¶èµ„äº§ä»·å€¼ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å‡è®¾  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥è·å¾—è¶³å¤Ÿçš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> æ¥æ‰§è¡Œ APEã€‚</p>\n<p>APE ä¸åº”ç”¨æ— å…³ï¼Œè¿™æ„å‘³ç€  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æ— éœ€é¢„å…ˆçŸ¥é“å—å®³è€…äº¤æ˜“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„é€»è¾‘ï¼Œä¹Ÿæ— éœ€çŸ¥é“å…¶ç›®æ ‡æ™ºèƒ½åˆçº¦ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å‡è®¾å³  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> äº†è§£å¦‚ä½•ä¸èµ„äº§ä»£å¸äº’åŠ¨ï¼Œå¹¶ä¸”  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥é€šè¿‡ä¸Šé“¾äº¤æ¢å°†ä»£å¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> äº¤æ¢ç»™ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span>ã€‚</p>\n<p>æˆ‘ä»¬å°†æ—¨åœ¨å¤åˆ¶å’Œæ›¿æ¢ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> è¡Œä¸ºçš„äº¤æ˜“ç§°ä¸ºæ¨¡ä»¿äº¤æ˜“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ã€‚<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¸ä¸€ç»„åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\mathrm{sc}_{vi}\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> äº¤äº’ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯èƒ½éœ€è¦æ›¿æ¢è¿™äº›åˆçº¦çš„å­é›†æ‰èƒ½æˆåŠŸæ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ã€‚æˆ‘ä»¬è®¤ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥å¤„ç†ä»»ä½•å—å®³åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œä»¥åˆæˆå„è‡ªçš„å¯¹æŠ—åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚</p>\n<p><strong>æ¾„æ¸…</strong>   APE æ— æ³•å½¢æˆæ–°çš„æ”»å‡»ï¼Œå› ä¸º APE äº‹å…ˆä¸çŸ¥é“ä»¥å‰çš„åŒºå—é“¾æ”»å‡»ï¼Œä¹Ÿä¸çŸ¥é“åº”ç”¨å±‚é€»è¾‘ã€‚å› æ­¤ï¼ŒAPE ä¾èµ–äºæ¨¡æ¿äº¤æ˜“å’Œç¼–ç æ”»å‡»é€»è¾‘çš„ç›¸å…³åˆçº¦ã€‚</p>\n</li>\n</ul>\n<h2 id=\"attack-overview\"><a class=\"anchor\" href=\"#attack-overview\">#</a> Attack Overview</h2>\n<p>ç»™å®šä¸€ä¸ªæœ‰åˆ©å¯å›¾çš„å—å®³è€…äº¤æ˜“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œå¯¹æ‰‹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥å°è¯•ç”¨ç®€å•çš„æ¨¡ä»¿äº¤æ˜“æ¥æ¨¡ä»¿å…¶é€»è¾‘ï¼ˆå‚è§ç¬¬ 3.3 èŠ‚ï¼‰ã€‚ç„¶è€Œï¼Œç”±äºç°æœ‰çš„å„ç§é˜²å¾¡æœºåˆ¶ï¼ˆå¦‚èº«ä»½éªŒè¯ï¼‰ï¼Œè¿™ç§å¤©çœŸçš„æ–¹æ³•å¯èƒ½ä¼šå¤±è´¥ï¼ˆå‚è§ç¬¬ 3.4 èŠ‚ï¼‰ã€‚ç”±äºç¼ºä¹å…³äº <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„å…ˆéªŒçŸ¥è¯†ï¼Œç†è§£ä¸€ä¸ªå¤±è´¥å¯¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æ¥è¯´å…·æœ‰æŒ‘æˆ˜æ€§ã€‚æ­¤å¤–ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œå¯èƒ½ä¸å¤šä¸ªè¢«è°ƒç”¨çš„åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\mathrm{sc}_{vi}\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span> äº¤ç»‡åœ¨ä¸€èµ·ï¼Œä»è€Œä½¿åˆ†æå˜å¾—æ›´åŠ å¤æ‚ã€‚æœ€åï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¿…é¡»å®æ—¶æ”»å‡»ï¼Œå› ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> è¢«æŒ–æ˜å‡ºæ¥å‰çš„æ”»å‡»çª—å£é€šå¸¸åªæŒç»­å‡ ç§’é’Ÿã€‚</p>\n<p>APE çš„ç›®æ ‡æ˜¯ç”Ÿæˆä¸€ä¸ªæ¨¡ä»¿äº¤æ˜“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œä»¥åŠä¸€ç»„æ¨¡ä»¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> é€»è¾‘çš„åˆæˆåˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\mathrm{sc}_{ai}\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>ï¼ˆå’Œç›¸å…³çš„å—å®³è€…åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\mathrm{sc}_{vi}\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>ï¼‰ï¼Œå¹¶å…·æœ‰ä»¥ä¸‹å±æ€§ï¼š</p>\n<ul>\n<li><strong>äº‹å…ˆä¸äº†è§£å—å®³è€…æƒ…å†µ</strong>ï¼šä»»ä½•ç›ˆåˆ©äº¤æ˜“éƒ½åº”è¢«è§†ä¸ºæ½œåœ¨å—å®³è€…ï¼Œä¸å‘è¡Œè€…æ— å…³ã€‚<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ä¸éœ€è¦äº‹å…ˆäº†è§£å—å®³è€…çš„äº¤æ˜“ã€æ„å›¾æˆ–è¿‡å»çš„åŒºå—é“¾å†å²ã€‚</li>\n<li><strong>ä¸æ¨ç†å—å®³è€…é€»è¾‘</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ä¸çŸ¥é“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„åº”ç”¨é€»è¾‘ï¼Œä¹Ÿä¸æ¶‰åŠ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚</li>\n<li><strong>é¢å¤–å¤æ‚æ€§å¸¦æ¥æ›´é«˜å›æŠ¥</strong>ï¼šAPE å¼•å…¥äº†æ¯”å¤©çœŸçš„æ¨¡ä»¿æ–¹æ³•æ›´å¤šçš„å¤æ‚æ€§ï¼Œå› æ­¤åº”è¯¥èƒ½è·å¾—è¶…è¿‡åŸæ¨¡æ‹Ÿæ–¹æ³•çš„æ”¶ç›Šã€‚ä¸ºäº†è¿›è¡Œå®¢è§‚æ¯”è¾ƒï¼Œæˆ‘ä»¬åœ¨ç›¸åŒçš„åŒºå—é“¾äº¤æ˜“å†å²ä¸Šå¯¹ä¸¤ç§æ¨¡ä»¿æ–¹æ³•è¿›è¡Œäº†è¯„ä¼°ã€‚</li>\n<li><strong>å®æ—¶æ€§</strong>ï¼šæˆ‘ä»¬å‡è®¾ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> åªæ”»å‡»å¾…å¤„ç†çš„ä¸´æ—¶äº¤æ˜“ã€‚å› æ­¤ï¼ŒAPE å¿…é¡»å¿«äºåŒºå—é—´æ—¶é—´ï¼ˆä¾‹å¦‚ï¼Œä»¥å¤ªåŠä¸Šçº¦ä¸º 13.3 ç§’ï¼ŒBSC ä¸Šä¸º 3 ç§’ï¼‰ã€‚å› æ­¤ï¼Œå¿…é¡»ä¼˜å…ˆè€ƒè™‘æ‰§è¡Œé€Ÿåº¦è€Œä¸æ˜¯æ”»å‡»æœ€ä¼˜æ€§ã€‚è¯·æ³¨æ„ï¼Œä½œä¸ºçŸ¿å·¥çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥é€‰æ‹©åœ¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¸Šåˆ†å‰åŒºå—é“¾ï¼Œä»è€Œè·å¾—æ›´é•¿çš„æ”»å‡»æ—¶é—´çª—å£ï¼Œè¿™è¶…å‡ºäº†æœ¬å·¥ä½œçš„èŒƒå›´ã€‚</li>\n</ul>\n<p>APE çš„é«˜å±‚é€»è¾‘è¿ç®—å¦‚ä¸‹ã€‚ç»™å®šä¸€ä¸ªæ½œåœ¨çš„å—å®³è€…äº¤æ˜“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> é¦–å…ˆå°è¯•é€šè¿‡åˆ›å»ºå¹¶æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ¥ä½œä¸ºä¸€ä¸ªå¤©çœŸæ¨¡ä»¿äº‹åŠ¡ä»¥æ¨¡ä»¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ã€‚å¦‚æœ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œå‡ºç°å›é€€ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å°±ä¼šæ‰¾å‡ºå¼•å‘å¤±è´¥çš„æ‰§è¡Œè½¨è¿¹ã€‚ç„¶åï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> åˆæˆ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œæ›¿æ¢å¯¼è‡´ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å›é€€çš„<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚ä¸ºæ­¤ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¤åˆ¶å—å®³è€…çš„åˆçº¦å­—èŠ‚ç ï¼Œå¹¶ä¿®æ”¹é˜»æ­¢æˆåŠŸæ¨¡ä»¿æ‰§è¡Œçš„æŒ‡ä»¤ã€‚æœ€åï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> åœ¨æœ¬åœ°éªŒè¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> éƒ¨ç½²å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„å¯ç›ˆåˆ©æ€§ã€‚æ ¹æ® <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥é¢†å…ˆä»»ä½•ç«äº‰å¯¹æ‰‹çš„å‡è®¾ï¼ˆå‚è§ç¬¬ 4.1 èŠ‚ï¼‰ï¼ŒAPE æ˜¯æ— é£é™©çš„ã€‚è¯·æ³¨æ„ï¼Œåˆ©ç”¨äº‹åŠ¡çš„å¯ç»„åˆæ€§ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥åœ¨å•ä¸ªäº‹åŠ¡ä¸­åŸå­å¼åœ°æ“ä½œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> éƒ¨ç½²å’Œæ¨¡ä»¿æ‰§è¡Œï¼ˆå³ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.61508em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span></span></span></span></span>ï¼‰ã€‚</p>\n<p>APE ï¼ˆå‚è§å›¾ 3ï¼‰ç”±å…­ä¸ªå…³é”®éƒ¨åˆ†ç»„æˆï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/8sfecv.png\" alt=\"å›¾ 3ï¼šåŸºäº EVM çš„åŒºå—é“¾äº¤æ˜“å®æ—¶æ¨¡ä»¿æ”»å‡» APE æ¦‚è¿°\" /></p>\n<ol>\n<li>\n<p><strong>åŠ¨æ€æ§åˆ¶æµå›¾</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> åœ¨å½“å‰åŒºå—é“¾çŠ¶æ€ä¸‹å¾ªç¯æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œå¹¶æ„å»ºåŠ¨æ€æ§åˆ¶æµå›¾ï¼ˆDCFGï¼‰ã€‚DCFG æ•è·<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(i)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">)</span></span></span></span> åœ¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ‰§è¡Œæ—¶ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„åˆçº¦é—´è°ƒç”¨ï¼Œä»¥åŠ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(ii)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">)</span></span></span></span> è°ƒç”¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„åˆçº¦å­—èŠ‚ç æ‰§è¡Œæµã€‚</p>\n</li>\n<li>\n<p><strong>ç›ˆåˆ©åˆ†æå™¨</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æå– <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> è§¦å‘çš„èµ„äº§è½¬ç§»ï¼Œè§‚å¯Ÿå—ç›Šè´¦æˆ·ã€‚ç„¶åï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å°è¯•æ›¿æ¢è¿™äº›è´¦æˆ·æˆä¸ºå—ç›Šäººã€‚å¦‚æœ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æ²¡æœ‰æˆåŠŸæˆä¸ºå—ç›Šäººï¼Œåˆ™ä¸­æ­¢æ”»å‡»ã€‚</p>\n</li>\n<li>\n<p><strong>åŠ¨æ€æ±¡ç‚¹åˆ†æ</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æ‰§è¡ŒåŠ¨æ€æ±¡ç‚¹åˆ†æï¼Œå¹¶å°†åˆ†æç»“æœä¸æ­¥éª¤ 1 ä¸­æ„å»ºçš„ DCFG è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ¯”è¾ƒç»“æœæ˜¾ç¤ºæ²¡æœ‰å·®å¼‚ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å°±ç»§ç»­è¿›è¡Œå¤©çœŸäº¤æ˜“ä»¿çœŸï¼ˆå‚è§ç¬¬ 2.3 èŠ‚ï¼‰ã€‚å¦åˆ™ï¼Œæ ¹æ®åŠ¨æ€æ±¡ç‚¹åˆ†æå’Œä¸ DCFG çš„æ¯”è¾ƒï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> è¯†åˆ«å‡ºå¦¨ç¢æˆåŠŸæ‰§è¡Œå¤©çœŸæ¨¡ä»¿çš„æ±¡ç‚¹åŸºæœ¬å—ã€‚</p>\n</li>\n<li>\n<p><strong>è¡¥ä¸è¯†åˆ«å™¨</strong>ï¼šåŸºäºæ£€æµ‹åˆ°çš„å—ç›Šäººè´¦æˆ·å’Œæ±¡ç‚¹æ™ºèƒ½åˆçº¦ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¼€å§‹è¯†åˆ«æ‰€æœ‰éœ€è¦æ›¿æ¢çš„æ™ºèƒ½åˆçº¦ã€‚</p>\n</li>\n<li>\n<p><strong>æ™ºèƒ½åˆçº¦åˆæˆ</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> é€šè¿‡å¤åˆ¶ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„å­—èŠ‚ç åˆæˆ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯èƒ½éœ€è¦ä¿®æ”¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„å­—èŠ‚ç ï¼Œä»¥ç¡®ä¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å¯ä»¥æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„é€»è¾‘å¹¶æ”¶å–äº§ç”Ÿçš„è´¢åŠ¡æ”¶å…¥ã€‚</p>\n</li>\n<li>\n<p><strong>éªŒè¯</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> åœ¨æœ¬åœ°éƒ¨ç½² <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å¹¶æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œä»¥éªŒè¯æ”»å‡»æ˜¯å¦æœ‰åˆ©å¯å›¾ã€‚å¦‚æœæœ‰åˆ©å¯å›¾ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å°±åœ¨é“¾ä¸Šéƒ¨ç½² <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å¹¶å‘å¸ƒ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œå‰ç½®è¿è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚</p>\n</li>\n</ol>\n<h1 id=\"ape-details\"><a class=\"anchor\" href=\"#ape-details\">#</a> APE Details</h1>\n<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç» APE çš„è®¾è®¡ç»†èŠ‚ï¼Œå¹¶è®¨è®ºå…¶æŠ€æœ¯å±€é™æ€§ã€‚</p>\n<h2 id=\"step-1-dynamic-control-flow-graph\"><a class=\"anchor\" href=\"#step-1-dynamic-control-flow-graph\">#</a> Step 1 : Dynamic Control-Flow Graph</h2>\n<p>æ™ºèƒ½åˆçº¦æ§åˆ¶æµå›¾ï¼ˆCFGï¼‰æ˜¯åˆçº¦å­—èŠ‚ç çš„å›¾å½¢è¡¨ç¤ºæ³•ã€‚åœ¨ CFG ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªåŸºæœ¬å—ï¼Œå³æŒ‡ä»¤çš„çº¿æ€§åºåˆ—ã€‚èŠ‚ç‚¹ç”±æœ‰å‘è¾¹è¿æ¥ï¼Œä»£è¡¨æ§åˆ¶æµä¸­çš„ä»£ç è·³è½¬ã€‚å¯¹äº EVM å­—èŠ‚ç ï¼Œ <code>JUMP</code>  å’Œ  <code>JUMPI</code>  è¿™ä¸¤ä¸ªæ“ä½œç æ§åˆ¶ç€ä»£ç å—çš„æ‰§è¡Œè·¯å¾„ã€‚ <code>JUMP</code>  æ˜¯æ— æ¡ä»¶è·³è½¬åˆ°å †æ ˆä¸­çš„ç›®æ ‡ï¼Œè€Œ  <code>JUMPI</code>  åˆ™æ˜¯æœ‰æ¡ä»¶è·³è½¬ã€‚CFG åªåŒ…å«æœ‰å…³åˆçº¦çš„é™æ€ä¿¡æ¯ï¼Œè€Œ DCFG æ˜¯ä¸€ç§ä¸“é—¨çš„ CFGï¼ŒåŒ…å«ä»ç»™å®šæ‰§è¡Œä¸­æå–çš„åŠ¨æ€ä¿¡æ¯ã€‚</p>\n<p><em>APE ä¸­çš„åŠ¨æ€æ§åˆ¶æµå›¾æ„å»º</em>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> åœ¨æœ¬åœ°æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œæ„å»º DCFGï¼Œè¡¨ç¤º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œç»†èŠ‚ã€‚ä¸ºäº†æ¨ç† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ§åˆ¶æµï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> è®°å½•äº†æ¯ä¸ª  <code>JUMPI</code>  çš„æ¡ä»¶å€¼ï¼Œè¿™æ˜¯åŠ¨æ€åˆ†ææ‰€å¿…éœ€çš„ï¼ˆç¬¬ 3 æ­¥ï¼Œå‚è§ç¬¬ 5.3 èŠ‚ï¼‰ã€‚é€šè¿‡æ•æ‰åˆçº¦è°ƒç”¨çš„æ“ä½œç ï¼ˆå³  <code>CALL</code> ã€ <code>DELEGATECALL</code> ã€ <code>STATICCALL</code>  å’Œ  <code>CALLCODE</code> ï¼‰ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥è¯†åˆ«è·¨åˆçº¦çš„è°ƒç”¨ã€‚å› æ­¤ï¼Œæ„å»ºçš„ DCFG å¯ä»¥è·Ÿè¸ªè°ƒç”¨çš„æ‰€æœ‰æ™ºèƒ½åˆçº¦ã€‚æ„å»ºçš„ DCFG åæ˜ äº† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„å…·ä½“æ‰§è¡Œï¼Œè€Œä¸æ˜¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„å®Œæ•´è¡¨ç¤ºã€‚è¿™å¯¹æœ¬å·¥ä½œå¾ˆæœ‰å¸®åŠ©ï¼Œå› ä¸ºæœªæ‰§è¡Œçš„åŸºæœ¬åŒºå—ä¸æ¨¡ä»¿å—å®³è€…äº¤æ˜“æ— å…³ã€‚å› æ­¤ï¼Œå¾—åˆ°çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼ˆå‚è§æ­¥éª¤ 5ï¼Œç¬¬ 5.5 èŠ‚ï¼‰å¯èƒ½æ¯” <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> åŒ…å«æ›´å°‘çš„æ“ä½œç ï¼Œä»è€Œé™ä½æ”»å‡»æˆæœ¬ã€‚</p>\n<h2 id=\"step-2-profitability-analyzer\"><a class=\"anchor\" href=\"#step-2-profitability-analyzer\">#</a> Step 2 : Profitability Analyzer</h2>\n<p>ç›ˆåˆ©èƒ½åŠ›åˆ†æå™¨æ—¨åœ¨è¿‡æ»¤æ‰ä¸å¯èƒ½ç›ˆåˆ©çš„å—å®³è€…äº¤æ˜“ã€‚ç›´è§‚åœ°è¯´ï¼Œå¦‚æœå¯¹æŠ—æ”¶å…¥ï¼ˆä»¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> åº¦é‡ï¼‰å¤§äºæ‰€éœ€çš„äº¤æ˜“è´¹ç”¨ï¼Œåˆ™ APE å°è¯•æ˜¯æœ‰åˆ©å¯å›¾çš„ï¼ˆå‚è§å®šä¹‰ 5.1ï¼‰ã€‚</p>\n<p><mark><strong>å®šä¹‰ 5.1</strong></mark>ï¼ˆç›ˆåˆ©æ¡ä»¶ï¼‰ã€‚ç»™å®šä¸€ä¸ªåŒºå—é“¾çŠ¶æ€ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span>ï¼Œå¯¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æ¥è¯´ï¼Œå¦‚æœ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><mi>a</mi><msubsup><mi>l</mi><mi mathvariant=\"script\">A</mi><mi>E</mi></msubsup><mo stretchy=\"false\">(</mo><msup><mi>S</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">)</mo><mo>âˆ’</mo><mi>B</mi><mi>a</mi><msubsup><mi>l</mi><mi mathvariant=\"script\">A</mi><mi>E</mi></msubsup><mo stretchy=\"false\">(</mo><mi>S</mi><mo stretchy=\"false\">)</mo><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">Bal^{E}_{\\mathcal{A}}(S&#x27;) - Bal^{E}_{\\mathcal{A}}(S) &gt; 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1166619999999998em;vertical-align:-0.275331em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-2.424669em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathcal mtight\">A</span></span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">E</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1166619999999998em;vertical-align:-0.275331em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord mathnormal\">a</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8413309999999999em;\"><span style=\"top:-2.424669em;margin-left:-0.01968em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathcal mtight\">A</span></span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">E</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.275331em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span>ï¼ˆå…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>S</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup></mrow><annotation encoding=\"application/x-tex\">S&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.751892em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.751892em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span></span></span></span> æ˜¯æ”»å‡»äº¤æ˜“åçš„åŒºå—é“¾çŠ¶æ€ï¼‰ï¼Œåˆ™ APE æ”»å‡»å¯¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æ¥è¯´æ˜¯æœ‰åˆ©å¯å›¾çš„ã€‚</p>\n<p>åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥é€šè¿‡æ£€æŸ¥äº¤æ˜“å‘é€æ–¹çš„ä½™é¢å˜åŒ–æ¥æ¨æ–­æ¨¡ä»¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„ç›ˆåˆ©èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå—å®³è€…å¯èƒ½ä¼šå°† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ”¶å…¥è½¬ç§»åˆ°å…¶æ§åˆ¶çš„å¦ä¸€ä¸ªæ™ºèƒ½åˆçº¦ï¼Œè€Œä¸æ˜¯è½¬ç§»åˆ°å‘é€è€…è´¦æˆ·ã€‚å› æ­¤ï¼Œåªæœ‰å½“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ç¡®å®šå—ç›Šæ”¶æ¬¾äººæ—¶ï¼Œæ¨¡ä»¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ‰æœ‰åˆ©å¯å›¾ã€‚å› æ­¤ï¼Œä¸ºäº†ç¡®å®šç›ˆåˆ©èƒ½åŠ›ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æœ‰å¿…è¦ç¡®å®šå‚ä¸æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ¯ä¸ªè´¦æˆ·çš„åˆ©æ¶¦ã€‚ä¸ºæ­¤ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¯ä»¥ä»æ­¥éª¤ 1 ä¸­æ„å»ºçš„ DCFG ä¸­æå–èµ„äº§è½¬ç§»ã€‚é€šè¿‡åˆ†æèµ„äº§æ‰§è¡Œæ ‡å‡†ï¼ˆå¦‚ <strong>ERC20</strong>ï¼‰ä¸­å®šä¹‰çš„ EVM æ—¥å¿—ï¼Œå¯ä»¥ç›´æ¥æå–èµ„äº§è½¬ç§»ã€‚æˆ‘ä»¬ç»§ç»­å®šä¹‰ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ‰§è¡Œä¸­çš„å—ç›Šäººè´¦æˆ·ï¼ˆå‚è§å®šä¹‰ 5.2ï¼‰ã€‚</p>\n<p><mark><strong>å®šä¹‰ 5.2</strong></mark>ï¼ˆå—ç›Šè´¦æˆ·ï¼‰ã€‚å¦‚æœåœ¨æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„è¿‡ç¨‹ä¸­ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> æ”¶åˆ°çš„é‡‘é¢å¤§äº <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> æ”¯ä»˜çš„é‡‘é¢ï¼Œåˆ™è´¦æˆ· <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> è¢«è§†ä¸ºå—ç›Šäººã€‚</p>\n<p>æˆ‘ä»¬ä»…ä»¥æœ¬åœ°è´§å¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> æ¥è¡¡é‡ç›ˆåˆ©èƒ½åŠ›ï¼Œä»¥ä½¿é‡‘èä»·å€¼æ¯”è¾ƒæ­£å¸¸åŒ–ã€‚è¿™æ„å‘³ç€ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¿…é¡»åœ¨æ¨¡ä»¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¹‹åå°†æ‰€æœ‰æ”¶åˆ°çš„èµ„äº§åŸå°ä¸åŠ¨åœ°äº¤æ¢åˆ° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span>ã€‚</p>\n<p>å¦‚æœåœ¨æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„è¿‡ç¨‹ä¸­å­˜åœ¨å—ç›Šäººè´¦æˆ·ï¼Œé‚£ä¹ˆæ¨¡ä»¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å¯èƒ½ä¼šäº§ç”Ÿåˆ©æ¶¦ã€‚å…·ä½“æ¥è¯´ï¼Œæœ‰ä¸¤ç§æƒ…å†µ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ä¸ä¼šæ”¾å¼ƒæ”»å‡»ï¼š</p>\n<ol>\n<li>å¦‚æœå‘ä»¶äººæ˜¯å—ç›Šè´¦æˆ·ï¼Œåˆ™å…¶ä»–è´¦æˆ·ä¸ç›ˆåˆ©èƒ½åŠ›åˆ†æå™¨æ— å…³ã€‚</li>\n<li>å¦åˆ™ï¼Œå¦‚æœå‘é€äººä¸æ˜¯å—ç›Šäººè´¦æˆ·ï¼Œå…¶ä»–å—ç›Šäººè´¦æˆ·çš„æ€»åˆ©æ¶¦å‡å»å‘é€äººè´¦æˆ·çš„æ½œåœ¨æŸå¤±åå¿…é¡»ä¿æŒæ­£æ•°ã€‚</li>\n</ol>\n<p>ç„¶åï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å°†å—ç›Šäººè´¦æˆ·å¯¼å‡ºåˆ°è¡¥ä¸è¯†åˆ«å™¨ï¼ˆæ­¥éª¤ 4ï¼‰ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥åˆ†æï¼ˆå‚è§ç¬¬ 5.4 èŠ‚ï¼‰ã€‚è¯·æ³¨æ„ï¼Œè¿™ç§æ–¹æ³•å¯èƒ½ä¼šå¸¦æ¥è¯¯æŠ¥ï¼Œå› ä¸ºç›ˆåˆ©èƒ½åŠ›åˆ†æå™¨ä¸è€ƒè™‘äº¤æ˜“æ˜¯å¦å…·æœ‰å¯æ“ä½œæ€§ã€‚ä¾‹å¦‚ï¼Œä»é’±åŒ…åˆçº¦ä¸­å‘äº¤æ˜“å‘é€æ–¹æå–èµ„äº§çš„äº¤æ˜“è¢«å½’ç±»ä¸ºå¯ç›ˆåˆ©äº¤æ˜“ï¼Œå› ä¸ºå‘é€æ–¹æ˜¯å—ç›Šäººè´¦æˆ·ã€‚ä½†æ˜¯ï¼Œæå–äº¤æ˜“æ˜¯æ— æ³•æ¨¡ä»¿çš„ã€‚è¿™ç§è¯¯æŠ¥å°†åœ¨éªŒè¯é˜¶æ®µï¼ˆç¬¬ 6 æ­¥ï¼‰è¢«æ¸…é™¤ã€‚</p>\n<h2 id=\"step-3-dynamic-taint-analysis\"><a class=\"anchor\" href=\"#step-3-dynamic-taint-analysis\">#</a> Step 3 : Dynamic Taint Analysis</h2>\n<p>åŠ¨æ€æ±¡ç‚¹åˆ†ææ˜¯ä¸€ç§ç¨‹åºåˆ†ææ–¹æ³•ï¼Œå¯åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­è·Ÿè¸ªæ¥è‡ªæ±¡ç‚¹æºï¼ˆå¦‚ä¸å—ä¿¡ä»»çš„è¾“å…¥ï¼‰çš„ä¿¡æ¯æµã€‚åŠ¨æ€æ±¡ç‚¹åˆ†æé€šè¿‡æ±¡ç‚¹ç­–ç•¥æ˜ç¡®ç¡®å®šï¼š</p>\n<ol>\n<li>å“ªäº›æŒ‡ä»¤ä¼šå¼•å…¥æ–°çš„æ±¡ç‚¹ï¼›</li>\n<li>å¦‚ä½•å¯¹æ±¡ç‚¹è¿›è¡Œé¢„å¤„ç†ï¼›</li>\n<li>å¦‚ä½•æ£€æŸ¥æ±¡ç‚¹å€¼ã€‚</li>\n</ol>\n<p><strong>APE ä¸­çš„åŠ¨æ€æ±¡ç‚¹åˆ†æ</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¼€å§‹æ‰§è¡Œä» <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å¤åˆ¶çš„æ¨¡ä»¿äº‹åŠ¡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚ä¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œç›¸æ¯”ï¼Œå¦‚æœ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> åŒ…å«ä¸ä¸€è‡´ï¼ˆä¾‹å¦‚ä¸åŒçš„äº‹åŠ¡å‘é€è€…ï¼‰ï¼Œåˆ™ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œå¯èƒ½ä¼šå¤±è´¥ï¼ˆå‚è§ç¬¬ 3.4 èŠ‚ï¼‰ã€‚å› æ­¤ï¼Œåœ¨æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ—¶ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ä¼šåº”ç”¨åŠ¨æ€æ±¡ç‚¹åˆ†ææ¥è·Ÿè¸ª <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ‰§è¡Œå¤±è´¥çš„ä½ç½®å’Œæ–¹å¼ã€‚<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å°†å¯èƒ½è§¦å‘ä¸ä¸€è‡´æ‰§è¡Œå€¼çš„æ“ä½œç è§†ä¸ºæ±¡ç‚¹æºï¼Œå¹¶è·Ÿè¸ªå…¶æ±¡ç‚¹ä¼ æ’­ã€‚ä¸‹é¢æˆ‘ä»¬å°†æ¦‚è¿° APE çš„æ±¡ç‚¹åˆ†æç­–ç•¥ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/iyhih8.jpg\" alt=\"è¡¨ 2ï¼šæ±¡ç‚¹å¼•å…¥è§„åˆ™ã€‚åœ¨æ‰§è¡Œ txc æ—¶ï¼ŒORIGIN è‚¯å®šä¼šå¼•å…¥ä¸€ä¸ªä¸ä¸€è‡´çš„å€¼ï¼Œè€Œå…¶ä½™æ“ä½œç ï¼ˆç°è‰²éƒ¨åˆ†ï¼‰å¯èƒ½ä¼šã€ä¹Ÿå¯èƒ½ä¸ä¼šå½±å“ txc çš„æ‰§è¡Œ\" /></p>\n<ul>\n<li><strong>æ±¡ç‚¹ä»‹ç»</strong>ï¼šæˆ‘ä»¬æ£€æŸ¥äº†æ‰€æœ‰ EVM æ“ä½œç ï¼Œå¹¶æ‰¾å‡ºäº†é‚£äº›å¯èƒ½å¸¦æ¥ä¸ä¸€è‡´çš„æ“ä½œç ï¼ˆå‚è§è¡¨ 2ï¼‰ã€‚ä¾‹å¦‚ï¼Œ`ORIGINãƒ»ï¼ˆäº¤æ˜“å‘é€æ–¹æ“ä½œç ï¼‰è‚¯å®šä¼šäº§ç”Ÿä¸ä¸€è‡´å€¼ï¼Œå› ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯ç”±æ¶æ„åœ°å€è€Œä¸æ˜¯å—å®³è€…åœ°å€å‘å‡ºçš„ã€‚å…¶ä½™æ“ä½œç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½ä¼šã€ä¹Ÿå¯èƒ½ä¸ä¼šäº§ç”Ÿä¸ä¸€è‡´å€¼ã€‚</li>\n<li><strong>æ±¡ç‚¹ä¼ æ’­</strong>ï¼šå½“è‡³å°‘æœ‰ä¸€ä¸ªè¾“å…¥æ˜¯æ±¡ç‚¹æ—¶ï¼Œæ±¡ç‚¹ä¼šä¼ æ’­åˆ°ç®—æœ¯ / é€»è¾‘è¿ç®—çš„è¾“å‡ºã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå­˜å‚¨å˜é‡æ˜¯ä»ä¸€ä¸ªæ±¡ç‚¹æ§½ä¸­è¯»å–çš„ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯æ±¡ç‚¹ã€‚</li>\n<li><strong>æ±¡ç‚¹æ£€æŸ¥</strong>ï¼šå›é¡¾ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨å»ºç«‹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„ DCFG æ—¶ï¼Œåœ¨æ­¥éª¤ 1 ä¸­ï¼ˆå‚è§ç¬¬ 5.1 èŠ‚ï¼‰è®°å½•äº†æ¯ä¸ª  <code>JUMPI</code>  æ¡ä»¶çš„å…·ä½“å€¼ã€‚ç»™å®š <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ±¡ç‚¹æ‰§è¡Œè½¨è¿¹åï¼Œæˆ‘ä»¬æ¯”è¾ƒæ¯ä¸ªæ±¡ç‚¹  <code>JUMPI</code>  æ˜¯å¦ä¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„è®°å½•å€¼ç›¸åŒã€‚é€šè¿‡è¿™ç§å…·ä½“çš„æ¯”è¾ƒï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®š <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¹‹é—´çš„ä¸ä¸€è‡´æ˜¯å¦‚ä½•ä¸­æ–­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œçš„ã€‚</li>\n</ul>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®šä¹‰æ±¡ç‚¹åŸºæœ¬åŒºå—ï¼ˆå‚è§å®šä¹‰ 5.3ï¼‰å’Œæ±¡ç‚¹åˆçº¦ï¼ˆå‚è§å®šä¹‰ 5.4ï¼‰ã€‚</p>\n<p><mark><strong>å®šä¹‰ 5.3</strong></mark>ï¼ˆæ±¡ç‚¹åŸºæœ¬åŒºå—ï¼‰ã€‚å¦‚æœ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(i)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">)</span></span></span></span> åŸºæœ¬ç¨‹åºå—åŒ…å«ä¸€ä¸ªæ¡ä»¶å€¼ä¸ºæ±¡ç‚¹çš„  <code>JUMPI</code>  æ“ä½œç ï¼Œä¸” <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(ii)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">)</span></span></span></span> åœ¨æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ—¶æ¡ä»¶å€¼ä¸åŒï¼Œåˆ™è¯¥åŸºæœ¬ç¨‹åºå—ä¸ºæ±¡ç‚¹ç¨‹åºå—ã€‚</p>\n<p><mark><strong>å®šä¹‰ 5.4</strong></mark>ï¼ˆæ±¡ç‚¹åˆçº¦ï¼‰ã€‚å¦‚æœæ™ºèƒ½åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> åŒ…å«è‡³å°‘ä¸€ä¸ªæ±¡ç‚¹åŸºæœ¬åŒºå—ï¼Œåˆ™è¯¥åˆçº¦ä¸ºæ±¡ç‚¹åˆçº¦ã€‚</p>\n<p>å¦‚æœæ²¡æœ‰æ±¡ç‚¹åŸºæœ¬åŒºå—ï¼Œåˆ™ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œè¿‡ç¨‹å®Œå…¨ç›¸åŒã€‚å› æ­¤ï¼ŒAPE ç­‰åŒäºå¤©çœŸæ¨¡ä»¿æ”»å‡»ï¼ˆå³ A åªéœ€å‘å‡º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å¹¶çœç•¥æ­¥éª¤ 4 , 5 å³å¯æ¨¡ä»¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªæœ‰æ±¡ç‚¹çš„åŸºæœ¬åŒºå—ï¼Œåˆ™ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œä¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¸åŒã€‚ä¸ºäº†å¤åˆ¶ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å°†æ±¡ç‚¹åˆçº¦æ›¿æ¢ä¸ºå¯¹æŠ—åˆçº¦ï¼Œä¿ç•™ä¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ç›¸åŒçš„æ‰§è¡Œé€»è¾‘ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/focthg.png\" alt=\"å›¾ 4ï¼šç¤ºä¾‹ä¸­æ¨¡ä»¿äº‹åŠ¡çš„æ±¡ç‚¹ä¼ æ’­ï¼ˆå‚è§å›¾ 2ï¼Œç¬¬ 3.4 èŠ‚ï¼‰ã€‚CALLER å¼•å…¥ä¸€ä¸ªæ±¡ç‚¹å€¼ï¼Œå¹¶ä¼ æ’­åˆ° JUMPI æ¡ä»¶\" /></p>\n<p><strong>æ±¡ç‚¹ä¼ æ’­ç¤ºä¾‹</strong>ï¼šåœ¨å›¾ 4 ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†åŠ¨æ€æ±¡ç‚¹åˆ†æå¦‚ä½•åœ¨ç»™å®šæ¶æ„åœ°å€ 0xab...cd çš„æƒ…å†µä¸‹ï¼Œè·Ÿè¸ªæ¿€åŠ±ç¤ºä¾‹ï¼ˆå‚è§å›¾ 2ï¼Œç¬¬ 3.4 èŠ‚ï¼‰ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‰§è¡Œæƒ…å†µã€‚æ‰§è¡Œåï¼Œæ±¡ç‚¹ä»  <code>CALLER</code>  ä¼ æ’­åˆ°  <code>JUMPI</code>  çš„æ¡ä»¶å€¼ï¼ˆå‚è§ PC 0xb27ï¼Œå›¾ 4ï¼‰ã€‚æ­¤å¤–ï¼Œæ¡ä»¶å€¼ä¸º  <code>False</code> ï¼Œä¸æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ—¶ä¸åŒã€‚å› æ­¤ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> çŸ¥é“å®šåˆ¶çš„æ¸…ç®—åˆçº¦å·²è¢«ç·æ±¡ï¼Œéœ€è¦æ›¿æ¢ã€‚</p>\n<h2 id=\"step-4-patch-identifier\"><a class=\"anchor\" href=\"#step-4-patch-identifier\">#</a> Step 4 : Patch Identifier</h2>\n<p>å›æƒ³ä¸€ä¸‹ï¼Œæ±¡ç‚¹åŸºæœ¬åŒºå—å¯ä»¥é¿å… <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æˆåŠŸé€€å‡ºã€‚å› æ­¤ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> è¯•å›¾ç”¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{ai}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span>  æ›¿æ¢æœ‰æ±¡ç‚¹çš„åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> ã€‚æ­¤å¤–ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> è¿˜éœ€è¦æ›¿æ¢æ­¥éª¤ 2 ä¸­è¯†åˆ«å‡ºçš„å—ç›Šäººè´¦æˆ·ï¼Œä»¥ä¾¿æ”¶å– <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¸­äº§ç”Ÿçš„è´¢åŠ¡æ”¶å…¥ã€‚ä¿®è¡¥æ ‡è¯†ç¬¦çš„ç›®çš„æ˜¯æ£€æµ‹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\mathrm{sc}_{vi}\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span></span></span></span>  ä¸­æ‰€æœ‰éœ€è¦ä¿®è¡¥å’Œæ›¿æ¢çš„åˆåŒï¼Œä»¥ä¾¿æˆåŠŸæ¨¡ä»¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚æ ¹æ®å¯¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> çš„è°ƒç”¨æ˜¯æ¥è‡ªäº¤æ˜“è¿˜æ˜¯æ¥è‡ªåˆçº¦ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> éœ€è¦åŒºåˆ†ä»¥ä¸‹ä¸¤ç§æƒ…å†µã€‚æˆ‘ä»¬ç”¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">â€¾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.78056em;vertical-align:-0.15em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> è¡¨ç¤ºå¿…é¡»ä¿®è¡¥å’Œæ›¿æ¢çš„åˆåŒã€‚</p>\n<p><strong>ä»äº‹åŠ¡ä¸­è°ƒç”¨</strong>ï¼šå½“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> è°ƒç”¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> æ—¶ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> åº”å°† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„  <code>to</code>  åœ°å€ä» <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> ä¿®æ”¹ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ã€‚</p>\n<p><strong>ä»åˆçº¦è°ƒç”¨</strong>ï¼šå¦‚æœå¯¹å—æ±¡æŸ“åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> çš„è°ƒç”¨æ˜¯ç¡¬ç¼–ç ï¼ˆå­—èŠ‚ç æˆ–å­˜å‚¨ï¼‰åœ¨è°ƒç”¨è€…åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>j</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vj}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9566680000000001em;vertical-align:-0.286108em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.67056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span>  ä¸­çš„ï¼ˆå‚è§å›¾ 5ï¼‰ï¼Œåˆ™ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> åº”åŒæ—¶æ›¿æ¢ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vj}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> ï¼Œä»¥ä¿®è¡¥ç¡¬ç¼–ç è¯­å¥ã€‚å³ä½¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vj}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> æ²¡æœ‰è¢«æ±¡æŸ“ï¼Œè¿™ä¹Ÿæ˜¯å¿…è¦çš„ã€‚ä¸Šè¿°ä¿®è¡¥ç¨‹åºå¯åå¤åº”ç”¨äºéšåçš„ç¡¬ç¼–ç åˆçº¦è°ƒç”¨ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/d3p0xv.png\" alt=\"å›¾ 5ï¼šå¯¹æ±¡ç‚¹åˆçº¦ scvi çš„è°ƒç”¨è¢«ç¡¬ç¼–ç åˆ°åˆçº¦ scv j ä¸­ã€‚è¦æ‰§è¡Œ APEï¼ŒA éœ€è¦åŒæ—¶æ›¿æ¢ scvi å’Œ scvj\" /></p>\n<h2 id=\"step-5-smart-contract-synthesis\"><a class=\"anchor\" href=\"#step-5-smart-contract-synthesis\">#</a> Step 5 : Smart Contract Synthesis</h2>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¼€å§‹åˆæˆå¯¹æŠ—æ€§åˆçº¦ï¼Œä»¥æ›¿æ¢è¡¥ä¸æ ‡è¯†ç¬¦æ£€æµ‹åˆ°çš„æ¯ä¸ª <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">â€¾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.78056em;vertical-align:-0.15em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span>ï¼ˆå‚è§ç¬¬ 5.4 èŠ‚ï¼‰ã€‚ä»é¡¶å±‚è®¾è®¡æ¥è¯´ï¼Œä¸ºäº†åˆæˆ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å¤åˆ¶äº† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">â€¾</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\overline{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.78056em;vertical-align:-0.15em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.63056em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.55056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> çš„å­—èŠ‚ç ï¼Œå¹¶åšäº†å¦‚ä¸‹ä¿®æ”¹ã€‚</p>\n<p>å¯¹äºæœ‰æ±¡ç‚¹çš„åˆçº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span>ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ä¼šä¿®æ”¹æ¯ä¸ªæœ‰æ±¡ç‚¹çš„åŸºæœ¬ä»£ç å—ï¼Œä»¥ç¡®ä¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> éµå¾ªä¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> ç›¸åŒçš„ä»£ç è·¯å¾„ï¼Œå°½ç®¡  <code>JUMPI</code>  æ¡ä»¶å¯èƒ½ä¸ä¸€è‡´ã€‚å…·ä½“æ¥è¯´ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}(i)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">)</span></span></span></span> å°†  <code>JUMPI</code>  æ›¿æ¢ä¸º  <code>JUMP</code> ï¼Œå¯¼è‡´æ— æ¡ä»¶è·³è½¬ï¼Œæˆ– <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mi>i</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(ii)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">)</span></span></span></span> åˆ é™¤  <code>JUMPI</code> ï¼Œå¯¼è‡´ä¸è·³è½¬ã€‚å¦‚æœ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub><mo stretchy=\"true\">^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathrm{sc}_{vi}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.82056em;vertical-align:-0.15em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6705599999999999em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span class=\"svg-align\" style=\"top:-3.43056em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span> çš„è°ƒç”¨è¢«ç¡¬ç¼–ç åœ¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vj}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> ä¸­ï¼ˆå‚è§å›¾ 5ï¼‰ï¼Œåˆ™ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> éœ€è¦ä¿®æ”¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{a j}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œå°†åˆçº¦è°ƒç”¨ä» <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{aj}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span></span></span></span> é‡å®šå‘åˆ° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚æ­¤å¤–ï¼Œç”±äºæ¯ä¸ªæ–°éƒ¨ç½²çš„å¯¹æŠ—æ€§åˆçº¦éƒ½æœ‰ä¸€ä¸ªç©ºå­˜å‚¨ç©ºé—´ï¼Œå› æ­¤åœ¨æ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ—¶ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å¯èƒ½ä¼šä»å…¶å­˜å‚¨ç©ºé—´ä¸­åŠ è½½ä¸€ä¸ªä¸ä¸€è‡´çš„å€¼ã€‚å› æ­¤ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ä¼šè¿›ä¸€æ­¥ä¿®æ”¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä»¥æ¢å¤åŠ è½½ã€‚</p>\n<p>ä¸Šè¿°ä¿®æ”¹å¯ç¡®ä¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å…·æœ‰ç›¸åŒçš„æ‰§è¡Œè·¯å¾„ï¼ˆä»£ç å—å’Œåˆçº¦ï¼‰ï¼Œä½†ä¸èƒ½ä¿è¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> è·å¾—æ‰€äº§ç”Ÿçš„æ”¶ç›Šã€‚ä¾‹å¦‚ï¼Œåœ¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¸­äº§ç”Ÿçš„æ”¶å…¥å¯èƒ½ä¼šè¢«å‘é€åˆ° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¸­ç¡¬ç¼–ç çš„è´¦æˆ·<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚åˆæˆçš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å¤åˆ¶äº† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>v</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{vi}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¸­çš„å­—èŠ‚ç ï¼Œå¹¶å¯èƒ½æŒ‰ç…§ç›¸åŒçš„æ–¹å¼ä¼ è¾“ï¼ˆå³å‘é€åˆ° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">a_v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œè€Œä¸æ˜¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æ§åˆ¶çš„è´¦æˆ·ï¼‰ã€‚å› æ­¤ï¼Œä¸ºäº†è·å–æ‰€äº§ç”Ÿçš„æ”¶å…¥ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> éœ€è¦é€šè¿‡ä¸´æ—¶ä¿®æ”¹ EVM å†…å­˜å’Œå‘ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ³¨å…¥æ”¶å…¥æ”¶é›†é€»è¾‘æ¥é‡å®šå‘ç›¸å…³çš„èµ„äº§è½¬ç§»ã€‚æœ€ç»ˆï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ä¼šæ ¹æ®æ‰“è¡¥ä¸åçš„å­—èŠ‚ç å¤§å°å˜åŒ–æ›´æ–°è·³è½¬ç›®çš„åœ°ã€‚</p>\n<h2 id=\"step-6-validation\"><a class=\"anchor\" href=\"#step-6-validation\">#</a> Step 6 : Validation</h2>\n<p>æœ€åï¼ŒAPE ä¼šåœ¨äº¤æ˜“æŒ–çŸ¿å‰æœ¬åœ°éªŒè¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚APE å¤±è´¥çš„åŸå› æœ‰ä¸¤ä¸ªï¼š</p>\n<ol>\n<li>æ‰§è¡Œå¯èƒ½å¤±è´¥</li>\n<li>è´¢åŠ¡æ”¶å…¥æ— æ³•å¼¥è¡¥éƒ¨ç½²å¯¹æŠ—æ€§åˆçº¦å’Œæ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æˆæœ¬ã€‚</li>\n</ol>\n<p>ä¸ºäº†å¯¹æ”»å‡»è¿›è¡Œå…·ä½“éªŒè¯ï¼Œæ¶æ„çŸ¿å·¥ä¼šéƒ¨ç½²æ¯ä¸ª <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">c</mi></mrow><mrow><mi>a</mi><mi>i</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{sc}_{ai}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">s</span><span class=\"mord mathrm\">c</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œå¹¶åœ¨æœ¬åœ°çš„æœ€æ–°åŒºå—é“¾çŠ¶æ€ä¸Šæ‰§è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å°†æ”¶åˆ°çš„æ‰€æœ‰ä»£å¸è½¬æ¢ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span>ï¼Œä»¥æ£€æŸ¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯å¦äº§ç”Ÿåˆ©æ¶¦ã€‚åªæœ‰å½“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> ä¸­çš„æ”¶å…¥æ¶µç›–æ‰€æœ‰äº¤æ˜“è´¹ç”¨ï¼ˆåŒ…æ‹¬æ™ºèƒ½åˆçº¦éƒ¨ç½²è´¹ç”¨ï¼‰æ—¶ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ‰èƒ½äº§ç”Ÿåˆ©æ¶¦ã€‚å›æƒ³ä¸€ä¸‹ï¼Œå¯¹æŠ—æ€§åˆçº¦çš„éƒ¨ç½²ã€æ¨¡ä»¿æ‰§è¡Œå’Œèµ„äº§äº¤æ¢å¯ä»¥åœ¨ä¸€æ¬¡æ”»å‡»äº¤æ˜“ä¸­å®Œæˆã€‚å¦‚æœéªŒè¯æˆåŠŸï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> å°±ä¼šåœ¨ä¸‹ä¸€ä¸ªåŒºå—ä¸­åŒ…å«æ”»å‡»äº¤æ˜“ï¼ˆå‰ç½®è¿è¡Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼‰ã€‚å¦åˆ™ï¼Œæ”»å‡»ä¸­æ­¢ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> æ— éœ€æ‰¿æ‹…ä»»ä½•è´¹ç”¨ï¼Œå³ APE æ— é£é™©ã€‚</p>\n<h2 id=\"limitations\"><a class=\"anchor\" href=\"#limitations\">#</a> Limitations</h2>\n<p>APE çš„è®¾è®¡å’Œå®æ–½æœ‰è®¸å¤šé™åˆ¶æ¡ä»¶ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å‡è®¾å¯¹æ‰‹æ‹¥æœ‰æˆåŠŸæ‰§è¡Œ APE æ‰€éœ€çš„è¶³å¤Ÿæ•°é‡çš„å‰æœŸèµ„äº§ã€‚é‰´äºé—ªå­˜è´·æ¬¾çš„å¹¿æ³›ä½¿ç”¨ï¼Œå‰æœŸèµ„æœ¬è¦æ±‚å·²è¿åˆƒè€Œè§£ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/0df427.png\" alt=\"æ¸…å• 1ï¼šä»»ä½•æä¾›ç”±å…¶ç§äººå¯†é’¥ç­¾åçš„ ECDSA ç­¾åçš„è´¦æˆ·éƒ½å¯ä»¥ä» Vault æå–èµ„äº§\" /></p>\n<p>å½“éœ€è¦è¿›è¡Œå¤æ‚çš„è¯­ä¹‰é‡ç»„æ—¶ï¼ŒAPE å°±ä¸é€‚ç”¨äº†ã€‚æˆ‘ä»¬åœ¨æ¸…å• 1 ä¸­ä¸¾ä¾‹è¯´æ˜ï¼Œåˆçº¦ Vault å…è®¸ä»»ä½•æä¾›ç”±å…¶ç§é’¥ç­¾ç½²çš„æœ‰æ•ˆ ECDSA ç­¾å <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>r</mi><mo separator=\"true\">,</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(v, r, s)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">)</span></span></span></span> çš„è´¦æˆ·æå–èµ„äº§ã€‚ç”±äºè¿™ç§ &quot;ä»»ä½•äººéƒ½å¯ä»¥æå–&quot; çš„é€»è¾‘ï¼ŒVault çš„è®¾è®¡ä½¿å¾—æå–äº¤æ˜“å®¹æ˜“å—åˆ°æ¨¡ä»¿æ”»å‡»ã€‚ç„¶è€Œï¼Œè¦è®©å¯¹æ‰‹è‡ªåŠ¨æ‰§è¡Œæ”»å‡»ï¼Œå°±éœ€è¦è‡ªåŠ¨è¿›è¡Œè¯­ä¹‰ç†è§£å’Œç­¾åç”Ÿæˆï¼Œè€Œ APE å¹¶ä¸æ”¯æŒè¿™ä¸€ç‚¹ã€‚</p>\n<p>æ­¤å¤–ï¼ŒAPE æ— æ³•æ¨¡ä»¿éåŸå­ç­–ç•¥ï¼Œå³è·¨è¶Šå¤šä¸ªç‹¬ç«‹åŒºå—é“¾äº¤æ˜“çš„ç­–ç•¥ã€‚ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªèµ„äº§äº¤æ¢å—å®³è€…äº¤æ˜“ï¼Œä¸‰æ˜æ²»æ”»å‡»è€…å¯èƒ½ä¼šåˆ›å»ºä¸¤ä¸ªå¯¹æŠ—æ€§äº¤æ˜“ï¼Œä»å—å®³è€…èº«ä¸Šæ¦¨å–åˆ©æ¶¦ã€‚APE çš„ç›®æ ‡ä¸æ˜¯äº§ç”Ÿè¿™ç§æ”»å‡»ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸‰æ˜æ²»æ”»å‡»çš„æ”»å‡»è€…åˆ›å»ºäº†ä¸€ä¸ªåŒ…è£¹å—å®³è€…äº¤æ˜“æ‰€çš„åŸå­å¤¹å¿ƒäº¤æ˜“ï¼ŒAPE å°±èƒ½æˆåŠŸæŒ‘æˆ˜è¯¥äº¤æ˜“ã€‚</p>\n<p>åœ¨æˆ‘ä»¬çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å‡è®¾å—å®³è€…ä¸çŸ¥é“ APE å¯¹æ‰‹ï¼Œç‰¹åˆ«æ˜¯ APE æ”»å‡»ç­–ç•¥ã€‚å¦‚æœå—å®³è€…æ„è¯†åˆ°äº† APEï¼Œé‚£ä¹ˆå—å®³è€…å¯ä»¥é‡æ–°è®¾è®¡å…¶æ™ºèƒ½åˆçº¦ï¼Œä½¿å…¶äº¤æ˜“æ›´åšå›ºï¼Œä»¥æŠµå¾¡ APE å¯¹æ‰‹çš„æ”»å‡»ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ç¬¬ 6 èŠ‚ä¸­æ‰€å±•ç¤ºçš„ï¼Œæœ¬æ–‡ä»‹ç»çš„æ”»å‡»æ–¹æ³•åœ¨å®è·µä¸­éå¸¸æœ‰æ•ˆã€‚æˆ‘ä»¬å°†åœ¨ç¬¬ 8 èŠ‚æ¦‚è¿°å¯èƒ½çš„åå‡»ç­–ç•¥ã€‚</p>\n<h1 id=\"ape-historical-evaluation\"><a class=\"anchor\" href=\"#ape-historical-evaluation\">#</a> APE Historical Evaluation</h1>\n<p><strong>å®ç°</strong>ï¼šæˆ‘ä»¬ç”¨ 6582 è¡Œ Golang ä»£ç å®ç°äº† APEã€‚æ›´å¤šè¯¦æƒ…å¯å‚è§é™„å½• Bã€‚</p>\n<p>æˆ‘ä»¬å¼€å§‹è¯„ä¼° APE ä»¿çœŸæ”»å‡»åœ¨ä»¥å¤ªåŠå’Œ BSC ä¸Šä¸€å¹´æ—¶é—´å†…ï¼ˆä» 2021 å¹´ 8 æœˆ 1 æ—¥åˆ° 2022 å¹´ 7 æœˆ 31 æ—¥ï¼‰ çš„è¡¨ç°ï¼Œä»¥å¤ªåŠå’Œ BSC æ˜¯æœ¬æ–‡æ’°å†™æ—¶å¸‚å€¼æœ€é«˜çš„ä¸¤ä¸ªæ”¯æŒæ™ºèƒ½åˆçº¦çš„åŒºå—é“¾ã€‚æˆ‘ä»¬åˆ†åˆ«å¯¹ä»¥å¤ªåŠå’Œ BSC ä¸Šçš„ 431,416,565 ç¬”å’Œ 2,366,970,381 ç¬”è¿‡å¾€äº¤æ˜“è¿›è¡Œäº†è¯„ä¼°ã€‚</p>\n<h2 id=\"methodology-and-setup\"><a class=\"anchor\" href=\"#methodology-and-setup\">#</a> Methodology and Setup</h2>\n<p>æˆ‘ä»¬å°†è¿‡å»çš„æ¯ç¬”äº¤æ˜“éƒ½è§†ä¸ºæ½œåœ¨çš„å—å®³äº¤æ˜“ï¼Œå¹¶å¯¹å…¶åº”ç”¨ APE ç®¡é“ã€‚å¦‚æœæ”»å‡»æˆåŠŸï¼Œæˆ‘ä»¬ä¼šä¿å­˜ç›¸å…³çš„åˆæˆæ™ºèƒ½åˆçº¦ï¼Œä»¥åŠäº§ç”Ÿçš„æ”¶ç›Šå’Œæ‰§è¡Œæˆæœ¬ï¼ˆå¦‚åˆçº¦éƒ¨ç½²å’Œæ¨¡ä»¿äº¤æ˜“çš„ 'gas' æˆæœ¬ï¼‰ã€‚å¦‚æœä¸éœ€è¦æ›¿æ¢åˆçº¦ï¼ŒAPE ä¼šé€€å›åˆ°å¤©çœŸçš„æ¨¡ä»¿æ”»å‡»ï¼Œæˆ‘ä»¬å°†å…¶ä½œä¸ºåŸºçº¿å•ç‹¬åˆ—å‡ºã€‚</p>\n<p>è™½ç„¶å®Œæ•´å­˜æ¡£èŠ‚ç‚¹å¯ä»¥æä¾›ä»»ä½•è¿‡å»åŒºå—çš„åŒºå—é“¾çŠ¶æ€ï¼Œä½†å®ƒå¹¶ä¸ç›´æ¥å…è®¸åœ¨ä»»æ„è¿‡å»åŒºå—é“¾çŠ¶æ€ä¸Šæ‰§è¡Œä»»æ„äº¤æ˜“ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL2dvLWV0aGVyZXVt\">go-ethereum</span> å’Œ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2JuYi1jaGFpbi9ic2M=\">bsc</span> EVM è¿›è¡Œç›¸åº”çš„å®šåˆ¶ï¼Œä¸ºä»¥å¤ªåŠå’Œ BSC å®ç°äº†ä¸€ä¸ªä»¿çœŸå™¨ã€‚æ¨¡æ‹Ÿå™¨ä»å­˜æ¡£èŠ‚ç‚¹è·å–å†å²çŠ¶æ€ï¼Œå¹¶è¿”å›ä»»ä½•ç»™å®šäº¤æ˜“çš„æ‰§è¡Œç»“æœã€‚æˆ‘ä»¬åœ¨ Ubuntu 20.04.3 LTS ä¸Šè¿›è¡Œå®éªŒï¼Œè¯¥ç³»ç»Ÿé…å¤‡ AMD 3990Xï¼ˆ64 æ ¸ï¼‰ã€256GB å†…å­˜å’Œ 8TB NVMe SSDã€‚</p>\n<h2 id=\"evaluation-results\"><a class=\"anchor\" href=\"#evaluation-results\">#</a> Evaluation Results</h2>\n<p>åœ¨ä»¥å¤ªåŠä¸Šï¼Œä»æ€»è®¡ 431,416,565 ä¸ªæ½œåœ¨çš„é“¾ä¸ŠæŒ–æ˜çš„å—å®³äº¤æ˜“ä¸­ï¼Œæˆ‘ä»¬å‘ç°äº† 43,979 ä¸ªï¼ˆ0.0102%ï¼‰å®¹æ˜“å—åˆ°å¤©çœŸæ¨¡ä»¿æ”»å‡»çš„äº¤æ˜“ï¼ˆå‚è§è¡¨ 3ï¼‰ã€‚APE æˆåŠŸæ”»å‡»äº† 26,127 ä¸ªï¼ˆ0.0061%ï¼‰å—å®³è€…äº¤æ˜“ï¼Œå…¶ä¸­æ¶‰åŠæ›¿æ¢ 665 ä¸ªç‹¬ç‰¹çš„æ™ºèƒ½åˆçº¦ã€‚</p>\n<p>ä» 2,366,970,381 ä¸ª BSC äº¤æ˜“ä¸­ï¼Œæˆ‘ä»¬å‘ç°å¤©çœŸæ¨¡ä»¿é€‚ç”¨äº 516,128 ä¸ªï¼ˆ0.0218%ï¼‰å—å®³è€…äº¤æ˜“ï¼Œè€Œ APE åˆ™æ•è·äº† 52,799 ä¸ªï¼ˆ0.0022%ï¼‰é¢å¤–çš„äº¤æ˜“ï¼Œæ¶‰åŠ 1,193 ä¸ªç‹¬ç‰¹çš„åˆçº¦ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/xkstkq.png\" alt=\"è¡¨ 3ï¼šä»£è¡¨æˆåŠŸæ”»å‡»äº¤æ˜“å’Œå”¯ä¸€å—å®³è€…åˆåŒçš„æ€»ä½“æ”»å‡»ç»Ÿè®¡æ•°æ®\" /></p>\n<p><strong>æ”»å‡»æ”¶ç›Š</strong>ï¼šä¸ºäº†åˆç†è¡¡é‡æ”»å‡»åˆ©æ¶¦ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å¯¼çº¿éƒ¨ç½²å’Œæ¨¡ä»¿äº¤æ˜“æ‰€éœ€çš„äº¤æ˜“è´¹æˆæœ¬ã€‚å› ä¸ºåŒºå—ç©ºé—´æ˜¯æœ‰é™çš„ï¼ˆä¾‹å¦‚ï¼Œå—ä»¥å¤ªåŠåŒºå—â€˜gasâ€™é™åˆ¶ï¼‰ï¼Œå› æ­¤åœ¨æ‰§è¡Œ APE æ”»å‡»æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ•æ‰çŸ¿å·¥åœ¨ä¸åŒ…å«å—å®³è€…äº¤æ˜“æ—¶æ”¾å¼ƒäº¤æ˜“è´¹çš„æœºä¼šæˆæœ¬ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç”¨ APE å—å®³äº¤æ˜“çš„äº¤æ˜“è´¹æ¥é‡åŒ–è¿™ç§æœºä¼šæˆæœ¬ã€‚åˆ©æ¶¦ä»¥æ¯ç¬”å—å®³è€…äº¤æ˜“æ—¶çš„ ETH (BNB) ä»·æ ¼æ¢ç®—æˆç¾å…ƒã€‚è¯·æ³¨æ„ï¼ŒETH (BNB) æ˜¯ä»¥å¤ªåŠ (BSC) ä¸Šçš„åŸç”ŸåŠ å¯†è´§å¸ã€‚</p>\n<p>æˆ‘ä»¬åœ¨å›¾ 6 ä¸­å±•ç¤ºäº† APE çš„ç´¯ç§¯åˆ©æ¶¦ã€‚åœ¨ä»¥å¤ªåŠä¸Šï¼Œä¸å¤©çœŸæ¨¡ä»¿ç›¸æ¯”ï¼ŒAPE å¯ä»¥å°†æ¨¡ä»¿æ”»å‡»çš„åˆ©æ¶¦æé«˜ 973.6%ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å‘ç° APEï¼ˆåŒ…æ‹¬å¤©çœŸæ¨¡ä»¿æ”»å‡»ï¼‰æ€»å…±äº§ç”Ÿäº† 1.4896 äº¿ç¾å…ƒçš„åˆ©æ¶¦ï¼Œè€Œå¤©çœŸæ¨¡ä»¿æ”»å‡»åœ¨ç›¸åŒæ—¶é—´æ®µå†…çš„ç´¯è®¡åˆ©æ¶¦ä»…ä¸º 1387 ä¸‡ç¾å…ƒã€‚é€šè¿‡é‡åŒ–æ¨¡ä»¿æ”»å‡»æ‰€éœ€çš„å‰æœŸèµ„é‡‘ï¼Œæˆ‘ä»¬å‘ç° 99.31% çš„æˆåŠŸæ”»å‡»æ‰€éœ€çš„èµ„é‡‘å°‘äº 5 ETHï¼ˆåŒ…æ‹¬äº¤æ˜“è´¹ï¼‰ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/btxg6m.png\" alt=\"å›¾ 6ï¼šä» 2021 å¹´ 8 æœˆ 1 æ—¥åˆ° 2022 å¹´ 7 æœˆ 31 æ—¥ï¼Œä»¥å¤ªåŠä¸Šçš„æ¨¡ä»¿æ”»å‡»æ€»åˆ©æ¶¦ï¼ˆåŒ…æ‹¬ APE å’Œå¤©çœŸæ¨¡ä»¿ï¼‰è¾¾åˆ° 1.4896 äº¿ç¾å…ƒï¼Œè€Œ APE çš„ç´¯è®¡åˆ©æ¶¦ä¸º 1.3508 äº¿ç¾å…ƒã€‚åœ¨ BSC ä¸Šï¼ŒAPE å’Œå¤©çœŸæ¨¡ä»¿åˆ†åˆ«äº§ç”Ÿ 2945 ä¸‡ç¾å…ƒå’Œ 1325 ä¸‡ç¾å…ƒ\" /></p>\n<p>åœ¨ BSC ä¸Šï¼Œå¤©çœŸæ¨¡ä»¿æ”»å‡»çš„åˆ©æ¶¦ç´¯è®¡ä¸º 1325 ä¸‡ç¾å…ƒï¼Œè€Œ APE åˆ™å¸¦æ¥äº† 2 945 ä¸‡ç¾å…ƒçš„é¢å¤–åˆ©æ¶¦ï¼ˆ+222.3%ï¼‰ã€‚99.48% çš„ BSC æ¨¡ä»¿æ”»å‡»æ‰€éœ€çš„é¢„ä»˜èµ„é‡‘ä½äº 5 BNBã€‚</p>\n<p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œä¸å¤©çœŸæ¨¡ä»¿ç›¸æ¯”ï¼ŒAPE è·å–çš„å¹³å‡åˆ©æ¶¦é«˜å‡ºä¸€ä¸ªæ•°é‡çº§ï¼ˆå‚è§è¡¨ 3ï¼‰ã€‚ä¸ºè¿›ä¸€æ­¥äº†è§£æ˜“å— APE å½±å“çš„äº¤æ˜“ï¼Œæˆ‘ä»¬å°†åœ¨ç¬¬ 6.3 èŠ‚ä¸­è¿›è¡Œåˆ†æã€‚</p>\n<p><strong>Gas æ¶ˆè€—</strong>ï¼šAPE å¸¦æ¥äº†é¢å¤–çš„ 'gas' æˆæœ¬ï¼Œå› ä¸ºå¯¹æ‰‹å¯èƒ½éœ€è¦éƒ¨ç½²å¯¹æŠ—æ€§åˆçº¦ã€‚æˆ‘ä»¬ç¡®å®šäº†ä¸¤ä¸ªä¸ 'gas' ç›¸å…³çš„çº¦æŸæ¡ä»¶ï¼Œæ”»å‡»å—æ­¤çº¦æŸã€‚æ”»å‡»çš„æ”¶å…¥å¿…é¡»èƒ½å¤Ÿæ”¯ä»˜ 'gas' æ”¯å‡ºï¼Œè€Œä¸”ç”¨äºéƒ¨ç½²å’Œæ‰§è¡Œæ”»å‡»äº¤æ˜“çš„ 'gas' åº”ä¿æŒåœ¨åŒºå— 'gas' é™é¢ä»¥ä¸‹ã€‚</p>\n<p>åœ¨ä»¥å¤ªåŠä¸Šï¼Œæˆ‘ä»¬å‘ç° APE å¹³å‡è€—è´¹ 0.98MÂ±0.74M 'gas'ï¼Œè€Œå¤©çœŸæ¨¡ä»¿è€—è´¹ 0.45MÂ±0.50M 'gas'ï¼ˆå‚è§å›¾ 7ï¼‰ã€‚ä½œä¸ºå‚è€ƒï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œä»¥å¤ªåŠé‡‡ç”¨äº†åŠ¨æ€åŒºå—è€—æ°”é‡é™åˆ¶ï¼Œå¹³å‡è€—æ°”é‡ä¸º 29.77Mã€‚åœ¨å·²è¯†åˆ«çš„å†å²äº¤æ˜“ä¸­ï¼ŒAPE çš„æœ€å¤§æ°”ä½“æ¶ˆè€—é‡ä¸º 23.11Mï¼Œä½äºä»¥å¤ªåŠçš„å¹³å‡å— 'gas' é™åˆ¶ã€‚å¹³å‡è€Œè¨€ï¼Œå¯¹æŠ—æ€§åˆçº¦éƒ¨ç½²å æ”»å‡»æ°”ä½“æ¶ˆè€—çš„ 48.42%ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/0zsz8m.jpg\" alt=\"å›¾ 7ï¼šä»¥å¤ªåŠä¸Šçš„ APE æ¯æ¬¡æ”»å‡»å¹³å‡æ¶ˆè€— 0.98MÂ±0.74M ç“¦æ–¯ï¼Œè€Œå¤©çœŸæ¨¡ä»¿æ”»å‡»æ¶ˆè€— 0.45MÂ±0.50M ç“¦æ–¯ã€‚ç„¶è€Œï¼Œå¯¹ BSC çš„å¤©çœŸæ¨¡ä»¿æ”»å‡»çš„å¹³å‡è€—æ°”é‡ï¼ˆ1.74MÂ±4.44Bï¼‰é«˜äº APE æ”»å‡»ï¼ˆ1.64MÂ±0.64Bï¼‰\" /></p>\n<p>å¹³å‡è€Œè¨€ï¼ŒBSC çš„åŒºå— 'gas' é™é¢é«˜äºï¼ˆ8 266 ä¸‡ï¼‰ä»¥å¤ªåŠï¼Œè¿™å°±ä¸ºæ¨¡æ‹Ÿæä¾›äº†æ›´å¤§çš„ç©ºé—´ã€‚æˆ‘ä»¬å‘ç°ï¼ŒAPEï¼ˆ1.64MÂ±0.64Bï¼‰å’Œå¤©çœŸæ¨¡ä»¿ï¼ˆ1.74MÂ±4.44Bï¼‰åœ¨ BSC ä¸Šçš„å¹³å‡è€—æ°”é‡éƒ½è¾ƒé«˜ã€‚å¯¹æŠ—æ€§åˆçº¦éƒ¨ç½²åœ¨ BSC ä¸Šçš„å¹³å‡è€—æ°”é‡æ˜¯ APE è€—æ°”é‡çš„ 53.04%ã€‚ä¸ä»¥å¤ªåŠç›¸åï¼ŒBSC ä¸Šçš„å¤©çœŸæ¨¡ä»¿å¹³å‡è€—æ°”é‡é«˜äº APEã€‚å› æ­¤ï¼Œæˆ‘ä»¬åˆ†æäº†è€—æ°”é‡è¶…è¿‡ 3M çš„ 82192 ç¬”å¤©çœŸçš„æ¨¡ä»¿äº¤æ˜“ã€‚å»é™¤ 80291 ä¸ªå¼‚å¸¸å€¼åï¼ŒBSC ä¸Šå¤©çœŸçš„æ¨¡ä»¿äº¤æ˜“çš„å¹³å‡è€—æ°”é‡ä¸º 0.48MÂ±0.55M ã€‚</p>\n<p><strong>å¯¹æŠ—æ€§åˆçº¦</strong>ï¼šå¹³å‡è€Œè¨€ï¼Œä¸€æ¬¡ APE æ”»å‡»éœ€è¦åœ¨ä»¥å¤ªåŠä¸Šæ›¿æ¢ 1.02 Â± 0.15 ä¸ªåˆçº¦ï¼Œåœ¨ BSC ä¸Šæ›¿æ¢ 1.05 Â± 0.23 ä¸ªåˆçº¦ã€‚æˆ‘ä»¬å‘ç°ï¼Œä¸è¢«æ›¿æ¢çš„å—å®³è€…åˆçº¦ç›¸æ¯”ï¼Œæ¯ä¸ªåˆæˆçš„å¯¹æ‰‹åˆçº¦å¹³å‡å° 60.95 Â± 19.19%ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ï¼ˆå‚è§è¡¨ 4ï¼‰ã€‚ç”±äº APE å¯èƒ½ä¼šç”¨åˆæˆä»£ç æ‰©å±•å—å®³æ–¹åˆçº¦ï¼Œæˆ‘ä»¬è¿˜è§‚å¯Ÿåˆ°äº† - 295.56% çš„è´Ÿç¼©å‡ï¼Œå³æœ€åæƒ…å†µä¸‹å¢åŠ äº† 295.56%ã€‚åœ¨ BSC ä¸Šï¼Œåˆçº¦å¤§å°çš„å¹³å‡ç¼©å‡ç‡ä¸º 57.59 Â± 18.69%ï¼Œæœ€å¤§ç¼©å‡ç‡ä¸º 613.33%ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/ctmgft.png\" alt=\"è¡¨ 4ï¼šå¯¹æŠ—æ€§åˆçº¦ç»Ÿè®¡ã€‚APE åœ¨ä»¥å¤ªåŠå’Œ BSC ä¸Šæœ€å¤šåˆ›å»º 3 ä¸ªå¯¹æŠ—æ€§åˆçº¦ï¼Œå¹³å‡å€¼åˆ†åˆ«ä¸º 1.02 å’Œ 1.05\" /></p>\n<h2 id=\"historical-analysis\"><a class=\"anchor\" href=\"#historical-analysis\">#</a> Historical Analysis</h2>\n<p>ä¸ºäº†ä» APE çš„æˆåŠŸä¸­è·å¾—å¯ç¤ºï¼Œæˆ‘ä»¬å¯¹ä»¥å¤ªåŠå’Œ BSC ä¸Šæ”¶ç›Šæœ€é«˜çš„å‰ 100 å APE å—å®³è€…è¿›è¡Œäº†äººå·¥æŠ•èµ„ï¼Œåˆ†åˆ«è·å¾—äº† 1.1343 äº¿ç¾å…ƒï¼ˆ83.97%ï¼‰å’Œ 2727 ä¸‡ç¾å…ƒï¼ˆ92.60%ï¼‰çš„åˆ©æ¶¦ã€‚è¡¨ 5 åˆ—ç¤ºäº†æ•´ä½“çš„è·¨è¡ŒåŠ¨å’Œåˆ©æ¶¦åˆ†é…æƒ…å†µã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ¦‚è¿°ç ”ç©¶ç»“æœçš„ç»†èŠ‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/66ipl1.png\" alt=\"è¡¨ 5ï¼šä»¥å¤ªåŠå’Œ BSC ä¸Šæ”¶ç›Šæœ€é«˜çš„å‰ 100 å APE å—å®³è€…çš„äº¤æ˜“å’Œåˆ©æ¶¦åˆ†å¸ƒã€‚æˆ‘ä»¬æœªèƒ½å¯¹ 31 ä¸ª BSC å—å®³è€…äº¤æ˜“è¿›è¡Œåˆ†ç±»\" /></p>\n<p><strong>å·²çŸ¥çš„ DeFi æ”»å‡»å’Œæ¼æ´</strong>ï¼šåœ¨ä»¥å¤ªåŠä¸Šï¼ŒAPE å‘ç°äº†ä¸ 13 ä¸ªå·²çŸ¥ DeFi æ”»å‡»ç›¸å¯¹åº”çš„ 17 ä¸ªé»‘å¸½äº¤æ˜“å’Œ 12 ä¸ªå®£ç§°çš„ç™½å¸½äº¤æ˜“ï¼Œæ€»å…±è·åˆ© 7374 ä¸‡ç¾å…ƒã€‚æœ€æ˜“è¢« APE æ”»å‡»çš„äº¤æ˜“ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ldGhlcnNjYW4uaW8vdHgvMHhjZDdkYWUxNDNhNGMwMjIzMzQ5YzE2MjM3Y2U0Y2Q3Njk2YjE2MzhkMTE2YTcyNzU1MjMxZWRlODcyYWI3MGZj\">0xcd7d...70fc</span> æ˜¯å¯¹ Popsicle Finance æ™ºèƒ½åˆçº¦çš„ DeFi æ”»å‡»ï¼Œäº§ç”Ÿäº† 2,025 ä¸‡ç¾å…ƒçš„ APE åˆ©æ¶¦ã€‚è¯·æ³¨æ„ï¼Œè¯¥ APE åˆ©æ¶¦ä½äºæŠ¥å‘Šçš„æ”»å‡»åˆ©æ¶¦ï¼Œå› ä¸ºæˆ‘ä»¬å°† APE çš„æ”¶ç›Šè½¬æ¢ä¸º ETHã€‚äº¤æ˜“æ‰€å¯èƒ½ä¼šäº§ç”Ÿè¿‡å¤šçš„æ»‘ç‚¹ï¼Œå°¤å…¶æ˜¯å¯¹äºè¾ƒé«˜çš„é‡‘é¢ã€‚</p>\n<p>æˆ‘ä»¬æ£€æµ‹åˆ°ä¸¤ç¬”äº¤æ˜“å¯èƒ½ä¸å·²æŠ«éœ²çš„ä¸¤ä¸ªåˆçº¦æ¼æ´æœ‰å…³ã€‚äº¤æ˜“ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ldGhlcnNjYW4uaW8vdHgvMHgyZTdkN2U3YTZlYjE1N2I5ODk3NGM4Njg3ZmJkODQ4ZDAxNThkMzdlZGMxMzAyZWEwOGVlNWRkYjM3NmJlZmVh\">0x2e7d..efea</span> å’Œ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ldGhlcnNjYW4uaW8vdHgvMHhlMTJhZTAxNWM4MDIzYmJlNjQwNTY2MmEzZGRmNWU4ZTEwNmU3ZjYyNTVlOTA1YjczMTJkY2Y2NWIyN2Q3NTVj\">0xe12a..755c</span> åˆ†åˆ«æ¶‰åŠ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmF1Y3R1cy5vcmcvYWN0aW9uLXJlcXVpcmVkLWNyaXRpY2FsLXZ1bG5lcmFiaWxpdHktM2Q0NDhkNGQwZGNi\">Auctus ACOWriter</span> æ¼æ´å’Œ <span class=\"exturl\" data-url=\"aHR0cHM6Ly90d2l0dGVyLmNvbS9wZWNrc2hpZWxkL3N0YXR1cy8xNTA5MDA5NzQ2NzQ0OTgzNTU2\">BMIZapper</span> æ¼æ´ä¸­æŠ¥å‘Šçš„å—å®³è€…åˆçº¦ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬æ— æ³•æ‰¾åˆ°æŠ«éœ²è¿™äº›äº¤æ˜“å…¬å¼€ä¿¡æ¯çš„åˆåŒæ‰§è¡Œè€…ã€‚</p>\n<p>åœ¨ BSC ä¸Šï¼ŒAPE å…±æ•è·äº† 22 æ¬¡ DeFi æ”»å‡»ï¼Œæ¶‰åŠ 40 ç¬”äº¤æ˜“ï¼Œå…±äº§ç”Ÿäº† 2239 ä¸‡ç¾å…ƒçš„ä»¿å†’åˆ©æ¶¦ã€‚</p>\n<p>è¡¨ 8 å’Œè¡¨ 9ï¼ˆé™„å½• Cï¼‰æ¦‚è¿°äº†å·²è¯†åˆ«çš„ DeFi æ”»å‡»å’Œæ¼æ´çš„è¯¦æƒ…ã€‚è¯·æ³¨æ„ï¼Œå¯¹äºæ¯ç¬”æ”»å‡»äº¤æ˜“ï¼Œæˆ‘ä»¬éƒ½ä¼šæ£€æŸ¥ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ldGhlcnNjYW4uaW8v\">etherscan.io</span> æ˜¯å¦è§‚å¯Ÿåˆ° P2P ç½‘ç»œä¸Šçš„æ”»å‡»ã€‚å¦‚æœ etherscan æ— æ³•ç›‘æµ‹åˆ° P2P ç½‘ç»œä¸Šçš„æ”»å‡»ï¼Œé‚£ä¹ˆæ”»å‡»å¾ˆå¯èƒ½æ˜¯ç§ä¸‹ä¼ æ’­ç»™çŸ¿å·¥ï¼ˆå¦‚ FaaSï¼‰çš„ã€‚æˆ‘ä»¬å‘ç°ï¼Œåœ¨ 12 æ¬¡ç™½å¸½æ”»å‡»äº¤æ˜“ä¸­ï¼Œæœ‰ 10 æ¬¡ï¼ˆå¯¹åº” 6 æ¬¡æ”»å‡»ï¼‰æ˜¯ç§ä¸‹ä¼ æ’­ç»™çŸ¿å·¥çš„ã€‚ç™½å¸½é»‘å®¢å¯èƒ½å‡ºäºä¸¤ä¸ªç›®çš„è€Œé€‰æ‹©ç§äººé€šä¿¡æ¸ é“ï¼š</p>\n<ol>\n<li>åŠ å¿«é“¾ä¸Šç™½å¸½äº¤æ˜“çš„åŒ…å«é€Ÿåº¦ï¼›</li>\n<li>å‡å°‘æ¨¡ä»¿æ”»å‡»çš„å¯èƒ½æ€§ã€‚</li>\n</ol>\n<p><strong>æ–°å‘ç°çš„æ¼æ´</strong>ï¼šAPE å‘ç°äº†äº”ä¸ªæœªå…³é—­çš„æ¼æ´ã€‚åœ¨è¿™äº›æ¼æ´ä¸­ï¼Œæœ€æœ‰åˆ©å¯å›¾çš„æ¼æ´åä¸º  <code>massDeposit</code> ï¼Œåœ¨ä»¥å¤ªåŠå’Œ BSC ä¸Šåˆ†åˆ«äº§ç”Ÿäº† 2858 ä¸‡ç¾å…ƒå’Œ 759.54 ä¸‡ç¾å…ƒçš„æ€»åˆ©æ¶¦ã€‚ä¸‹æ–‡å°†ä»‹ç»  <code>massDeposit</code>  æ¼æ´çš„æ¡ˆä¾‹ç ”ç©¶ï¼Œå…¶ä»–æ–°å‘ç°æ¼æ´çš„è¯¦æƒ…è§é™„å½• Cã€‚</p>\n<p><em>è´£ä»»æŠ«éœ²</em>ï¼šåœ¨æ’°å†™æœ¬æŠ¥å‘Šæ—¶ï¼Œæ‰€æœ‰å·²å‘ç°çš„æ¼æ´éƒ½å·²æ²¡æœ‰å¯ç”¨èµ„é‡‘ã€‚ç„¶è€Œï¼Œå°½ç®¡å­˜åœ¨å±é™©ï¼Œæ–°ç”¨æˆ·å¯èƒ½ä¼šåœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ä¸è¿™äº›åˆåŒè¿›è¡Œäº¤äº’ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€‰æ‹©é€šè¿‡ä¸“é—¨çš„åŒºå—é“¾æ¶ˆæ¯æœåŠ¡ï¼ˆ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jaGF0LmJsb2Nrc2Nhbi5jb20vc3RhcnQ=\">Blockscan Chat</span> by Etherscanï¼‰æ¥è”ç³»æœ‰æ¼æ´çš„æ™ºèƒ½åˆçº¦ã€‚ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬å‘ç°çš„æ‰€æœ‰æ˜“å—æ”»å‡»çš„åˆçº¦éƒ½æ˜¯åŒ¿åéƒ¨ç½²çš„ï¼Œæ²¡æœ‰æ˜æ˜¾çš„æ–¹æ³•å¯ä»¥è¯†åˆ«è¿™äº›åˆçº¦èƒŒåçš„å®ä½“æˆ–ä¸ªäººã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/9arfvr.png\" alt=\"æ¸…å• 2ï¼šAPE æ˜“å—æ”»å‡»çš„å­˜æ¬¾äººåˆçº¦ï¼Œä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨ massDeposit() å‡½æ•°å¹¶æå‡ºä¸€ä»½é‡‘åº“åˆçº¦ã€‚æˆ‘ä»¬çš„è¯„ä¼°ç»“æœè¡¨æ˜ï¼ŒAPE å¯èƒ½ä¼šç»™è¯¥åˆçº¦é€ æˆ 2,858 ä¸‡ç¾å…ƒçš„æ½œåœ¨æŸå¤±\" /></p>\n<p><em> <code>massDeposit</code>  æ¡ˆä¾‹ç ”ç©¶</em>ï¼š <code>massDeposit</code>  æ¼æ´çš„å‰èº«æ˜¯ä»¥å¤ªåŠä¸Šçš„ä¸€ä¸ª  <code>Depositer</code>  åˆçº¦ï¼ˆ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ldGhlcnNjYW4uaW8vYWRkcmVzcy8weGUyYzA3MWUxRTE5NTdBNjJmRERmMDE5OTAxOGUwNjFlYkZEM2FjMkM=\">0xe2c071e1E1957A62fDDf0199018e061ebFD3ac2C</span>ï¼‰ï¼ˆå‚è§æ¸…å• 2ï¼‰ã€‚æˆ‘ä»¬å‘ç°ï¼Œç”±äºä»¥ä¸‹æ¼æ´ç»†èŠ‚ï¼Œå­˜å…¥çš„èµ„é‡‘å¯èƒ½æ˜¯é€šè¿‡ APE æ”»å‡»ç›—å–çš„ã€‚å­˜æ¬¾äººåˆçº¦çš„  <code>massDeposit()</code>  å‡½æ•°ä»¥é‡‘åº“ä¸ºå‚æ•°ï¼Œé‡‘åº“æ˜¯æ¥æ”¶å­˜æ¬¾äººåˆçº¦å…¨éƒ¨èµ„é‡‘çš„åˆçº¦ï¼ˆå‚è§å›¾ 8aï¼‰ã€‚ä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨  <code>massDeposit()</code>  å‡½æ•°ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªä»»æ„çš„é‡‘åº“åˆçº¦åœ°å€ã€‚ç„¶åï¼Œå…è®¸ä¿é™©åº“ä»å­˜æ¬¾äººè´¦æˆ·ä¸­æ”¶å–èµ„äº§ã€‚æœ€åï¼Œå­˜æ¬¾äººè°ƒç”¨é‡‘åº“çš„  <code>setOwner()</code>  å‡½æ•°ï¼Œè¯•å›¾é…ç½®é‡‘åº“çš„æ‰€æœ‰æƒã€‚å½“è§‚å¯Ÿåˆ°è¿™æ ·çš„å¤§é‡å­˜æ¬¾äº¤æ˜“æ—¶ï¼ŒAPE çš„å¤„ç†å‘˜ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">A</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\">A</span></span></span></span></span> ä¼šå°† vault è¯†åˆ«ä¸ºå—ç›Šäººè´¦æˆ·ã€‚ç„¶åï¼ŒAPE ä¼šè‡ªåŠ¨åˆæˆä¸€ä»½å¯¹æŠ—åˆçº¦ï¼Œé‡æ–°æ”¾ç½® vault åˆçº¦ï¼ˆå‚è§å›¾ 8bï¼‰ã€‚å›é¡¾ä¸€ä¸‹ï¼Œåœ¨åˆæˆå—ç›Šäººåˆçº¦æ—¶ï¼ŒAPE æ³¨å…¥äº†åœ¨æ¨¡ä»¿äº¤æ˜“ç»“æŸå‰å°†æ‰€æœ‰æ”¶é›†çš„èµ„äº§è½¬ç§»åˆ°å¯¹æŠ—è´¦æˆ·çš„é€»è¾‘ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿æ²¡æœ‰ APEï¼Œæ”»å‡»è€…ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ¶ä½œä¸€ä»½æ•Œå¯¹é‡‘åº“åˆçº¦ï¼Œæ¶æ„æå–å­˜æ¬¾äººçš„èµ„äº§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†è¿™ä¸€é€šé“è®¾è®¡å½’ç±»ä¸ºæ¼æ´ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/hb2t0v.png\" alt=\"å›¾ 8ï¼šMassDeposit æ¼æ´\" /></p>\n<h1 id=\"ape-real-time-evaluation\"><a class=\"anchor\" href=\"#ape-real-time-evaluation\">#</a> APE Real-time Evaluation</h1>\n<p>ç†æƒ³æƒ…å†µä¸‹ï¼Œæ”¯æŒ APE çš„çŸ¿å·¥ä¼šå°è¯•å®æ—¶ç¡®å®šå…¶å¼€é‡‡åŒºå—çš„æœ€ä½³äº¤æ˜“é¡ºåºã€‚å› æ­¤ï¼Œåœ¨ç»™å®šä¸€ä¸ªæœªç¡®è®¤äº¤æ˜“åˆ—è¡¨çš„æƒ…å†µä¸‹ï¼ŒçŸ¿å·¥å¯ä»¥åº”ç”¨æ¯ä¸€ç§äº¤æ˜“ç»„åˆæ¥ç¡®å®š APE çš„æœ€ä½³æ”¶ç›Šã€‚ç„¶è€Œï¼Œæ¢ç´¢è¿™äº›ç»„åˆå¾ˆå¿«å°±ä¼šå¯¼è‡´ç»„åˆçˆ†ç‚¸ã€‚</p>\n<p>å› æ­¤ï¼Œæˆ‘ä»¬å°†ä¸ºçŸ¿å·¥çš„äº¤æ˜“æ’åºæå‡ºä¸€ä¸ªæ›´ç°å®ã€ä½†ä¹Ÿæ›´å°½åŠ›çš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬å¯ä»¥å€Ÿé‰´è¢«å¹¿æ³›é‡‡ç”¨çš„å‡è®¾ï¼Œå³åœ¨ä¸€ä¸ªåŒºå—é“¾åŒºå—ä¸­ï¼Œäº¤æ˜“é€šå¸¸æŒ‰å…¶è´¹ç”¨é‡‘é¢æ’åºã€‚å› æ­¤ï¼Œåœ¨æŒ‰è´¹ç”¨æ’åºçš„åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“å¯¹äºå—å®³è€…äº¤æ˜“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">v_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼ŒAPE äº¤æ˜“ä¹Ÿåº”è¯¥è¢«æ”¾åœ¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">i</span></span></span></span> çš„ä½ç½®ã€‚è™½ç„¶ EVM ç›®å‰åªæ”¯æŒäº¤æ˜“çš„é¡ºåºæ‰§è¡Œï¼Œä½†æŠ•æœºå¹¶è¡Œæ‰§è¡Œçš„å‰æ™¯å¯è§‚ï¼Œå¯ä»¥åŠ å¿«åŒºå—éªŒè¯ä»¥åŠ APE ä¸­çš„å—å®³è€…äº¤æ˜“è¯†åˆ«ã€‚ä¸è¿‡ï¼Œè¿™ç§å¹¶è¡Œæ‰§è¡Œæ¡†æ¶è¶…å‡ºäº†æœ¬æ–‡çš„ç ”ç©¶èŒƒå›´ã€‚</p>\n<h2 id=\"methodology-and-setup-2\"><a class=\"anchor\" href=\"#methodology-and-setup-2\">#</a> Methodology and Setup</h2>\n<p>ä¸ºäº†è¯„ä¼°å®æ—¶æ€§èƒ½ï¼Œæˆ‘ä»¬å°† APE é€»è¾‘æ³¨å…¥ä¸€ä¸ªä»¥å¤ªåŠï¼ˆBSCï¼‰å®Œæ•´èŠ‚ç‚¹ï¼Œç§°ä¸º APE èŠ‚ç‚¹ã€‚APE èŠ‚ç‚¹ç›‘å¬ä»¥å¤ªåŠï¼ˆBSCï¼‰P2P ç½‘ç»œï¼Œå¹¶å¯¹æ¯ç¬”æ½œåœ¨çš„å—å®³è€…äº¤æ˜“è¿›è¡Œ APE æ“ä½œï¼ŒåŒæ—¶ä¸å…¬å¸ƒç”Ÿæˆçš„æ”»å‡»äº¤æ˜“ã€‚é‡å¤è¯„ä¼°è¿‡ç¨‹å°†å½“å‰åŒºå—é“¾é«˜åº¦ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi></mrow><annotation encoding=\"application/x-tex\">h</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">h</span></span></span></span> å’Œå†…å­˜æ±  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">P</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{P}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08222em;\">P</span></span></span></span></span> ä½œä¸ºè¾“å…¥ï¼ˆå‚è§ç®—æ³• 1ï¼‰ã€‚æˆ‘ä»¬é¦–å…ˆæ’é™¤ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">P</mi></mrow><annotation encoding=\"application/x-tex\">\\mathcal{P}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.08222em;\">P</span></span></span></span></span> ä¸­çš„éæ³•äº¤æ˜“ï¼ˆä¾‹å¦‚ï¼Œnonce ç¼–å·é”™è¯¯çš„äº¤æ˜“ï¼‰ï¼Œå¹¶æŒ‰ 'gas' ä»·æ ¼é™åºå¯¹äº§ç”Ÿçš„äº¤æ˜“è¿›è¡Œæ’åºã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨å½“å‰åŒºå—é“¾çŠ¶æ€ä¸Šä¾æ¬¡åº”ç”¨æ’åºåçš„äº¤æ˜“ã€‚ç»™å®šæ¯ä¸€å¯¹ä¸­é—´çŠ¶æ€ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">S_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼ˆåº”ç”¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{i}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> åï¼‰å’Œåç»­äº¤æ˜“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{i+1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8234109999999999em;vertical-align:-0.208331em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span></span></span></span>ï¼ŒAPE èŠ‚ç‚¹å¼‚æ­¥æ‰§è¡Œæ”»å‡»å‡½æ•° Ape (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding=\"application/x-tex\">S_i,\\mathrm{tx}_{i+1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.891661em;vertical-align:-0.208331em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span></span></span></span>)ï¼Œå¹¶ä»¥éé˜»å¡æ–¹å¼ç»§ç»­æ‰§è¡Œä¸‹ä¸€å¯¹ (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>S</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator=\"true\">,</mo><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mrow><mi>i</mi><mo>+</mo><mn>2</mn></mrow></msub></mrow><annotation encoding=\"application/x-tex\">S_{i+1},\\mathrm{tx}_{i+2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.891661em;vertical-align:-0.208331em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">2</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span></span></span></span>)ã€‚å¦‚æœäº‹åŠ¡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ˜¯å¯æ”»å‡»çš„ï¼Œæˆ‘ä»¬å°±ç”¨ç”Ÿæˆçš„æ”»å‡»äº‹åŠ¡æ›¿æ¢ï¼ˆå³ &quot;å‰ç½®è¿è¡Œ&quot;ï¼‰<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ã€‚è¯¥æµæ°´çº¿å¯¹åº”äºå¯¹æŠ—å¼çŸ¿å·¥ï¼š</p>\n<ol>\n<li>ä»å†…å­˜æ± ä¸­é€‰æ‹©å¹¶æ’åºäº¤æ˜“ï¼›</li>\n<li>æŒ‰é¡ºåºåº”ç”¨æ¯ä¸ªäº¤æ˜“ä»¥æ„å»ºä¸‹ä¸€ä¸ªåŒºå—</li>\n<li>åœ¨é€‚ç”¨æ—¶æ‰§è¡Œ APE æ”»å‡»ã€‚APE èŠ‚ç‚¹é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œå¹¶è®°å½•ä»¥ä¸‹æŒ‡æ ‡çš„æ€§èƒ½ã€‚</li>\n</ol>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/6ma8ol.png\" alt=\"ç®—æ³• 1\" /></p>\n<p><mark>æŒ‡æ ‡ 1</mark>ï¼ˆå•æ¬¡äº¤æ˜“æ€§èƒ½ï¼‰ã€‚åœ¨ç»™å®šä¸€ä¸ªå—å®³è€…äº¤æ˜“å’Œç›¸åº”åŒºå—é“¾çŠ¶æ€çš„æƒ…å†µä¸‹ï¼ŒAPE ç”Ÿæˆæ”»å‡»æ‰€éœ€çš„æ—¶é—´ï¼ˆå‚è§ç®—æ³• 1ï¼‰ã€‚</p>\n<p><mark>æŒ‡æ ‡ 2</mark>ï¼ˆå†…å­˜æ± æ€§èƒ½ï¼‰ã€‚è€ƒè™‘åˆ°å®æ—¶äº¤æ˜“çš„åŠ¨æ€å†…å­˜æ± ï¼Œä» APE æ”»å‡»ç”Ÿæˆåˆ°ä¸‹ä¸€ä¸ªåŒºå—ï¼ˆå³åº”åŒ…å« <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">x</mi></mrow><mi>c</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathrm{tx}_{c}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76508em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"mord mathrm\">x</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„ç›®æ ‡åŒºå—ï¼‰åˆ°è¾¾çš„æ—¶é—´ï¼ˆå‚è§ç®—æ³• 1ï¼‰ã€‚</p>\n<p>æˆ‘ä»¬ä½¿ç”¨ä¸ç¬¬ 6 èŠ‚ç›¸åŒçš„ç¡¬ä»¶è®¾ç½®å’Œ 10 Gbps çš„äº’è”ç½‘è¿æ¥è¿›è¡Œå®æ—¶è¯„ä¼°ã€‚ä¸ºäº†è¿…é€Ÿæ•è·å¾…å¤„ç†äº¤æ˜“ï¼Œæˆ‘ä»¬å°† APE èŠ‚ç‚¹çš„æœ€å¤§ç½‘ç»œå¯¹ç­‰èŠ‚ç‚¹ä»é»˜è®¤çš„ 50 ä¸ªå¢åŠ åˆ° 500 ä¸ªï¼Œç”¨äºä»¥å¤ªåŠå’Œ BSCã€‚APE èŠ‚ç‚¹ä¼šç”Ÿæˆ 150 ä¸ªçº¿ç¨‹ï¼Œå¼‚æ­¥æ‰§è¡Œ Ape å‡½æ•°ï¼ˆå‚è§ç®—æ³• 1ï¼‰ã€‚</p>\n<p><strong>è¾ƒå¼±çš„å¨èƒæ¨¡å‹</strong>ï¼šè¯·æ³¨æ„ï¼Œä¸ç¬¬ 4.1 èŠ‚ä¸­çš„å¨èƒæ¨¡å‹ç›¸åï¼Œåœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¸æ˜¯çŸ¿å·¥ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸ FaaS æ²¡æœ‰ç§äººå¯¹ç­‰åè®®ï¼Œå› æ­¤å¯èƒ½æ— æ³•è§‚å¯Ÿåˆ°åªæœ‰å¯ç”¨äº† FaaS çš„çŸ¿å·¥æ‰ä¼šæ”¶åˆ°çš„å—å®³è€…äº¤æ˜“ã€‚ä¸ä¹‹å‰çš„å¨èƒæ¨¡å‹ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„ APE èŠ‚ç‚¹è§‚å¯Ÿå—å®³è€…äº¤æ˜“çš„å¯¹æŠ—èƒ½åŠ›è¾ƒå¼±ã€‚å› æ­¤ï¼Œåœ¨å®æ—¶è¯„ä¼°ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©å…³æ³¨ APE åœ¨å®é™…åº”ç”¨ä¸­çš„è®¡ç®—å®æ—¶æ€§èƒ½ï¼Œè€Œå¿½ç•¥ APE èŠ‚ç‚¹åœ¨è¾ƒå¼±çš„å¨èƒæ¨¡å‹ä¸‹å¯èƒ½äº§ç”Ÿçš„æ½œåœ¨ç»æµåˆ©æ¶¦ã€‚æˆ‘ä»¬é¢„è®¡è¾ƒå¼±çš„å¨èƒæ¨¡å‹ä¼šè·å¾—è¾ƒä½çš„åˆ©æ¶¦ï¼Œå› æ­¤å°†æ­¤ç±»åˆ†æç•™å¾…ä»Šåçš„å·¥ä½œä¸­è¿›è¡Œã€‚</p>\n<h2 id=\"computational-real-time-performance\"><a class=\"anchor\" href=\"#computational-real-time-performance\">#</a> Computational Real-time Performance</h2>\n<p>æˆ‘ä»¬çš„ä»¥å¤ªåŠå®æ—¶å®éªŒæ•è·äº† 26 å¤©çš„æ•°æ®ã€‚åœ¨å®éªŒæœŸé—´ï¼Œä»¥å¤ªåŠ APE èŠ‚ç‚¹å¹³å‡æ¯ç§’é‡æ–°æ¥æ”¶ 17.86 æ¬¡ç‹¬ç‰¹äº¤æ˜“ã€‚æˆ‘ä»¬æ€»å…±æ£€æµ‹åˆ° 4,045 æ¬¡æ¨¡ä»¿æœºä¼šï¼Œå…¶ä¸­åŒ…æ‹¬ 3,699 æ¬¡å®¹æ˜“å—åˆ° APE æ”»å‡»çš„äº¤æ˜“ã€‚BSC å®æ—¶è¯„ä¼°çš„æ—¶é—´è·¨åº¦ä¸º 14 å¤©ã€‚æˆ‘ä»¬çš„ BSC APE èŠ‚ç‚¹å¹³å‡æ¯ç§’æ¥æ”¶ 57.31 æ¬¡ç‹¬ç‰¹äº¤æ˜“ã€‚æˆ‘ä»¬åœ¨ BSC ä¸Šè¯†åˆ«å‡º 489 ä¸ªæ¨¡ä»¿æœºä¼šå’Œ 784 ä¸ª APE æœºä¼šã€‚</p>\n<p>è¡¨ 6 åˆ—å‡ºäº†å•ç¬”äº¤æ˜“æ€§èƒ½ï¼ˆå‚è§æŒ‡æ ‡ 1ï¼‰å’Œæ‰§è¡Œæ—¶é—´æ˜ç»†ã€‚å¹³å‡è€Œè¨€ï¼Œç”Ÿæˆä¸€æ¬¡å¤©çœŸæ¨¡ä»¿æ”»å‡»éœ€è¦ 0.01 Â± 0.01 ç§’ï¼Œè€Œç”Ÿæˆä¸€æ¬¡ APE æ”»å‡»éœ€è¦ 0.07 Â± 0.10 ç§’ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/awztx8.png\" alt=\"è¡¨ 6ï¼šåŸå§‹æ”»å‡»å’Œ APE æ¨¡ä»¿æ”»å‡»çš„å•ç¬”äº¤æ˜“æ€§èƒ½ï¼ˆä»¥å¤ªåŠï¼‰ã€‚æ­¥éª¤ 1ã€3 å’Œ 6 å¹³å‡å  APE æ‰§è¡Œæ—¶é—´çš„ 96.35%ã€‚APE åœ¨ BSC ä¸Šçš„å•æ¬¡äº¤æ˜“æ€§èƒ½ç›¸å½“\" /></p>\n<p>APE æœ€è€—æ—¶çš„æ­¥éª¤æ˜¯ DCFGï¼ˆç¬¬ 1 æ­¥ï¼‰ã€åŠ¨æ€æ±¡ç‚¹åˆ†æï¼ˆç¬¬ 3 æ­¥ï¼‰å’ŒéªŒè¯ï¼ˆç¬¬ 6 æ­¥ï¼‰ï¼Œå æ•´ä¸ªæ‰§è¡Œæ—¶é—´çš„ 96.35%ã€‚</p>\n<p>æˆ‘ä»¬åœ¨å›¾ 9 ä¸­å±•ç¤ºäº† mempool æ€§èƒ½ï¼ˆå‚è§æŒ‡æ ‡ 2ï¼‰ã€‚åœ¨ä»¥å¤ªåŠï¼ˆBSCï¼‰ä¸Šï¼Œ99.68%ï¼ˆ99.49%ï¼‰çš„ APE æ”»å‡»æ˜¯åœ¨æˆ‘ä»¬çš„ APE èŠ‚ç‚¹æ”¶åˆ°ç›®æ ‡å—ä¹‹å‰ç”Ÿæˆçš„ã€‚ä»æ”»å‡»äº§ç”Ÿåˆ°æ¥æ”¶åˆ°ç›®æ ‡å—çš„æ—¶é—´å¹³å‡ä¸º 12.56 Â± 12.55 (2.24 Â± 0.81) ç§’ã€‚æˆ‘ä»¬çš„è¯„ä¼°ç»“æœè¡¨æ˜ï¼Œä»¥å¤ªåŠä¸Šçš„ APEï¼ˆåŒºå—é—´éš”ä¸º 13.3 ç§’ï¼‰å’Œ BSCï¼ˆåŒºå—é—´éš”ä¸º 3 ç§’ï¼‰å…·æœ‰å®æ—¶æ€§ã€‚</p>\n<h1 id=\"ape-countermeasures\"><a class=\"anchor\" href=\"#ape-countermeasures\">#</a> APE Countermeasures</h1>\n<p>æ¨¡ä»¿æ”»å‡»å¯¹ DeFi ç”Ÿæ€ç³»ç»ŸåŠå…¶ç”¨æˆ·æ„æˆäº†è¿«åœ¨çœ‰ç«çš„å¨èƒã€‚ä¸ EVM å…¼å®¹çš„åŒºå—é“¾ä¾èµ–çŸ¿å·¥æ¥æ‰§è¡Œå’ŒéªŒè¯æ¯ç¬”äº¤æ˜“ã€‚å› æ­¤ï¼Œå¾ˆéš¾å®Œå…¨é˜²æ­¢çŸ¿å·¥æ£€æŸ¥å’Œæ¨¡ä»¿å—å®³è€…äº¤æ˜“ã€‚æˆ‘ä»¬è®¤ä¸ºä»¥ä¸‹å¯¹ç­–æœ‰å¯èƒ½å‡è½» APEã€‚</p>\n<p><strong>å°†æ¨¡ä»¿ä½œä¸ºä¸€ç§é˜²å¾¡å·¥å…·</strong>ï¼šä¸€ç§å¯èƒ½ç›´è§‚ä½†æœ‰æ•ˆçš„æ›¿ä»£æ–¹æ³•æ˜¯å°†æ¨¡ä»¿ä½œä¸ºä¸€ç§é˜²å¾¡æœºåˆ¶ã€‚ä¾‹å¦‚ï¼ŒçŸ¿å·¥å¯ä»¥é€šè¿‡ç®€å•åœ°æ¨¡ä»¿æ”»å‡»å¹¶å°†æ”¶ç›Šé€€è¿˜ç»™å—å®³è€…çš„æ–¹å¼ï¼Œå¯¹ DeFi æ”»å‡»è¿›è¡Œè‡ªåŠ¨ç™½å¸½é»‘å®¢æ”»å‡»ã€‚è™½ç„¶çŸ¿å·¥ç›®å‰è¢«ä¿¡ä»»æ¥ç¡®ä¿åŒºå—é“¾å…±è¯†çš„å®‰å…¨ï¼Œä½†ä»–ä»¬å¯ä»¥æ‰©å±•è¿™ç§èƒ½åŠ›åˆ°åº”ç”¨å±‚ã€‚æ¼æ´æ‚¬èµå¯ä»¥æ¿€åŠ±çŸ¿å·¥çš„åˆ©ä»–ä¸»ä¹‰ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å°†ç²¾ç¡®çš„æ¿€åŠ±ç»“æ„ç•™å¾…ä»Šåçš„å·¥ä½œä¸­å»æ¢ç´¢ã€‚</p>\n<p><strong>æ‰“ç ´åŸå­æ€§</strong>ï¼šæ‰“ç ´æœ‰åˆ©å¯å›¾çš„äº‹åŠ¡çš„åŸå­æ€§ä¼šé˜»ç¢ APEï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·å¯ä»¥å°†å…¶äº‹åŠ¡çš„é€»è¾‘åˆ†å‰²æˆå¤šä¸ªç‹¬ç«‹çš„äº‹åŠ¡ã€‚è¿™æ ·ï¼ŒAPE å°±æ— æ³•æ•æ‰åˆ°ä»»ä½•ç‹¬ç«‹äº¤æ˜“çš„å…¨éƒ¨é€»è¾‘ï¼Œä¹Ÿå°±æ— æ³•å¯¹å…¶è¿›è¡Œæ¨¡ä»¿ã€‚æ­¤å¤–ï¼Œè¿™ç§é˜²å¾¡å¯ä»¥é€šè¿‡ä¸€ç§å·¥å…·æ¥å®ç°ï¼Œå®ƒå¯ä»¥å°†å•ä¸ªäº‹åŠ¡ä½œä¸ºè¾“å…¥ï¼Œå¹¶è‡ªåŠ¨å°†å…¶æ‹†åˆ†æˆå…·æœ‰ç›¸åŒç¨‹åºé€»è¾‘çš„å¤šä¸ªäº‹åŠ¡ã€‚è¿™ç§æ–¹æ³•çš„ä¸»è¦ç¼ºç‚¹æ˜¯ä¸é€‚ç”¨äºæ‰€æœ‰æƒ…å†µï¼ˆå¦‚é—ªå­˜è´·æ¬¾ï¼‰ã€‚æ‰“ç ´åŸå­æ€§è¿˜å¯èƒ½ç»™ç”¨æˆ·å¸¦æ¥é¢å¤–é£é™©ï¼ˆä¾‹å¦‚ï¼Œéƒ¨åˆ†å¥—åˆ©æ‰§è¡Œå¯¼è‡´è´¢åŠ¡æŸå¤±ï¼‰ã€‚</p>\n<p><strong>å‰ç½®è¿è¡Œç¼“è§£</strong>ï¼šAPE è¦æ±‚æ”»å‡»è€…å¿…é¡»èƒ½å¤Ÿå‰ç½®è¿è¡Œå—å®³è€…äº¤æ˜“ï¼Œå› æ­¤ç¼“è§£å‰ç½®è¿è¡Œå¯ä»¥é˜²æ­¢ APE æ”»å‡»ã€‚æ–‡çŒ®æ¢è®¨äº†å„ç§åŸºäºæ—¶é—´çš„äº¤æ˜“æ’åºå…¬å¹³æ€§çš„å‰ç½®è¿è¡Œç¼“è§£æ–¹æ¡ˆã€‚è™½ç„¶è¿™äº›å…¬å¹³æ’åºè§£å†³æ–¹æ¡ˆåŸåˆ™ä¸Šå¯ä»¥å°† APE çš„å¨èƒæœ€å°åŒ–ï¼Œä½†å®ƒä»¬éœ€è¦å¯¹å…±è¯†å±‚æˆ–åº”ç”¨å±‚è¿›è¡Œæ ¹æœ¬æ€§ä¿®æ”¹ã€‚ç‰¹åˆ«æ˜¯ï¼Œ[1] éœ€è¦å¯¹åº•å±‚åŒºå—é“¾è¿›è¡Œä¿®æ”¹ï¼Œè€Œ [2, 3] åˆ™å¼•å…¥äº†ä¸€ä¸ªè´Ÿè´£äº¤æ˜“æ’åºçš„é¢å¤–è®¸å¯å§”å‘˜ä¼šï¼Œå¹¶éœ€è¦é‡æ–°è®¾è®¡ DeFi åº”ç”¨ç¨‹åºã€‚</p>\n<blockquote>\n<p>[1] Mahimna Kelkar, Fan Zhang, Steven Goldfeder, and Ari Juels. Order- fairness for byzantine consensus. In <em>Annual International Cryptology Conference</em>, pages 451â€“480. Springer, 2020.</p>\n<p>[2] MahimnaKelkar,SoubhikDeb,SishanLong,AriJuels,andSreeram Kannan. Themis: Fast, strong order-fairness in byzantine consensus. <em>Cryptology ePrint Archive</em>, 2021.</p>\n<p>[3] Yunhao Zhang, Srinath Setty, Qi Chen, Lidong Zhou, and Lorenzo Alvisi. Byzantine ordered consensus without byzantine oligarchy. In <em>14th USENIX Symposium on Operating Systems Design and Implemen- tation (OSDI 20)</em>, pages 633â€“649, 2020.</p>\n</blockquote>\n<p><strong>ä»£ç æ··æ·†</strong>ï¼šæˆç†Ÿçš„åŒºå—é“¾å’Œ DeFi åº”ç”¨ç¨‹åºå¹¶ä¸å®¹æ˜“æ‰“è¡¥ä¸å’Œé‡æ–°è®¾è®¡ã€‚åœ¨ä»¥æ›´ç³»ç»Ÿçš„æ–¹å¼å‡å°‘å‰ç½®è¿è¡Œä¹‹å‰ï¼Œéœ€è¦è½»é‡çº§çš„å˜é€šæ–¹æ³•ã€‚å› æ­¤ï¼Œè§£å†³è¿™ä¸€é—®é¢˜çš„ä¸€ä¸ªå¯è¡ŒåŠæ³•æ˜¯å¼€å‘å­—èŠ‚ç çº§æ··æ·†æŠ€æœ¯ã€‚è™½ç„¶ä»£ç æ··æ·†ä½œä¸ºä¸€ç§é˜²å¾¡æœºåˆ¶å·²ç»ä½¿ç”¨äº†å‡ åå¹´ï¼Œä½†è¿˜æ²¡æœ‰äººæŠŠå®ƒä½œä¸ºæ™ºèƒ½åˆçº¦æ”»å‡»å’Œæ¼æ´çš„å¯¹ç­–æ¥ç ”ç©¶ã€‚å¯ä»¥é‡‡ç”¨æ§åˆ¶æµæ··æ·†æ–¹æ³•ï¼Œå…¶ç›®çš„æ˜¯æ¨¡ç³Šç¨‹åºæµç¨‹ï¼Œä½¿åŠ¨æ€åˆ†æéš¾ä»¥æ¨ç†ä»£ç ã€‚å›æƒ³ä¸€ä¸‹ï¼Œä¸ºäº†å¤åˆ¶æ‰§è¡Œè·¯å¾„ï¼ŒAPE ä¼šä¿®æ”¹å—æ±¡æŸ“çš„åŸºæœ¬æ¨¡å—ï¼Œå¹¶å¯¹ä»£ç è·³è½¬è¿›è¡Œç¡¬ç¼–ç ï¼ˆå‚è§ç¬¬ 5.5 èŠ‚ï¼‰ã€‚å¦‚æœåœ¨ä¸€ä¸ªå—å®³è€…äº‹åŠ¡ä¸­åŒæ—¶è®¿é—®äº†æ±¡ç‚¹åŸºæœ¬å—çš„çœŸåˆ†æ”¯å’Œå‡åˆ†æ”¯ï¼Œåˆæˆå¯¹æŠ—æ€§åˆçº¦å°±ä¼šå˜å¾—å¾ˆå›°éš¾ï¼Œå› ä¸ºç¡¬ç¼–ç è·³è½¬åªèƒ½è®¿é—®ä¸€ä¸ªåˆ†æ”¯ã€‚å› æ­¤ï¼Œå¯ä»¥è®¾è®¡ä¸€ç§é’ˆå¯¹ APE çš„æ··æ·†æ–¹æ¡ˆï¼Œä½¿ç¡¬ç¼–ç çš„ä»£ç è·³è½¬å¯¼è‡´æ— é™å¾ªç¯ã€‚å°½ç®¡æ··æ·†æŠ€æœ¯æ˜“äºé‡‡ç”¨ï¼Œå¹¶èƒ½æä¾›é’ˆå¯¹ APE çš„å¯é ä¿æŠ¤ï¼Œä½†å®ƒä»¬ä»æœ‰å±€é™æ€§ã€‚ä¸»è¦é—®é¢˜æ˜¯ï¼Œå¯ä»¥å¼€å‘å‡ºå¤æ‚çš„å»æ··æ·†æŠ€æœ¯æ¥ç»•è¿‡è¿™äº›é˜²å¾¡ã€‚æ··æ·†é˜²å¾¡ä¹Ÿä¼šå¯¼è‡´åˆåŒæ›´åŠ å¤æ‚ï¼Œå¢åŠ æ‰§è¡Œå’Œéƒ¨ç½² 'gas' çš„æˆæœ¬ã€‚æˆ‘ä»¬å°†å®Œæ•´çš„è®¾è®¡å’Œè¯„ä¼°å·¥ä½œç•™å¾…ä»Šåè¿›è¡Œã€‚</p>\n<h1 id=\"related-work\"><a class=\"anchor\" href=\"#related-work\">#</a> Related Work</h1>\n<p><strong>æ¼æ´åˆ©ç”¨å·¥å…·ç³»ç»ŸåŒ–</strong>ï¼šæˆ‘ä»¬åœ¨è¡¨ 7 ä¸­å¯¹æœ€æ¥è¿‘çš„ç›¸å…³å·¥ä½œè¿›è¡Œäº†ç³»ç»ŸåŒ–ï¼Œé‡ç‚¹å…³æ³¨è‡ªåŠ¨æ¼æ´åˆ©ç”¨ç”Ÿæˆå·¥å…·ã€‚æˆ‘ä»¬å°†å®ƒä»¬åŒºåˆ†ä¸ºï¼š</p>\n<ol>\n<li>æ—¨åœ¨è·å–é‡‘èä»·å€¼å¹¶æ•æ‰è¯¥è¿‡ç¨‹ä¸­æ¼æ´çš„å·¥å…·ï¼›</li>\n<li>æ£€æµ‹æ™ºèƒ½åˆçº¦ä¸­é¢„å®šä¹‰æ¼æ´æ¨¡å¼çš„å·¥å…·ã€‚</li>\n</ol>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/fpuznu.png\" alt=\"è¡¨ 7ï¼šè‡ªåŠ¨æ™ºèƒ½åˆçº¦å¼€å‘ç›¸å…³å·¥ä½œçš„ç³»ç»ŸåŒ–\" /></p>\n<p>å¯¹äºåŸºäºå¥–åŠ±çš„æ¼æ´åˆ©ç”¨å·¥å…·ï¼Œæˆ‘ä»¬å‘ç°ï¼Œç”±äºå­—ç¬¦ä¸²æ›¿æ¢æ–¹æ³•ç®€å•ï¼Œå¤©çœŸæ¨¡ä»¿æ³•åœ¨å®æ—¶æ€§èƒ½æ–¹é¢ä¼˜äº APEã€‚ä¸è¿‡ï¼Œåœ¨ç›¸åŒçš„è¯„ä¼°æ—¶é—´èŒƒå›´å†…ï¼ˆå‚è§ç¬¬ 6 èŠ‚ï¼‰ï¼ŒAPE æ¯”å¤©çœŸçš„æ–¹æ³•æ•è·äº†æ›´é«˜çš„ç»æµæ”¶ç›Šå’Œæ›´å¤šçš„ DeFi æ”»å‡»ã€‚ <code>DEFIPOSER</code>  åˆ©ç”¨ SMT è§£ç®—å™¨æ¥è¯†åˆ«æœ‰åˆ©å¯å›¾çš„ç­–ç•¥ï¼Œè¿™äº›ç­–ç•¥æœ‰å¯èƒ½æ­ç¤ºæ–°çš„æ¼æ´æ¨¡å¼ã€‚ç„¶è€Œï¼Œ <code>DEFIPOSER</code>  çš„æœ‰æ•ˆæ€§ä¾èµ–äºåŒºå—é“¾åº”ç”¨çš„ç²¾ç¡®å»ºæ¨¡ï¼Œè¿™éœ€è¦å¤§é‡çš„äººå·¥åŠªåŠ›ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ <code>DEFIPOSER</code>  çš„å®æ—¶æ€§èƒ½å–å†³äºåº•å±‚ SMT è§£ç®—å™¨ä»¥åŠæ•°å­¦æ¨¡å‹çš„å¤æ‚æ€§ã€‚</p>\n<p>åœ¨æ™ºèƒ½åˆçº¦ä¸­æ£€æµ‹é¢„å®šä¹‰æ¼æ´æ¨¡å¼çš„å·¥å…·å°†è¿™äº›æ¨¡å¼ä½œä¸ºè¿›è¡Œå®‰å…¨åˆ†æçš„è¾“å…¥ã€‚å› æ­¤ï¼Œè¿™ç±»å·¥å…·å¯èƒ½ä¸ä¼šå‘ç°ä¸åŒçš„æˆ–æ–°çš„æ¼æ´æ¨¡å¼ã€‚ç„¶è€Œï¼Œ <code>MAIAN</code>  å’Œ  <code>SOLAR</code>  çš„è®¾è®¡å…·æœ‰å®æ—¶æ€§ã€‚åœ¨ APE ä¹‹å‰ï¼Œ <code>SOLAR</code>  æ˜¯æˆ‘ä»¬æ‰€çŸ¥çš„å”¯ä¸€èƒ½åˆæˆåˆçº¦çš„å·¥å…·ã€‚ä¸è¿‡ï¼Œ <code>SOLAR</code>  éœ€è¦è®¿é—®æ™ºèƒ½åˆçº¦çš„ ABIã€‚å›é¡¾ä¸€ä¸‹ï¼Œé—­æºæ™ºèƒ½åˆçº¦å¯èƒ½æ— æ³•è®¿é—® ABIã€‚æ®æˆ‘ä»¬äº†è§£ï¼ŒSOLAR ä¸“æ³¨äºå•ä¸ªåˆçº¦ä¸­çš„æ¼æ´ï¼Œå› æ­¤ä¸å¤ªå¯èƒ½æ•æ‰åˆ°å¯ç»„åˆï¼ˆå³è·¨åˆçº¦ï¼‰çš„ DeFi æ”»å‡»ã€‚</p>\n<p><strong>æ™ºèƒ½åˆçº¦æ”»å‡»ä¸å®‰å…¨</strong>ï¼šAtzei ç­‰äººå¯¹æ™ºèƒ½åˆçº¦æ”»å‡»è¿›è¡Œäº†è°ƒæŸ¥ã€‚è®¸å¤šäººéƒ½ä¸“æ³¨äºé€šè¿‡æ£€æµ‹æ¼æ´å’Œç”Ÿæˆæ¶æ„è¾“å…¥æ¥è‡ªåŠ¨å¯»æ‰¾é’ˆå¯¹è„†å¼±æ™ºèƒ½åˆçº¦çš„æ¼æ´åˆ©ç”¨ã€‚Qin ç­‰äººæ¢ç´¢äº†é€šè¿‡é—ªè´·è¿›è¡Œ DeFi æ”»å‡»ã€‚Wu ç­‰äººæå‡ºäº†ä¸€ç§ç‹¬ç«‹äºå¹³å°çš„æ–¹æ³•æ¥æ¢å¤é«˜çº§ DeFi è¯­ä¹‰ï¼Œä»¥æ£€æµ‹ä»·æ ¼æ“çºµæ”»å‡»ã€‚</p>\n<p><em>é™æ€åˆ†æ</em>ï¼šå·¥å…·å¦‚  <code>Securify</code>  ã€ <code>Slither</code>  å’Œ  <code>Ethainter</code> ï¼Œå¯æ£€æµ‹æ™ºèƒ½åˆçº¦ä¸­çš„ç‰¹å®šæ¼æ´ã€‚è¿™ç±»å·¥å…·é€šå¸¸èƒ½å®ç°å®Œæ•´æ€§ï¼Œä½†ä¹Ÿä¼šæŠ¥å‘Šè¯¯æŠ¥ã€‚å¦ä¸€ç§æ£€æµ‹æ™ºèƒ½åˆçº¦æ¼æ´çš„å¸¸è§æ–¹æ³•æ˜¯é‡‡ç”¨ç¬¦å·æ‰§è¡Œã€‚Mythril å’Œ Oyente ä½¿ç”¨åŸºäº SMT çš„ç¬¦å·æ‰§è¡Œæ¥æ£€æŸ¥ EVM å­—èŠ‚ä»£ç ï¼Œå¹¶æ¨¡æ‹Ÿè™šæ‹Ÿæœºæ¥æ¢ç´¢æ‰§è¡Œè·¯å¾„ã€‚å…¶ä»–å·¥å…·é‡‡ç”¨æ¨¡ç³ŠæŠ€æœ¯æ£€æµ‹å„ç§æ¼æ´ã€‚APE ä¸é‡‡ç”¨æ¨¡ç³ŠæŠ€æœ¯ï¼Œè€Œæ˜¯åˆ©ç”¨ EVM æ¥ä¸€æ¬¡æ€§åŠ¨æ€åˆ†ææ™ºèƒ½åˆçº¦ã€‚æœ€è¿‘ï¼Œ <code>SMARTSHIELD</code>  å’Œ  <code>sGuard</code>  å¯¹ç”¨äºä¿®è¡¥æ™ºèƒ½åˆçº¦çš„å­—èŠ‚ç é‡å†™è¿›è¡Œäº†æ¢ç´¢ã€‚ <code>EVMPATCH</code>  å¯ä»¥é›†æˆå¤šç§é™æ€åˆ†æå·¥å…·æ¥æ£€æµ‹æ¼æ´ï¼Œå¹¶è‡ªåŠ¨å®Œæˆéƒ¨ç½²å’Œç®¡ç†å¯å‡çº§åˆçº¦çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚</p>\n<h1 id=\"conclusion\"><a class=\"anchor\" href=\"#conclusion\">#</a> Conclusion</h1>\n<p>å¹¿ä¹‰åŒºå—é“¾æ¨¡ä»¿æ¸¸æˆæ˜¯å¯¹æ™ºèƒ½åˆçº¦åŒºå—é“¾çš„ä¸€ç±»æ–°æ”»å‡»ã€‚é‡‡ç”¨è¿™ç§æ¨¡ä»¿æ—¢å¯èƒ½æ˜¯ä¸ºäº†è‡ªç§çš„ç»“æœï¼Œä¾‹å¦‚ï¼Œé‡‡ç”¨ APE çš„çŸ¿å·¥å¯ä»¥ä» DeFi æ”»å‡»ä¸­è·å¾—ä»·å€¼æ•°ç™¾ä¸‡ç¾å…ƒçš„æ”¶ç›Šï¼›ä¹Ÿå¯èƒ½æ˜¯ä¸ºäº†æ›´å¥½çš„ç»“æœï¼ŒçŸ¿å·¥å¯ä»¥ä½œä¸ºç™½å¸½é»‘å®¢å¸®åŠ©æå« DeFi ç”Ÿæ€ç³»ç»Ÿï¼Œæ–¹æ³•æ˜¯é¢„å…ˆè¿è¡Œæ”»å‡»ï¼Œå¹¶å¯èƒ½å°†ç”±æ­¤è·å¾—çš„æ”¶ç›Šé€€è¿˜ç»™å—å®³è€…ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¯æ˜äº†è¿™ç§æ¨¡ä»¿æ¸¸æˆæ˜¯åˆ‡å®å¯è¡Œçš„ï¼Œå¹¶èƒ½åœ¨ä»¥å¤ªåŠå’Œ BSC ä¸Šäº§ç”Ÿå·¨å¤§ä»·å€¼ã€‚</p>\n<div class=\"note warning no-icon\">\n<p>é™„å½•éƒ¨åˆ†è¯·å‚è€ƒåŸè®ºæ–‡ğŸ™</p>\n</div>\n",
            "tags": [
                "ç§‘ç ”",
                "è®ºæ–‡é˜…è¯»",
                "åŒºå—é“¾",
                "è®ºæ–‡é˜…è¯»"
            ]
        },
        {
            "id": "https://gality.cn/misc/trail-and-error/RTX4080-tensorflow2/",
            "url": "https://gality.cn/misc/trail-and-error/RTX4080-tensorflow2/",
            "title": "åœ¨ RTX 4080 ä¸Šè¿è¡Œ tensorflow 2",
            "date_published": "2023-12-06T08:58:35.000Z",
            "content_html": "<div class=\"note info no-icon\">\n<ul>\n<li>\n<p><strong>bug èƒŒæ™¯</strong>ï¼šåŸæœ¬é¡¹ç›®ä½¿ç”¨çš„æ˜¯ tensorflow çš„ 2.1 çš„ç‰ˆæœ¬ï¼Œè¯¥é¡¹ç›®åœ¨ RTX 1660 ä¸Šå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œåªæ˜¯å°†æ˜¾å¡æ¢åˆ°äº† RTX 4080 ä¸Šå°±è¿è¡Œå¤±è´¥äº†ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯æ˜¾å¡ï¼ˆç¯å¢ƒï¼‰çš„åŸå› ã€‚</p>\n</li>\n<li>\n<p><strong>å®é™…åŸå› </strong>ï¼šæ ¹æ®æœé›†åˆ°çš„èµ„æ–™å’Œé¡¹ç›®çš„æŠ¥é”™æç¤ºæ¥çœ‹ï¼Œ2.1 ç‰ˆæœ¬çš„ tf è¿˜ä¸çŸ¥é“æœ‰ 4080 è¿™ç§æ˜¾å¡çš„å­˜åœ¨ï¼Œæ‰€ä»¥æ‰ä¼šæ— æ³•è¯†åˆ«ï¼Œå¯¼è‡´å„ç§é—®é¢˜ï¼Œå› æ­¤ï¼Œæƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯<strong>ä¸€å®šè¦å‡çº§ tf çš„ç‰ˆæœ¬</strong>çš„ã€‚</p>\n</li>\n<li>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šè¿™é‡Œç»™å‡ºä¸€ä¸ªå¯ä»¥åœ¨ 4080 ä¸Šè¿è¡Œçš„ç‰ˆæœ¬ï¼š</p>\n<ul>\n<li>pythonï¼š3.6.xï¼ˆä»»æ„å°ç‰ˆæœ¬ï¼‰</li>\n<li>tensorflowï¼š2.6.0</li>\n<li>CUDAï¼š11.2.2ï¼ˆwin10 ç‰ˆæœ¬ä¹Ÿå¯ç”¨äº win11 ç³»ç»Ÿï¼‰</li>\n<li>cuDNNï¼š8.1.1</li>\n<li>Kerasï¼š2.6ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰</li>\n</ul>\n</li>\n</ul>\n</div>\n<h1 id=\"cuda\"><a class=\"anchor\" href=\"#cuda\">#</a> CUDA</h1>\n<p><strong>ä¸‹è½½ç›´é“¾</strong>ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubnZpZGlhLmNvbS9jdWRhLXRvb2xraXQtYXJjaGl2ZQ==\">https://developer.nvidia.com/cuda-toolkit-archive</span></p>\n<p>å®‰è£…è¿‡ç¨‹æ²¡æœ‰å¤ªå¤šå¥½è¯´çš„ï¼Œæ•™ç¨‹ä¹Ÿéå¸¸å¤šï¼Œè¿™é‡Œç¨å¾®è¯´ç‚¹ä¸å¸¸è§çš„ï¼š</p>\n<p><strong>æœ€å¥½å®‰è£…åœ¨é»˜è®¤è·¯å¾„</strong></p>\n<p>åŸå› åœ¨äºä¼šæ¶‰åŠåˆ°ç¯å¢ƒå˜é‡çš„é…ç½®ï¼Œå¤§å¤šæ•°æ•™ç¨‹ç»™å‡ºçš„éƒ½æ˜¯é»˜è®¤çš„ç¯å¢ƒå˜é‡åœ°å€ï¼Œå¦‚æœä¸ç†Ÿæ‚‰çš„è¯ï¼Œå®‰è£…åœ¨é»˜è®¤ä½ç½®ä¼šå‰©ä¸€ç‚¹åŠ›æ°”ã€‚</p>\n<p>å®‰è£…å®Œæˆåéœ€è¦æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š</p>\n<pre><code class=\"language-bat\">- CUDA_BIN_PATH_v11.2 = %CUDA_PATH%\\bin\n- CUDA_LIB_PATH_v11.2 = %CUDA_PATH%\\lib\\x64\n- CUDA_SDK_PATH = C:\\ProgramData\\NVIDIA Corporation\\CUDA Samples\\v11.2\n- CUDA_SDK_BIN_PATH = %CUDA_SDK_PATH%\\bin\\win64\n- CUDA_SDK_LIB_PATH = %CUDA_SDK_PATH%\\common\\lib\\x64\n</code></pre>\n<ol>\n<li>\n<p>è¿™é‡Œçš„ <code>CUDA_SDK_PATH</code>  åçš„ç¯å¢ƒå˜é‡å…¶å®å°±æ˜¯é»˜è®¤å®‰è£…åœ°å€ï¼Œè‹¥ä¸æ˜¯é»˜è®¤åœ°å€ï¼Œè¿™é‡Œéœ€è¦ä¿®æ”¹ä¸ºå®é™…çš„å®‰è£…åœ°å€ï¼Œå…¶ä»–ä¸ç”¨å˜ã€‚</p>\n</li>\n<li>\n<p>å¦‚æœè¿è¡Œæ—¶ä»£ç æŠ¥é”™ä¸€å † dll æ‰¾ä¸åˆ°ï¼Œå¯èƒ½å°±æ˜¯ç¯å¢ƒå˜é‡æ²¡åˆ·æ–°çš„é—®é¢˜ï¼Œé‡å¯ä¸‹ç»ˆç«¯çœ‹èƒ½ä¸èƒ½è§£å†³ï¼ˆå®åœ¨ä¸è¡Œå°±é‡å¯ç”µè„‘ï¼Œæœ€ä¿é™©ï½ï¼‰</p>\n</li>\n</ol>\n<h1 id=\"cudnn\"><a class=\"anchor\" href=\"#cudnn\">#</a> cuDNN</h1>\n<p><strong>ä¸‹è½½ç›´é“¾</strong>ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kZXZlbG9wZXIubnZpZGlhLmNvbS9yZHAvY3Vkbm4tYXJjaGl2ZQ==\">https://developer.nvidia.com/rdp/cudnn-archive</span></p>\n<p>ä¸‹è½½ï¼šcuDNN v8.1.1 for CUDA 11.0,11.1 and 11.2 ç‰ˆæœ¬</p>\n<p>åŒæ ·ä¸å¤šè¯´äº†ï¼Œæ•™ç¨‹å¾ˆå¤šã€‚</p>\n<h1 id=\"tensorflow\"><a class=\"anchor\" href=\"#tensorflow\">#</a> Tensorflow</h1>\n<p>tensorflow å»ºè®®åœ¨ conda é‚£å®‰è£…ï¼Œå¯ä»¥ç”¨ anacondaï¼Œä¹Ÿå¯ä»¥æ˜¯ minicondaï¼Œè¿™ä¸ªæ— æ‰€è°“ï¼Œè¿™é‡Œå‡è®¾ä½ å·²ç»æœ‰äº†ç›¸å…³çŸ¥è¯†ã€‚</p>\n<pre><code class=\"language-bat\">conda create -n tensorflow2 python=3.6\nconda activate tensorflow2\n\npip install tensorflow-gpu==2.6.0 -i https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre>\n<p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥æµ‹è¯•æ˜¯å¦æˆåŠŸå®‰è£…ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># åœ¨äº¤äº’å¼ python ç»ˆç«¯ä¸­è¾“å…¥ï¼š</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> tensorflow <span class=\"token keyword\">as</span> tf</pre></td></tr></table></figure><p>åŠ è½½å¯èƒ½æ¯”è¾ƒæ…¢ï¼Œä½†è‹¥æ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œé‚£å°±æ˜¯æˆåŠŸå®‰è£…äº†ã€‚</p>\n<p>è‡³æ­¤ï¼Œå°±åº”è¯¥å¯ä»¥è°ƒç”¨ 4080 æ¥è·‘ tensorflow çš„ä»£ç äº†ï½</p>\n",
            "tags": [
                "æ‚é¡¹",
                "è¸©å‘",
                "æœºå™¨å­¦ä¹ ",
                "æ‚é¡¹",
                "è¸©å‘",
                "tensorflow2"
            ]
        },
        {
            "id": "https://gality.cn/misc/course/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%A4%8D%E4%B9%A0%E8%A6%81%E7%82%B9/",
            "url": "https://gality.cn/misc/course/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%A4%8D%E4%B9%A0%E8%A6%81%E7%82%B9/",
            "title": "ç½‘ç»œå®‰å…¨å¤ä¹ è¦ç‚¹",
            "date_published": "2023-11-24T07:32:12.000Z",
            "content_html": "<h1 id=\"ç½‘ç»œå®‰å…¨å¤ä¹ è¦ç‚¹\"><a class=\"anchor\" href=\"#ç½‘ç»œå®‰å…¨å¤ä¹ è¦ç‚¹\">#</a> ç½‘ç»œå®‰å…¨å¤ä¹ è¦ç‚¹</h1>\n<h2 id=\"ç¬¬ä¸€ç« \"><a class=\"anchor\" href=\"#ç¬¬ä¸€ç« \">#</a> ç¬¬ä¸€ç« </h2>\n<h3 id=\"æŒæ¡ä¿¡æ¯å®‰å…¨çš„å››ä¸ªç›®æ ‡\"><a class=\"anchor\" href=\"#æŒæ¡ä¿¡æ¯å®‰å…¨çš„å››ä¸ªç›®æ ‡\">#</a> æŒæ¡ä¿¡æ¯å®‰å…¨çš„å››ä¸ªç›®æ ‡</h3>\n<ul>\n<li>ä¿å¯†æ€§</li>\n<li>å®Œæ•´æ€§</li>\n<li>å¯ç”¨æ€§</li>\n<li>åˆæ³•ä½¿ç”¨</li>\n</ul>\n<h3 id=\"ä¿¡æ¯ç³»ç»Ÿä¸­å¸¸è§çš„å¨èƒæœ‰å“ªäº›\"><a class=\"anchor\" href=\"#ä¿¡æ¯ç³»ç»Ÿä¸­å¸¸è§çš„å¨èƒæœ‰å“ªäº›\">#</a> ä¿¡æ¯ç³»ç»Ÿä¸­å¸¸è§çš„å¨èƒæœ‰å“ªäº›ï¼Ÿ</h3>\n<ul>\n<li>\n<p>ğŸŒŸ<strong>åŸºæœ¬å¨èƒ</strong>ï¼šä¿¡æ¯æ³„éœ²ã€å®Œæ•´æ€§ç ´åã€æ‹’ç»æœåŠ¡ã€éæ³•ä½¿ç”¨</p>\n</li>\n<li>\n<p><strong>ä¸»è¦çš„å¯å®ç°å¨èƒ</strong>ï¼š</p>\n<ul>\n<li>æ¸—å…¥å¨èƒï¼šå‡å†’æ”»å‡»ã€æ—è·¯æ§åˆ¶ã€æˆæƒä¾µçŠ¯</li>\n<li>æ¤å…¥å¨èƒï¼šç‰¹æ´›ä¼Šæœ¨é©¬ã€é™·é—¨</li>\n</ul>\n</li>\n<li>\n<p><strong>æ½œåœ¨å¨èƒ</strong>ï¼šç½‘ç»œçªƒå¬ã€æµé‡åˆ†æã€æ“ä½œäººå‘˜ä¸æ…å¯¼è‡´ä¿¡æ¯æ³„æ¼ã€åª’ä½“åºŸå¼ƒç‰©å¯¼è‡´ä¿¡æ¯æ³„æ¼</p>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯å®‰å…¨ç­–ç•¥å®‰å…¨ç­–ç•¥åˆ†å‡ ä¸ªç­‰çº§\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯å®‰å…¨ç­–ç•¥å®‰å…¨ç­–ç•¥åˆ†å‡ ä¸ªç­‰çº§\">#</a> ä»€ä¹ˆæ˜¯å®‰å…¨ç­–ç•¥ï¼Ÿå®‰å…¨ç­–ç•¥åˆ†å‡ ä¸ªç­‰çº§ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>å®‰å…¨ç­–ç•¥</strong>ï¼šæŸä¸ª<strong>å®‰å…¨åŸŸ</strong>å†…æ–½åŠ ç»™æ‰€æœ‰ä¸<strong>å®‰å…¨ç›¸å…³æ´»åŠ¨</strong>çš„ä¸€å¥—<strong>è§„åˆ™</strong>ã€‚</p>\n</li>\n<li>\n<p><strong>å®‰å…¨åŸŸ</strong>ï¼šå±äºæŸä¸ªç»„ç»‡æœºæ„çš„ä¸€ç³»åˆ—å¤„ç†è¿›ç¨‹å’Œé€šä¿¡èµ„æº</p>\n</li>\n<li>\n<p><strong>å®‰å…¨ç­–ç•¥ç­‰çº§</strong>ï¼š</p>\n<ul>\n<li><strong>å®‰å…¨ç­–ç•¥ç›®æ ‡</strong>ï¼šæœºæ„å¯¹æ‰€ä¿æŠ¤èµ„æºè¦è¾¾åˆ°çš„å®‰å…¨ç›®æ ‡è€Œè¿›è¡Œçš„æè¿°</li>\n<li><strong>æœºæ„å®‰å…¨ç­–ç•¥</strong>ï¼šå¯¹æœºæ„çš„èµ„æºè¿›è¡Œä¿æŠ¤ï¼Œä»¥è¾¾åˆ°å®‰å…¨ç­–ç•¥è§„å®šç›®æ ‡</li>\n<li><strong>ç³»ç»Ÿå®‰å…¨ç­–ç•¥</strong>ï¼šåœ¨ä¿¡æ¯ç³»ç»Ÿå·¥ç¨‹å®ç°æ—¶ï¼Œè¦æ”¯æŒè¯¥æœºæ„çš„å®‰å…¨ç­–ç•¥</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯è®¿é—®æ§åˆ¶ç­–ç•¥å®ƒåˆ†ä¸ºå“ªä¸¤ç±»æœ‰ä½•ä¸åŒ\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯è®¿é—®æ§åˆ¶ç­–ç•¥å®ƒåˆ†ä¸ºå“ªä¸¤ç±»æœ‰ä½•ä¸åŒ\">#</a> ä»€ä¹ˆæ˜¯è®¿é—®æ§åˆ¶ç­–ç•¥ï¼Ÿå®ƒåˆ†ä¸ºå“ªä¸¤ç±»ï¼Ÿæœ‰ä½•ä¸åŒï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>è®¿é—®æ§åˆ¶ç­–ç•¥</strong>ï¼šè®¿é—®æ§åˆ¶ç­–ç•¥éš¶å±äº<strong>ç³»ç»Ÿçº§å®‰å…¨ç­–ç•¥</strong>ï¼Œå®ƒè¿«ä½¿è®¡ç®—æœºç³»ç»Ÿå’Œç½‘ç»œ<strong>è‡ªåŠ¨åœ°æ‰§è¡Œæˆæƒ</strong>ã€‚</p>\n</li>\n<li>\n<p><strong>åˆ†ç±»</strong>ï¼š</p>\n<ul>\n<li><strong>å¼ºåˆ¶æ€§è®¿é—®æ§åˆ¶ç­–ç•¥</strong>ï¼šç”±æ“ä½œ<strong>ç³»ç»Ÿå†…æ ¸å¼ºåˆ¶</strong>å®æ–½<strong>æˆæƒ</strong>è§„åˆ™ï¼Œ<strong>æ£€æŸ¥</strong>ä¸»ä½“çš„å®‰å…¨å±æ€§ï¼Œå¹¶å†³å®šæ˜¯å¦å¯ä»¥<strong>è®¿é—®</strong>ã€‚</li>\n<li><strong>è‡ªä¸»æ€§è®¿é—®æ§åˆ¶ç­–ç•¥</strong>ï¼šç”±å®¢ä½“çš„<strong>å±ä¸»</strong>å¯¹è‡ªå·±çš„å®¢ä½“è¿›è¡Œç®¡ç†ï¼Œç”±å±ä¸»å†³å®šæ˜¯å¦å°†è‡ªå·±çš„<strong>å®¢ä½“è®¿é—®æƒ</strong>æˆ–<strong>éƒ¨åˆ†è®¿é—®æƒæˆäºˆ</strong>å…¶ä»–ä¸»ä½“ã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"å®‰å…¨æ”»å‡»åˆ†å‡ å¤§ç±»å¸¸è§çš„æ”»å‡»å½¢å¼æœ‰å“ªäº›\"><a class=\"anchor\" href=\"#å®‰å…¨æ”»å‡»åˆ†å‡ å¤§ç±»å¸¸è§çš„æ”»å‡»å½¢å¼æœ‰å“ªäº›\">#</a> å®‰å…¨æ”»å‡»åˆ†å‡ å¤§ç±»ï¼Ÿå¸¸è§çš„æ”»å‡»å½¢å¼æœ‰å“ªäº›ï¼Ÿ</h3>\n<ul>\n<li><strong>å®‰å…¨æ”»å‡»åˆ†ä¸¤å¤§ç±»</strong>ï¼š\n<ul>\n<li><strong>è¢«åŠ¨æ”»å‡»</strong>ï¼šçªƒå¬æ”»å‡»ã€æµé‡åˆ†æ</li>\n<li><strong>ä¸»åŠ¨æ”»å‡»</strong>ï¼šä¼ªè£…æ”»å‡»ã€é‡æ”¾æ”»å‡»ã€æ¶ˆæ¯ç¯¡æ”¹ã€æ‹’ç»æœåŠ¡</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ç†Ÿè®°x800æ ‡å‡†ä¸­çš„5ç±»å®‰å…¨æœåŠ¡å’Œ8ç§ç‰¹å®šå®‰å…¨æœºåˆ¶å¹¶ç®€è¿°å®‰å…¨æœåŠ¡ä¸å®‰å…¨æœºåˆ¶ä¹‹é—´çš„å…³ç³»\"><a class=\"anchor\" href=\"#ç†Ÿè®°x800æ ‡å‡†ä¸­çš„5ç±»å®‰å…¨æœåŠ¡å’Œ8ç§ç‰¹å®šå®‰å…¨æœºåˆ¶å¹¶ç®€è¿°å®‰å…¨æœåŠ¡ä¸å®‰å…¨æœºåˆ¶ä¹‹é—´çš„å…³ç³»\">#</a> ğŸŒŸç†Ÿè®° X.800 æ ‡å‡†ä¸­çš„ 5 ç±»å®‰å…¨æœåŠ¡å’Œ 8 ç§ç‰¹å®šå®‰å…¨æœºåˆ¶ï¼Œå¹¶ç®€è¿°å®‰å…¨æœåŠ¡ä¸å®‰å…¨æœºåˆ¶ä¹‹é—´çš„å…³ç³»ã€‚</h3>\n<p><strong>äº”ç±»å®‰å…¨æœåŠ¡</strong>ï¼š</p>\n<ul>\n<li>è®¤è¯</li>\n<li>è®¿é—®æ§åˆ¶</li>\n<li>æ•°æ®ä¿å¯†æ€§</li>\n<li>æ•°æ®å®Œæ•´æ€§</li>\n<li>ä¸å¯å¦è®¤æ€§</li>\n<li>ï¼ˆå¯ç”¨æ€§æœåŠ¡ï¼‰</li>\n</ul>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/6fwls5.png\" alt=\"å®‰å…¨æœåŠ¡ä¸å®‰å…¨æœºåˆ¶çš„å…³ç³»\" /></p>\n<p>å®‰å…¨æœåŠ¡é€šè¿‡å®‰å…¨æœºåˆ¶å®ç°å®‰å…¨ç­–ç•¥</p>\n<h3 id=\"èƒ½å¤Ÿç†è§£å¹¶ç”»å‡ºç½‘ç»œå®‰å…¨æ¨¡å‹å’Œç½‘ç»œè®¿é—®æ¨¡å‹\"><a class=\"anchor\" href=\"#èƒ½å¤Ÿç†è§£å¹¶ç”»å‡ºç½‘ç»œå®‰å…¨æ¨¡å‹å’Œç½‘ç»œè®¿é—®æ¨¡å‹\">#</a> èƒ½å¤Ÿç†è§£å¹¶ç”»å‡ºç½‘ç»œå®‰å…¨æ¨¡å‹å’Œç½‘ç»œè®¿é—®æ¨¡å‹ã€‚</h3>\n<ul>\n<li>\n<p><strong>ç½‘ç»œå®‰å…¨æ¨¡å‹</strong></p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/x6779c.png\" alt=\"ç½‘ç»œå®‰å…¨æ¨¡å‹\" /></p>\n</li>\n<li>\n<p><strong>ç½‘ç»œè®¿é—®å®‰å…¨æ¨¡å‹</strong></p>\n</li>\n</ul>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/x5wx3k.png\" alt=\"ç½‘ç»œè®¿é—®å®‰å…¨æ¨¡å‹\" /></p>\n<h2 id=\"ç¬¬äºŒç« \"><a class=\"anchor\" href=\"#ç¬¬äºŒç« \">#</a> ç¬¬äºŒç« </h2>\n<h3 id=\"ç†Ÿè®°osiçš„ä¸ƒå±‚å‚è€ƒæ¨¡å‹-tcpipçš„å››å±‚æ¨¡å‹\"><a class=\"anchor\" href=\"#ç†Ÿè®°osiçš„ä¸ƒå±‚å‚è€ƒæ¨¡å‹-tcpipçš„å››å±‚æ¨¡å‹\">#</a> ç†Ÿè®° OSI çš„ä¸ƒå±‚å‚è€ƒæ¨¡å‹ã€TCP/IP çš„å››å±‚æ¨¡å‹</h3>\n<ul>\n<li>\n<p><strong>OSI ä¸ƒå±‚</strong>ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/v6uv8g.png\" alt=\"OSIä½“ç³»ç»“æ„å‚è€ƒæ¨¡å‹\" /></p>\n</li>\n<li>\n<p><strong>TCP/IP å››å±‚</strong>ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/po4p9x.png\" alt=\"TCP/IPä½“ç³»ç»“æ„å‚è€ƒæ¨¡å‹\" /></p>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯é¢å‘è¿æ¥çš„æœåŠ¡ä»€ä¹ˆæ˜¯æ— è¿æ¥çš„æœåŠ¡\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯é¢å‘è¿æ¥çš„æœåŠ¡ä»€ä¹ˆæ˜¯æ— è¿æ¥çš„æœåŠ¡\">#</a> ä»€ä¹ˆæ˜¯é¢å‘è¿æ¥çš„æœåŠ¡ï¼Ÿä»€ä¹ˆæ˜¯æ— è¿æ¥çš„æœåŠ¡ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>é¢å‘è¿æ¥çš„æœåŠ¡</strong>ï¼š</p>\n<p>é¢å‘è¿æ¥çš„æœåŠ¡è¦æ±‚é€šä¿¡åŒæ–¹åœ¨<strong>ä¼ è¾“æ•°æ®ä¹‹å‰é¦–å…ˆå»ºç«‹è¿æ¥</strong>ã€‚æ•°æ®ä¼ è¾“è¿‡ç¨‹åŒ…æ‹¬<strong>å»ºç«‹è¿æ¥</strong>ã€<strong>ä¼ è¾“æ•°æ®</strong>å’Œé‡Šæ”¾è¿æ¥ä¸‰ä¸ªé˜¶æ®µã€‚åœ¨ Internet ä¸­ï¼ŒTCP åè®®æä¾›é¢å‘è¿æ¥çš„æœåŠ¡ï¼Œ ä¸ºåº”ç”¨ç¨‹åºæä¾›å¯é çš„ç«¯åˆ°ç«¯å­—èŠ‚æµæœåŠ¡ã€‚ä¸ºä¿è¯ä¼ è¾“å±‚æœåŠ¡çš„å¯é æ€§ä¸ç¨³å®šæ€§ï¼ŒTCP åè®®æä¾›<strong>æ£€é”™ã€é‡ä¼ ã€æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶</strong>ç­‰è®¸å¤šåŠŸèƒ½ã€‚</p>\n</li>\n<li>\n<p><strong>æ— è¿æ¥çš„æœåŠ¡</strong>ï¼š</p>\n<p>æ— è¿æ¥çš„æœåŠ¡ä¸è¦æ±‚é€šä¿¡åŒæ–¹åœ¨ä¼ è¾“æ•°æ®ä¹‹å‰å»ºç«‹è¿æ¥ï¼Œæ˜¯ â€œ<strong>å°½åŠ›ä¼ é€’</strong>â€ï¼ˆBest-effort Deliveryï¼‰çš„æœåŠ¡ã€‚åœ¨ Internet ä¸­ï¼ŒIP åè®®å’Œ UDP åè®®æä¾›çš„éƒ½æ˜¯æ— è¿æ¥çš„æœåŠ¡ã€‚IP ä¸æä¾›å·®é”™æ£€æŸ¥æˆ–è€…è¿½è¸ªï¼Œå®ƒå°½æœ€å¤§åŠªåŠ›ä½¿ä¼ è¾“æ•°æ®åˆ°è¾¾ç›®æ ‡ï¼Œä½†æ˜¯å¹¶ä¸æä¾›ä»»ä½•æœåŠ¡è´¨é‡ä¿è¯ã€‚åŒç†ï¼ŒUDP æ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œä¹Ÿä¸æä¾›å¯é äº¤ä»˜ã€‚æ— è¿æ¥çš„æœåŠ¡ä¹Ÿå«æ•°æ®æŠ¥æœåŠ¡ï¼Œ å› æ­¤é€šå¸¸å°† IP åè®®çš„åè®®æ•°æ®å•å…ƒç§°ä¸º IP æ•°æ®æŠ¥ï¼Œå°† UDP åè®®çš„åè®®æ•°æ®å•å…ƒç§°ä¸º UDP æ•°æ®æŠ¥ã€‚</p>\n</li>\n</ul>\n<h3 id=\"å¿…é¡»çŸ¥é“ipv4åŠipv6åœ°å€çš„æ ¼å¼åŠé•¿åº¦\"><a class=\"anchor\" href=\"#å¿…é¡»çŸ¥é“ipv4åŠipv6åœ°å€çš„æ ¼å¼åŠé•¿åº¦\">#</a> å¿…é¡»çŸ¥é“ IPv4 åŠ IPv6 åœ°å€çš„æ ¼å¼åŠé•¿åº¦</h3>\n<ul>\n<li><strong>IPv4</strong>ï¼š32 ä½ï¼› 192.168.1.1</li>\n<li><strong>IPv6</strong>ï¼š128 ä½ï¼› 1234:0000:0000:33ff:bbff:aaee:00aa:2233</li>\n</ul>\n<p>IPv6 å°† 128 ä½åœ°å€æŒ‰æ¯ 16 ä½åˆ†å‰²ï¼Œæ¯ä¸ªæ®µç”¨ 16 è¿›åˆ¶æ•°å­—è¡¨ç¤º</p>\n<h3 id=\"å¿…é¡»çŸ¥é“macåœ°å€çš„é•¿åº¦\"><a class=\"anchor\" href=\"#å¿…é¡»çŸ¥é“macåœ°å€çš„é•¿åº¦\">#</a> å¿…é¡»çŸ¥é“ MAC åœ°å€çš„é•¿åº¦</h3>\n<ul>\n<li><strong>MAC</strong>ï¼š48 ä½</li>\n</ul>\n<h3 id=\"ipåœ°å€ä¸macåœ°å€è½¬æ¢é å“ªä¸ªç½‘ç»œåè®®\"><a class=\"anchor\" href=\"#ipåœ°å€ä¸macåœ°å€è½¬æ¢é å“ªä¸ªç½‘ç»œåè®®\">#</a> IP åœ°å€ä¸ MAC åœ°å€è½¬æ¢é å“ªä¸ªç½‘ç»œåè®®ï¼Ÿ</h3>\n<ul>\n<li><strong>ARP åè®®</strong></li>\n</ul>\n<h3 id=\"ipv4çš„åœ°å€åˆ†å“ªå‡ ç±»ç»™å®šä¸€ä¸ªipåœ°å€è¦èƒ½å¤Ÿåˆ†æåˆ¤æ–­å‡ºè¯¥åœ°å€å±äºå“ªä¸€ç±»åœ°å€\"><a class=\"anchor\" href=\"#ipv4çš„åœ°å€åˆ†å“ªå‡ ç±»ç»™å®šä¸€ä¸ªipåœ°å€è¦èƒ½å¤Ÿåˆ†æåˆ¤æ–­å‡ºè¯¥åœ°å€å±äºå“ªä¸€ç±»åœ°å€\">#</a> IPv4 çš„åœ°å€åˆ†å“ªå‡ ç±»ï¼Ÿç»™å®šä¸€ä¸ª IP åœ°å€ï¼Œè¦èƒ½å¤Ÿåˆ†æåˆ¤æ–­å‡ºè¯¥åœ°å€å±äºå“ªä¸€ç±»åœ°å€</h3>\n<ul>\n<li>\n<p>IPv4 åœ°å€åˆ’åˆ†ä¸º<strong> 5</strong> ç±»ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/kbnj9j.png\" alt=\"IPåœ°å€çš„ç±»å‹\" /></p>\n</li>\n<li>\n<p><strong>ç‰¹æ®Šåœ°å€</strong>ï¼š</p>\n<ul>\n<li>ç½‘ç»œåœ°å€ï¼š<strong>ä¸»æœºå·å…¨ 0</strong>ï¼Œç”¨æ¥æŒ‡æ˜æŸä¸ªç‰¹å®šç½‘ç»œã€‚</li>\n<li>ç›´æ¥å¹¿æ’­åœ°å€ï¼š<strong>ä¸»æœºå·å…¨ 1ã€ç½‘ç»œå·ä¸ä¸º 0</strong>ï¼Œè¡¨ç¤ºä¸€ä¸ªç‰©ç†ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºã€‚</li>\n<li>æœ‰é™å¹¿æ’­åœ°å€ï¼š<strong>32 ä½å…¨ 1</strong>ï¼Œå‘ä¸»æœºæ‰€åœ¨ç½‘ç»œå¹¿æ’­ï¼Œï¼ˆç³»ç»Ÿå¯åŠ¨æ—¶ä¸çŸ¥é“ç½‘ç»œå·ï¼‰</li>\n<li>æœ¬æœºåœ°å€ï¼š<strong>32 ä½å…¨ 0</strong>ï¼Œæ‹¨å·ä¸Šç½‘æ—¶æš‚ä»£æœ¬æœºåœ°å€</li>\n</ul>\n</li>\n<li>\n<p><strong>åˆ¤å®š IP åœ°å€ç±»åˆ«</strong>ï¼ˆä»¥ 192.168.1.1 ä¸ºä¾‹ï¼‰ï¼š</p>\n<ol>\n<li>192 è½¬æ¢ä¸ºäºŒè¿›åˆ¶ä¸º 1100 0000</li>\n<li>æŸ¥è¡¨çŸ¥ 110 å¼€å¤´ä¸º C ç±»åœ°å€</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"ç»™å®šä¸€ä¸ªipv4åœ°å€å’Œå­ç½‘æ©ç è¦æ±‚èƒ½å¤Ÿè®¡ç®—å‡ºç½‘ç»œåœ°å€\"><a class=\"anchor\" href=\"#ç»™å®šä¸€ä¸ªipv4åœ°å€å’Œå­ç½‘æ©ç è¦æ±‚èƒ½å¤Ÿè®¡ç®—å‡ºç½‘ç»œåœ°å€\">#</a> ç»™å®šä¸€ä¸ª IPv4 åœ°å€å’Œå­ç½‘æ©ç ï¼Œè¦æ±‚èƒ½å¤Ÿè®¡ç®—å‡ºç½‘ç»œåœ°å€</h3>\n<p><strong>ä¾‹é¢˜</strong>ï¼šå·²çŸ¥ IP åœ°å€ 202.112.64.19ï¼Œå­ç½‘æ©ç  255.255.255.240ï¼Œåˆ™ IP åœ°å€ 202.11264.19 çš„äºŒè¿›åˆ¶å½¢å¼ä¸º</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>11000010</mn><mspace width=\"1em\"/><mn>01110000</mn><mspace width=\"1em\"/><mn>01000000</mn><mspace width=\"1em\"/><mn>00010011</mn></mrow><annotation encoding=\"application/x-tex\">11000010 \\quad 01110000 \\quad 01000000 \\quad 00010011\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">1</span></span></span></span></span></p>\n<p>å­ç½‘æ©ç  255.255.255.240 çš„äºŒè¿›åˆ¶å½¢å¼ä¸º</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>11111111</mn><mspace width=\"1em\"/><mn>11111111</mn><mspace width=\"1em\"/><mn>11111111</mn><mspace width=\"1em\"/><mn>11110000</mn></mrow><annotation encoding=\"application/x-tex\">11111111 \\quad 11111111 \\quad 11111111 \\quad 11110000\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span></span></span></span></span></p>\n<p>ä¸Šé¢ä¸¤å¼è¿›è¡Œé€ä½ â€œä¸â€ è¿ç®—ï¼Œå¾—å‡ºç½‘ç»œåœ°å€ä¸º</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>11000010</mn><mspace width=\"1em\"/><mn>01110000</mn><mspace width=\"1em\"/><mn>01000000</mn><mspace width=\"1em\"/><mn>00010000</mn></mrow><annotation encoding=\"application/x-tex\">11000010 \\quad 01110000 \\quad 01000000 \\quad 00010000\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span></span></span></span></span></p>\n<p>æ¢ç®—å›åè¿›åˆ¶ï¼Œå¯å¾—è¯¥ç½‘ç»œåœ°å€çš„ä¸º</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>202.112.64.16</mn></mrow><annotation encoding=\"application/x-tex\">202.112.64.16\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">2</span><span class=\"mord\">0</span><span class=\"mord\">2</span><span class=\"mord\">.</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">2</span><span class=\"mord\">.</span><span class=\"mord\">6</span><span class=\"mord\">4</span><span class=\"mord\">.</span><span class=\"mord\">1</span><span class=\"mord\">6</span></span></span></span></span></p>\n<h3 id=\"ç†Ÿæ‚‰cidrçš„è¡¨ç¤ºæ–¹æ³•å¦‚1281432020è¡¨ç¤ºçš„åœ°å€å—èŒƒå›´å’Œå­ç½‘æ©ç æ˜¯ä»€ä¹ˆ\"><a class=\"anchor\" href=\"#ç†Ÿæ‚‰cidrçš„è¡¨ç¤ºæ–¹æ³•å¦‚1281432020è¡¨ç¤ºçš„åœ°å€å—èŒƒå›´å’Œå­ç½‘æ©ç æ˜¯ä»€ä¹ˆ\">#</a> ç†Ÿæ‚‰ CIDR çš„è¡¨ç¤ºæ–¹æ³•ï¼Œå¦‚ï¼š128.14.32.0/20 è¡¨ç¤ºçš„åœ°å€å—èŒƒå›´å’Œå­ç½‘æ©ç æ˜¯ä»€ä¹ˆï¼Ÿ</h3>\n<p><span class=\"primary\">å”¯ä¸€çš„é‡ç‚¹ï¼šåœ°å€å—èŒƒå›´ä¸åŒ…å« host-id ä¸ºå…¨ 0 å’Œå…¨ 1 çš„ä¸¤ä¸ªåœ°å€</span></p>\n<ul>\n<li>\n<p><strong>CIDR è¡¨ç¤ºæ–¹æ³•</strong>ï¼š <code>128.14.32.0/20</code> ï¼Œå‰é¢æ˜¯ IP åœ°å€ï¼Œåé¢æ˜¯ç½‘ç»œå·ä½æ•°</p>\n</li>\n<li>\n<p>ä»¥ <code>128.14.32.0/20</code>  ä¸ºä¾‹ï¼š</p>\n<ol>\n<li>\n<p><strong>å­ç½‘æ©ç </strong>ï¼š20 å³å­ç½‘æ©ç å‰ 20 ä½ä¸º 1ï¼Œæ‰€ä»¥äºŒè¿›åˆ¶ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>11111111</mn><mspace width=\"1em\"/><mn>11111111</mn><mspace width=\"1em\"/><mn>11110000</mn><mspace width=\"1em\"/><mn>00000000</mn></mrow><annotation encoding=\"application/x-tex\">11111111 \\quad 11111111 \\quad 11110000 \\quad 00000000\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span></span></span></span></span></p>\n<p>å¯¹åº”åè¿›åˆ¶ä¸ºï¼š255.255.240.0</p>\n</li>\n<li>\n<p><strong>åœ°å€å—èŒƒå›´</strong>ï¼šå°±æ˜¯ IP çš„ä¸»æœºä½å…¨ 0 å’Œå…¨ 1 çš„èŒƒå›´ï¼ˆ<strong>å…¶å®æ˜¯æŠ›å»å…¨ 0 å’Œå…¨ 1</strong>ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªæ˜¯ç‰¹æ®Šåœ°å€ï¼‰ï¼Œå³ï¼š</p>\n<ul>\n<li>èµ·å§‹ IP åœ°å€ï¼š</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>10000000</mn><mspace width=\"1em\"/><mn>00001110</mn><mspace width=\"1em\"/><mn>00100000</mn><mspace width=\"1em\"/><mn>00000001</mn></mrow><annotation encoding=\"application/x-tex\">10000000 \\quad 00001110 \\quad 00100000 \\quad 00000001\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span></span></span></span></span></p>\n<ul>\n<li>ç»“æŸ IP åœ°å€</li>\n</ul>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>10000000</mn><mspace width=\"1em\"/><mn>00001110</mn><mspace width=\"1em\"/><mn>00101111</mn><mspace width=\"1em\"/><mn>11111110</mn></mrow><annotation encoding=\"application/x-tex\">10000000 \\quad 00001110 \\quad 00101111 \\quad 11111110\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">1</span><span class=\"mord\">0</span></span></span></span></span></p>\n<p>å³åœ°å€å—å¯¹åº”çš„åè¿›åˆ¶ä¸ºï¼š128.14.32.1 ï½ 128.14.47.254</p>\n</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯ç«¯å£å·ç«¯å£å·åœ¨ç½‘ç»œé€šä¿¡ä¸­èµ·ä»€ä¹ˆä½œç”¨\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯ç«¯å£å·ç«¯å£å·åœ¨ç½‘ç»œé€šä¿¡ä¸­èµ·ä»€ä¹ˆä½œç”¨\">#</a> ä»€ä¹ˆæ˜¯ â€œç«¯å£å·â€ï¼Ÿâ€œç«¯å£å·â€ åœ¨ç½‘ç»œé€šä¿¡ä¸­èµ·ä»€ä¹ˆä½œç”¨ï¼Ÿ</h3>\n<ul>\n<li>\n<p>â€œ<strong>ç«¯å£å·</strong>â€ æ˜¯æŒ‰ç…§åº”ç”¨è¿›ç¨‹çš„<strong>åŠŸèƒ½</strong>å¯¹åº”ç”¨è¿›ç¨‹å®è¡Œçš„<strong>æ ‡è¯†</strong>ï¼Œä¸»è¦ä½œç”¨æ˜¯è¡¨ç¤ºä¸€å°è®¡ç®—æœºä¸­çš„ç‰¹å®šè¿›ç¨‹æ‰€æä¾›çš„æœåŠ¡ï¼Œé•¿åº¦ä¸º 16 ä½ã€‚</p>\n</li>\n<li>\n<p>åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œ<strong>ç«¯å£å·</strong>å’Œ<strong> IP åœ°å€</strong>ç»‘å®šä½¿ç”¨ï¼Œå½¢æˆçš„<strong>æ ‡è¯†</strong>ç§°ä¸º<strong>æ’å£</strong>ï¼Œåœ¨ç½‘ç»œä¸­<strong>å”¯ä¸€</strong>å¯¹åº”æŸä¸ªä¸»æœºçš„æŸä¸ªè¿›ç¨‹ã€‚</p>\n</li>\n</ul>\n<h2 id=\"ç¬¬ä¸‰ç« \"><a class=\"anchor\" href=\"#ç¬¬ä¸‰ç« \">#</a> ç¬¬ä¸‰ç« </h2>\n<h3 id=\"ç†Ÿè®°httpftptelnetpop3smtpimapsshdnsç­‰å¸¸ç”¨é€šä¿¡åè®®çš„åŠŸèƒ½åŠç«¯å£å·\"><a class=\"anchor\" href=\"#ç†Ÿè®°httpftptelnetpop3smtpimapsshdnsç­‰å¸¸ç”¨é€šä¿¡åè®®çš„åŠŸèƒ½åŠç«¯å£å·\">#</a> ç†Ÿè®° http/ftp/telnet/pop3/smtp/imap/ssh/dns ç­‰å¸¸ç”¨é€šä¿¡åè®®çš„åŠŸèƒ½åŠç«¯å£å·</h3>\n<ul>\n<li><strong>http</strong>ï¼ˆ80ï¼‰ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ï¼Œæ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€å¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ã€‚</li>\n<li><strong>ftp</strong>ï¼ˆä¼ è¾“ 20 / æ§åˆ¶ 21ï¼‰ï¼šæ–‡ä»¶ä¼ è¾“åè®®ï¼ŒInternet æ–‡ä»¶ä¼ é€çš„åŸºç¡€ï¼Œæ˜¯ TCP/IP åè®®æ—çš„é‡è¦åè®®ä¹‹ä¸€ã€‚</li>\n<li><strong>telnet</strong>ï¼ˆ23ï¼‰ï¼šè¿œç¨‹ç™»å½•åè®®ï¼ŒInternet è¿œç¨‹ç™»å½•æœåŠ¡çš„æ ‡å‡†åè®®å’Œä¸»è¦æ–¹å¼ã€‚</li>\n<li><strong>pop3</strong>ï¼ˆ110ï¼‰ï¼šé‚®å±€åè®®ï¼Œé‚®ä»¶åè®®çš„ç¬¬ä¸‰ä¸ªç‰ˆæœ¬ã€‚</li>\n<li><strong>smtp</strong>ï¼ˆ25ï¼‰ï¼šç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼Œæ˜¯ä¸€ç»„ç”¨äºç”±æºåœ°å€åˆ°ç›®çš„åœ°å€ä¼ é€é‚®ä»¶çš„è§„åˆ™ï¼Œç”±å®ƒæ¥æ§åˆ¶ä¿¡ä»¶çš„ä¸­è½¬æ–¹å¼ã€‚</li>\n<li><strong>imap4</strong>ï¼ˆ143ï¼Œ993ï¼‰ï¼šé‚®ä»¶è®¿é—®åè®®ï¼Œé‡‡ç”¨ â€œæŒ‘æˆ˜ / å“åº”â€ å®ç°ç”¨æˆ·è®¤è¯ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ã€‚</li>\n<li><strong>ssh</strong>ï¼ˆ22ï¼‰ï¼šå®‰å…¨å£³åè®®ï¼Œä¸€ç§åœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸Šå»ºç«‹å®‰å…¨çš„è¿œç¨‹ç™»å½•æˆ–å…¶ä»–å®‰å…¨ç½‘ç»œæœåŠ¡çš„åè®®ã€‚</li>\n<li><strong>dns</strong>ï¼ˆUDP53ï¼‰ï¼šåŸŸåç³»ç»Ÿæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ç³»ç»Ÿï¼Œç”¨æ¥å®ç°åŸŸåå’Œ IP åœ°å€ä¹‹é—´çš„æ˜ å°„ã€‚</li>\n</ul>\n<h3 id=\"ç½‘é™…å±‚åè®®æœ‰å“ªäº›ä¼ è¾“å±‚åè®®æœ‰å“ªäº›åº”ç”¨å±‚åè®®æœ‰å“ªäº›\"><a class=\"anchor\" href=\"#ç½‘é™…å±‚åè®®æœ‰å“ªäº›ä¼ è¾“å±‚åè®®æœ‰å“ªäº›åº”ç”¨å±‚åè®®æœ‰å“ªäº›\">#</a> ç½‘é™…å±‚åè®®æœ‰å“ªäº›ï¼Ÿä¼ è¾“å±‚åè®®æœ‰å“ªäº›ï¼Ÿåº”ç”¨å±‚åè®®æœ‰å“ªäº›ï¼Ÿ</h3>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/uytewn.png\" alt=\"TCP/IPåè®®æ—ä¸åŒå±‚æ¬¡åˆ’åˆ†\" /></p>\n<ul>\n<li><strong>ç½‘é™…å±‚</strong>ï¼šIPã€ARPã€ICMP ç­‰</li>\n<li><strong>ä¼ è¾“å±‚</strong>ï¼šTCPã€UDP ç­‰</li>\n<li><strong>åº”ç”¨å±‚</strong>ï¼šHTTPã€SMTPã€POP3ã€FTP ç­‰</li>\n</ul>\n<h3 id=\"ä¸ºä»€ä¹ˆè¦è¿›è¡Œç½‘ç»œåœ°å€è½¬æ¢nat\"><a class=\"anchor\" href=\"#ä¸ºä»€ä¹ˆè¦è¿›è¡Œç½‘ç»œåœ°å€è½¬æ¢nat\">#</a> ä¸ºä»€ä¹ˆè¦è¿›è¡Œç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ï¼Ÿ</h3>\n<p>è§£å†³ IPv4 åœ°å€çŸ­ç¼ºé—®é¢˜ã€‚</p>\n<h3 id=\"arpåè®®çš„ä½œç”¨æ˜¯ä»€ä¹ˆ\"><a class=\"anchor\" href=\"#arpåè®®çš„ä½œç”¨æ˜¯ä»€ä¹ˆ\">#</a> ARP åè®®çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3>\n<p>å°†å±€åŸŸç½‘ä¸­çš„ IP åœ°å€è½¬åŒ–ä¸ºå¯¹åº”çš„ç‰©ç†åœ°å€ï¼ˆMAC åœ°å€ï¼‰ã€‚</p>\n<h3 id=\"ä¸ºä»€ä¹ˆudpæ¯”tcpåè®®æ›´åŠ å®¹æ˜“é­åˆ°æ”»å‡»\"><a class=\"anchor\" href=\"#ä¸ºä»€ä¹ˆudpæ¯”tcpåè®®æ›´åŠ å®¹æ˜“é­åˆ°æ”»å‡»\">#</a> ä¸ºä»€ä¹ˆ UDP æ¯” TCP åè®®æ›´åŠ å®¹æ˜“é­åˆ°æ”»å‡»ï¼Ÿ</h3>\n<p>å› ä¸º UDP æ²¡æœ‰äº¤æ¢æ¡æ‰‹ä¿¡æ¯å’Œåºå·çš„è¿‡ç¨‹ã€‚</p>\n<h3 id=\"imapåè®®ä¸pop3åè®®ç›¸æ¯”å®ƒçš„å®‰å…¨æ€§æœ‰å“ªäº›æå‡\"><a class=\"anchor\" href=\"#imapåè®®ä¸pop3åè®®ç›¸æ¯”å®ƒçš„å®‰å…¨æ€§æœ‰å“ªäº›æå‡\">#</a> IMAP åè®®ä¸ POP3 åè®®ç›¸æ¯”ï¼Œå®ƒçš„å®‰å…¨æ€§æœ‰å“ªäº›æå‡ï¼Ÿ</h3>\n<ul>\n<li>æ”¯æŒç”¨æˆ·å¯¹æœåŠ¡å™¨çš„è¿œç¨‹åŠ å¯†è®¿é—®</li>\n<li>é‡‡ç”¨ â€œæŒ‘æˆ˜ / å“åº”â€ æœºåˆ¶å®ç°ç”¨æˆ·è®¤è¯</li>\n</ul>\n<h3 id=\"sshåè®®ä¸telnetåè®®ç›¸æ¯”å®ƒçš„å®‰å…¨æ€§æœ‰å“ªäº›æå‡\"><a class=\"anchor\" href=\"#sshåè®®ä¸telnetåè®®ç›¸æ¯”å®ƒçš„å®‰å…¨æ€§æœ‰å“ªäº›æå‡\">#</a> SSH åè®®ä¸ Telnet åè®®ç›¸æ¯”ï¼Œå®ƒçš„å®‰å…¨æ€§æœ‰å“ªäº›æå‡ï¼Ÿ</h3>\n<ul>\n<li>æä¾›å¤šç§èº«ä»½è®¤è¯å’Œæ•°æ®åŠ å¯†æœºåˆ¶</li>\n<li>å¯¹æ‰€æœ‰ä¼ è¾“æ•°æ®è¿›è¡ŒåŠ å¯†å¤„ç†</li>\n<li>é‡‡ç”¨ â€œæŒ‘æˆ˜ / å“åº”â€ æœºåˆ¶æ›¿ä»£ä¼ ç»Ÿçš„ä¸»æœºåå’Œå£ä»¤è®¤è¯</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯icmpé‡å®šå‘æ”»å‡»å¦‚ä½•é˜²æ­¢æ­¤ç±»æ”»å‡»\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯icmpé‡å®šå‘æ”»å‡»å¦‚ä½•é˜²æ­¢æ­¤ç±»æ”»å‡»\">#</a> ä»€ä¹ˆæ˜¯ ICMP é‡å®šå‘æ”»å‡»ï¼Ÿå¦‚ä½•é˜²æ­¢æ­¤ç±»æ”»å‡»ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>é‡å®šå‘æ”»å‡»</strong>ï¼šæ”»å‡»è€…å¯ä»¥åˆ©ç”¨ ICMP å¯¹æ¶ˆæ¯è¿›è¡Œé‡å®šå‘ï¼Œä½¿å¾—ç›®æ ‡æœºå™¨æŒ‰ç…§æ”»å‡»è€…çš„ä¿¡æ¯æ¥<strong>ä¿®æ”¹è·¯ç”±è¡¨</strong>ï¼Œé­å—<strong>è¿æ¥åŠ«æŒ</strong>å’Œ<strong>æ‹’ç»æœåŠ¡</strong>ç­‰æ”»å‡»ã€‚</p>\n</li>\n<li>\n<p>é˜²æŠ¤ï¼šé‡å®šå‘æ¶ˆæ¯åº”è¯¥ä»…ç”±äº§ç”Ÿæ¶ˆæ¯çš„ä¸»æœºæˆ–è·¯ç”±å™¨æ‰§è¡Œï¼Œç½‘ç®¡å‘˜ä¸åº”ä½¿ç”¨ ICMP åˆ›å»ºé€šå¾€ç›®çš„åœ°çš„æ–°è·¯ç”±ï¼Œåº”è¯¥<strong>ç¦ç”¨ ICMP åè®®</strong>æˆ–<strong>é…ç½®é˜²ç«å¢™</strong>çš„å®‰å…¨ç­–ç•¥æ¥é¢„é˜²æ”»å‡»ã€‚</p>\n</li>\n</ul>\n<h3 id=\"åœ¨ç½‘ç»œä¸­ä¸ºä»€ä¹ˆä¸èƒ½ä»…ä»…é è¯†åˆ«æ•°æ®åŒ…çš„ipåœ°å€æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ®åŒ…å°±æ˜¯æ¥è‡ªè¯¥-ipåœ°å€çš„ä¸»æœº\"><a class=\"anchor\" href=\"#åœ¨ç½‘ç»œä¸­ä¸ºä»€ä¹ˆä¸èƒ½ä»…ä»…é è¯†åˆ«æ•°æ®åŒ…çš„ipåœ°å€æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ®åŒ…å°±æ˜¯æ¥è‡ªè¯¥-ipåœ°å€çš„ä¸»æœº\">#</a> åœ¨ç½‘ç»œä¸­ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ä»…ä»…é è¯†åˆ«æ•°æ®åŒ…çš„ IP åœ°å€ï¼Œæ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ®åŒ…å°±æ˜¯æ¥è‡ªè¯¥ IP åœ°å€çš„ä¸»æœºï¼Ÿ</h3>\n<p>IP å±‚ä¸èƒ½ä¿è¯ IP æ•°æ®æŠ¥ä¸€å®šæ˜¯ä»æºåœ°å€å‘é€çš„ã€‚æ”»å‡»è€…å¯ä¼ªè£…æˆå¦ä¸€ç½‘ç»œä¸»æœºï¼Œå‘é€å«æœ‰<strong>ä¼ªé€ æºåœ°å€</strong>çš„æ•°æ®åŒ…æ¬ºéª—æ¥å—è€…ã€‚æ­¤æ”»å‡»ç§°ä¸º<strong> IP æ¬ºéª—æ”»å‡»</strong>ã€‚</p>\n<h2 id=\"ç¬¬å››ç« \"><a class=\"anchor\" href=\"#ç¬¬å››ç« \">#</a> ç¬¬å››ç« </h2>\n<h3 id=\"æŒ‰ç…§å¯¹æ˜æ–‡æ¶ˆæ¯çš„å¤„ç†æ–¹å¼ä¸åŒå•é’¥ä½“åˆ¶å¯åˆ†ä¸ºå“ªä¸¤ç±»\"><a class=\"anchor\" href=\"#æŒ‰ç…§å¯¹æ˜æ–‡æ¶ˆæ¯çš„å¤„ç†æ–¹å¼ä¸åŒå•é’¥ä½“åˆ¶å¯åˆ†ä¸ºå“ªä¸¤ç±»\">#</a> æŒ‰ç…§å¯¹æ˜æ–‡æ¶ˆæ¯çš„å¤„ç†æ–¹å¼ä¸åŒï¼Œå•é’¥ä½“åˆ¶å¯åˆ†ä¸ºå“ªä¸¤ç±»ï¼Ÿ</h3>\n<ul>\n<li>åˆ†ç»„å¯†ç </li>\n<li>æµå¯†ç </li>\n</ul>\n<h3 id=\"å¤å…¸å¯†ç ä¸­çš„ä¸¤ä¸ªå¸¸ç”¨çš„å˜æ¢æ˜¯ä»€ä¹ˆ\"><a class=\"anchor\" href=\"#å¤å…¸å¯†ç ä¸­çš„ä¸¤ä¸ªå¸¸ç”¨çš„å˜æ¢æ˜¯ä»€ä¹ˆ\">#</a> å¤å…¸å¯†ç ä¸­çš„ä¸¤ä¸ªå¸¸ç”¨çš„å˜æ¢æ˜¯ä»€ä¹ˆï¼Ÿ</h3>\n<ul>\n<li>ç½®æ¢ï¼ˆæ‰©æ•£ï¼‰</li>\n<li>ä»£æ¢ï¼ˆæ··æ·†ï¼‰</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯ç†è®ºä¸Šå®‰å…¨ä»€ä¹ˆæ˜¯è®¡ç®—ä¸Šå®‰å…¨ç†è®ºä¸Šå®‰å…¨çš„å¯†ç ç®—æ³•æœ‰å‡ ä¸ªç†è®ºä¸Šå®‰å…¨çš„å¯†ç æ˜¯ä»€ä¹ˆå¯†ç \"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯ç†è®ºä¸Šå®‰å…¨ä»€ä¹ˆæ˜¯è®¡ç®—ä¸Šå®‰å…¨ç†è®ºä¸Šå®‰å…¨çš„å¯†ç ç®—æ³•æœ‰å‡ ä¸ªç†è®ºä¸Šå®‰å…¨çš„å¯†ç æ˜¯ä»€ä¹ˆå¯†ç \">#</a> ä»€ä¹ˆæ˜¯ç†è®ºä¸Šå®‰å…¨ï¼Ÿä»€ä¹ˆæ˜¯è®¡ç®—ä¸Šå®‰å…¨ï¼Ÿç†è®ºä¸Šå®‰å…¨çš„å¯†ç ç®—æ³•æœ‰å‡ ä¸ªï¼Ÿç†è®ºä¸Šå®‰å…¨çš„å¯†ç æ˜¯ä»€ä¹ˆå¯†ç ï¼Ÿ</h3>\n<ul>\n<li><strong>è®¡ç®—ä¸Šå®‰å…¨</strong>ï¼šæ»¡è¶³ä»¥ä¸‹ä¸¤æ¡æ ‡å‡†ä¸­ä»»æ„ä¸€æ¡å°±ç§°ä¸ºè®¡ç®—ä¸Šå®‰å…¨\n<ul>\n<li>ç ´è¯‘å¯†ç çš„ä»£ä»·è¶…å‡ºå¯†æ–‡ä¿¡æ¯çš„ä»·å€¼</li>\n<li>ç ´è¯‘å¯†ç çš„æ—¶é—´è¶…å‡ºå¯†æ–‡ä¿¡æ¯çš„æœ‰æ•ˆç”Ÿå‘½æœŸ</li>\n</ul>\n</li>\n<li><strong>ç†è®ºä¸Šå®‰å…¨</strong>ï¼ˆæ— æ¡ä»¶å®‰å…¨ï¼‰ï¼šå‡å®šæ”»å‡»è€…æ‹¥æœ‰æ— é™çš„è®¡ç®—èµ„æºï¼Œæ— è®ºæœ‰å¤šå°‘å¯ä½¿ç”¨çš„å¯†æ–‡ï¼Œéƒ½ä¸è¶³ä»¥å”¯ä¸€åœ°ç¡®å®šå¯†æ–‡æ‰€å¯¹åº”çš„æ˜æ–‡</li>\n<li>åªæœ‰<strong>ä¸€æ¬¡ä¸€å¯†</strong>æ˜¯ç†è®ºä¸Šå®‰å…¨çš„</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯åŒæ­¥æµå¯†ç -è‡ªåŒæ­¥æµå¯†ç æµå¯†ç çš„å®‰å…¨æ€§å–æ±ºäºä»€ä¹ˆ\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯åŒæ­¥æµå¯†ç -è‡ªåŒæ­¥æµå¯†ç æµå¯†ç çš„å®‰å…¨æ€§å–æ±ºäºä»€ä¹ˆ\">#</a> ä»€ä¹ˆæ˜¯åŒæ­¥æµå¯†ç ã€è‡ªåŒæ­¥æµå¯†ç ï¼Ÿæµå¯†ç çš„å®‰å…¨æ€§å–æ±ºäºä»€ä¹ˆï¼Ÿ</h3>\n<ul>\n<li><strong>åŒæ­¥æµå¯†ç </strong>ï¼šå¯†é’¥æµç‹¬ç«‹äºæ˜æ–‡çš„æµå¯†ç </li>\n<li><strong>è‡ªåŒæ­¥æµå¯†ç </strong>ï¼šå¯†é’¥æµä¸æ˜æ–‡æœ‰å…³çš„æµå¯†ç </li>\n<li>æµå¯†ç çš„å®‰å…¨æ€§<strong>å®Œå…¨ä¾èµ–äºä¼ªéšæœºæ•°çš„å¼ºåº¦</strong></li>\n</ul>\n<h3 id=\"desåˆ†ç»„é•¿åº¦-å¯†é’¥é•¿åº¦-è½®æ•°æ˜¯å¤šå°‘1è½®åŠ å¯†åŒ…æ‹¬å“ªäº›å˜æ¢desä¸­çš„éçº¿æ€§å˜æ¢æ˜¯ä»€ä¹ˆå˜æ¢\"><a class=\"anchor\" href=\"#desåˆ†ç»„é•¿åº¦-å¯†é’¥é•¿åº¦-è½®æ•°æ˜¯å¤šå°‘1è½®åŠ å¯†åŒ…æ‹¬å“ªäº›å˜æ¢desä¸­çš„éçº¿æ€§å˜æ¢æ˜¯ä»€ä¹ˆå˜æ¢\">#</a> DES åˆ†ç»„é•¿åº¦ã€å¯†é’¥é•¿åº¦ã€è½®æ•°æ˜¯å¤šå°‘ï¼Ÿ1 è½®åŠ å¯†åŒ…æ‹¬å“ªäº›å˜æ¢ï¼ŸDES ä¸­çš„éçº¿æ€§å˜æ¢æ˜¯ä»€ä¹ˆå˜æ¢ï¼Ÿ</h3>\n<h3 id=\"aesåˆ†ç»„é•¿åº¦-å¯†é’¥é•¿åº¦-è½®æ•°æ˜¯å¤šå°‘1è½®åŠ å¯†åŒ…æ‹¬å“ªäº›å˜æ¢aesä¸­åŒ…å«çš„éçº¿æ€§å˜æ¢æ˜¯ä»€ä¹ˆå˜æ¢\"><a class=\"anchor\" href=\"#aesåˆ†ç»„é•¿åº¦-å¯†é’¥é•¿åº¦-è½®æ•°æ˜¯å¤šå°‘1è½®åŠ å¯†åŒ…æ‹¬å“ªäº›å˜æ¢aesä¸­åŒ…å«çš„éçº¿æ€§å˜æ¢æ˜¯ä»€ä¹ˆå˜æ¢\">#</a> AES åˆ†ç»„é•¿åº¦ã€å¯†é’¥é•¿åº¦ã€è½®æ•°æ˜¯å¤šå°‘ï¼Ÿ1 è½®åŠ å¯†åŒ…æ‹¬å“ªäº›å˜æ¢ï¼ŸAES ä¸­åŒ…å«çš„éçº¿æ€§å˜æ¢æ˜¯ä»€ä¹ˆå˜æ¢ï¼Ÿ</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">åŠ å¯†ç®—æ³•</th>\n<th style=\"text-align:center\">åˆ†ç»„é•¿åº¦</th>\n<th style=\"text-align:center\">å¯†é’¥é•¿åº¦</th>\n<th style=\"text-align:center\">è½®æ•°</th>\n<th style=\"text-align:center\">ä¸€è½®åŠ å¯†ç®—æ³•</th>\n<th style=\"text-align:center\">éçº¿æ€§å˜æ¢</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">DES</td>\n<td style=\"text-align:center\">64</td>\n<td style=\"text-align:center\">56</td>\n<td style=\"text-align:center\">16</td>\n<td style=\"text-align:center\">E ç›’ç½®æ¢ + è½®å¯†é’¥åŠ  + S ç›’ä»£æ¢ + P ç›’ç½®æ¢ + å·¦å³åˆ†ç»„äº¤æ¢</td>\n<td style=\"text-align:center\">S ç›’ç½®æ¢</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">AES</td>\n<td style=\"text-align:center\">128</td>\n<td style=\"text-align:center\">128/192/256</td>\n<td style=\"text-align:center\">10/12/14</td>\n<td style=\"text-align:center\">å­—èŠ‚ä»£æ¢ã€è¡Œç§»ä½ã€åˆ—æ··æ·†ã€è½®å¯†é’¥åŠ </td>\n<td style=\"text-align:center\">å­—èŠ‚ä»£æ¢ + åˆ—æ··æ·†</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"åŠ å¯†è½®æ•°æ˜¯å¦è¶Šå¤šè¶Šå¥½å¯†é’¥æ˜¯å¦è¶Šé•¿è¶Šå¥½å°†2ä¸ªç®—æ³•ä¸²è”å¯¹æ•°æ®åŠ å¯†æ˜¯å¦ä¸€å®šæ›´å®‰å…¨\"><a class=\"anchor\" href=\"#åŠ å¯†è½®æ•°æ˜¯å¦è¶Šå¤šè¶Šå¥½å¯†é’¥æ˜¯å¦è¶Šé•¿è¶Šå¥½å°†2ä¸ªç®—æ³•ä¸²è”å¯¹æ•°æ®åŠ å¯†æ˜¯å¦ä¸€å®šæ›´å®‰å…¨\">#</a> åŠ å¯†è½®æ•°æ˜¯å¦è¶Šå¤šè¶Šå¥½ï¼Ÿå¯†é’¥æ˜¯å¦è¶Šé•¿è¶Šå¥½ï¼Ÿå°† 2 ä¸ªç®—æ³•ä¸²è”å¯¹æ•°æ®åŠ å¯†ï¼Œæ˜¯å¦ä¸€å®šæ›´å®‰å…¨ï¼Ÿ</h3>\n<ul>\n<li>åŠ å¯†è½®æ•°<span class=\"primary\">ä¸</span>æ˜¯è¶Šå¤šè¶Šå¥½</li>\n<li>å¯†é’¥<span class=\"primary\">ä¸</span>æ˜¯è¶Šé•¿è¶Šå¥½</li>\n<li>ä¸¤ä¸ªç®—æ³•ä¸²è”<span class=\"primary\">ä¸</span>ä¸€å®šæ›´å®‰å…¨</li>\n</ul>\n<h3 id=\"åˆ†ç»„å¯†ç çš„5ç§å·¥ä½œæ¨¡å¼æ˜¯ä»€ä¹ˆèƒ½ç”»å‡º5ç§å·¥ä½œæ¨¡å¼çš„åŸç†æ¡†å›¾\"><a class=\"anchor\" href=\"#åˆ†ç»„å¯†ç çš„5ç§å·¥ä½œæ¨¡å¼æ˜¯ä»€ä¹ˆèƒ½ç”»å‡º5ç§å·¥ä½œæ¨¡å¼çš„åŸç†æ¡†å›¾\">#</a> ğŸŒŸåˆ†ç»„å¯†ç çš„ 5 ç§å·¥ä½œæ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿèƒ½ç”»å‡º 5 ç§å·¥ä½œæ¨¡å¼çš„åŸç†æ¡†å›¾ã€‚</h3>\n<ul>\n<li>\n<p>ECB</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/yeeu38.png\" alt=\"ECB\" /></p>\n</li>\n<li>\n<p>CBC</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/zoxgx5.png\" alt=\"CBC\" /></p>\n</li>\n<li>\n<p>CFB</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/3rcj5c.png\" alt=\"CFB\" /></p>\n</li>\n<li>\n<p>OFB</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/e1v87j.png\" alt=\"OFB\" /></p>\n</li>\n<li>\n<p>CTR<br />\n<img data-src=\"http://imgcdn.gality.cn/blog/ao17gm.png\" alt=\"CTR\" /></p>\n</li>\n</ul>\n<h3 id=\"åˆ†æ5ç§åŠ å¯†æ¨¡å¼ä¸­å“ªäº›åŠ å¯†æ¨¡å¼æ²¡æœ‰è¯¯ç æ‰©å±•å“ªäº›æœ‰è¯¯ç æ‰©å±•å¦‚æœæœ‰è¯¯ç æ‰©å±•-ä¼šå½±å“å¤šå°‘ä¸ªåˆ†ç»„\"><a class=\"anchor\" href=\"#åˆ†æ5ç§åŠ å¯†æ¨¡å¼ä¸­å“ªäº›åŠ å¯†æ¨¡å¼æ²¡æœ‰è¯¯ç æ‰©å±•å“ªäº›æœ‰è¯¯ç æ‰©å±•å¦‚æœæœ‰è¯¯ç æ‰©å±•-ä¼šå½±å“å¤šå°‘ä¸ªåˆ†ç»„\">#</a> åˆ†æ 5 ç§åŠ å¯†æ¨¡å¼ä¸­ï¼Œå“ªäº›åŠ å¯†æ¨¡å¼æ²¡æœ‰è¯¯ç æ‰©å±•ï¼Ÿå“ªäº›æœ‰è¯¯ç æ‰©å±•ï¼Ÿå¦‚æœæœ‰è¯¯ç æ‰©å±•ï¼Œ ä¼šå½±å“å¤šå°‘ä¸ªåˆ†ç»„ï¼Ÿ</h3>\n<ul>\n<li>è¯¯ç æ‰©å±•ï¼šå¯†æ–‡ä¸­<strong> 1bit</strong> é”™è¯¯ä¼šå½±å“è§£å¯†çš„æ˜æ–‡ä¸­<strong>å¤š bit</strong> é”™è¯¯</li>\n<li><strong>æ— è¯¯ç æ‰©å±•</strong>ï¼šOFBã€CTR</li>\n<li><strong>æœ‰è¯¯ç æ‰©å±•</strong>ï¼šECBã€CBCã€CFB</li>\n<li><strong>é”™è¯¯ä¼ æ’­å½±</strong>å“çš„åˆ†ç»„ï¼š\n<ul>\n<li>ECB å½±å“ 1 ä¸ªåˆ†ç»„ï¼Œå³å½“å‰åˆ†ç»„ã€‚</li>\n<li>CBC å½±å“ 2 ä¸ªåˆ†ç»„ï¼Œå³å½“å‰åˆ†ç»„å’Œä¸‹ä¸ªåˆ†ç»„ï¼ˆçš„ 1bitï¼‰ã€‚</li>\n<li>CFB å½±å“ 2 ä¸ªåˆ†ç»„ï¼Œå³å½“å‰åˆ†ç»„ï¼ˆçš„ 1bitï¼‰å’Œä¸‹ä¸ªåˆ†ç»„ã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"äº†è§£ä¸­å›½å•†ç”¨åˆ†ç»„å¯†ç ç®—æ³•sm4çŸ¥é“å®ƒçš„åˆ†ç»„é•¿åº¦-å¯†é’¥é•¿åº¦å’ŒåŠ å¯†è½®æ•°\"><a class=\"anchor\" href=\"#äº†è§£ä¸­å›½å•†ç”¨åˆ†ç»„å¯†ç ç®—æ³•sm4çŸ¥é“å®ƒçš„åˆ†ç»„é•¿åº¦-å¯†é’¥é•¿åº¦å’ŒåŠ å¯†è½®æ•°\">#</a> äº†è§£ä¸­å›½å•†ç”¨åˆ†ç»„å¯†ç ç®—æ³• SM4ï¼ŒçŸ¥é“å®ƒçš„åˆ†ç»„é•¿åº¦ã€å¯†é’¥é•¿åº¦å’ŒåŠ å¯†è½®æ•°ã€‚</h3>\n<ul>\n<li><strong>åˆ†ç»„é•¿åº¦</strong>ï¼š128 ä½</li>\n<li><strong>å¯†é’¥é•¿åº¦</strong>ï¼š128 ä½</li>\n<li><strong>è½®æ•°</strong>ï¼š32 è½®</li>\n</ul>\n<h2 id=\"ç¬¬äº”ç« \"><a class=\"anchor\" href=\"#ç¬¬äº”ç« \">#</a> ç¬¬äº”ç« </h2>\n<h3 id=\"åŒé’¥å¯†ç ä½“åˆ¶æ˜¯åŸºäºæ•°å­¦éš¾é¢˜æ„é€ çš„è¯·åˆ—ä¸¾å‡ºç›®å‰å­˜åœ¨çš„æ•°å­¦éš¾é¢˜\"><a class=\"anchor\" href=\"#åŒé’¥å¯†ç ä½“åˆ¶æ˜¯åŸºäºæ•°å­¦éš¾é¢˜æ„é€ çš„è¯·åˆ—ä¸¾å‡ºç›®å‰å­˜åœ¨çš„æ•°å­¦éš¾é¢˜\">#</a> åŒé’¥å¯†ç ä½“åˆ¶æ˜¯åŸºäºæ•°å­¦éš¾é¢˜æ„é€ çš„ï¼Œè¯·åˆ—ä¸¾å‡ºç›®å‰å­˜åœ¨çš„æ•°å­¦éš¾é¢˜</h3>\n<ul>\n<li>å¤šé¡¹å¼æ±‚æ ¹</li>\n<li>ç¦»æ•£å¯¹æ•°</li>\n<li>å¤§æ•´æ•°åˆ†è§£</li>\n<li>èƒŒåŒ…é—®é¢˜</li>\n<li>D-H é—®é¢˜</li>\n<li>äºŒæ¬¡å‰©ä½™é—®é¢˜</li>\n<li>æ¨¡ n çš„å¹³æ–¹æ ¹é—®é¢˜</li>\n</ul>\n<h3 id=\"ç”¨åŒé’¥ä½“åˆ¶åŠ å¯†æ—¶é‡‡ç”¨è°çš„å…¬é’¥è§£å¯†æ—¶é‡‡ç”¨è°çš„ç§é’¥\"><a class=\"anchor\" href=\"#ç”¨åŒé’¥ä½“åˆ¶åŠ å¯†æ—¶é‡‡ç”¨è°çš„å…¬é’¥è§£å¯†æ—¶é‡‡ç”¨è°çš„ç§é’¥\">#</a> ç”¨åŒé’¥ä½“åˆ¶åŠ å¯†æ—¶é‡‡ç”¨è°çš„å…¬é’¥ï¼Ÿè§£å¯†æ—¶é‡‡ç”¨è°çš„ç§é’¥ï¼Ÿ</h3>\n<p>åŠ å¯†é‡‡ç”¨æ¥æ”¶æ–¹çš„å…¬é’¥ï¼Œè§£å¯†æ—¶é‡‡ç”¨æ¥æ”¶æ–¹çš„ç§é’¥</p>\n<h3 id=\"rsaæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜æ„é€ çš„diffie-hellmanæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜æ„é€ çš„\"><a class=\"anchor\" href=\"#rsaæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜æ„é€ çš„diffie-hellmanæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜æ„é€ çš„\">#</a> RSA æ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜æ„é€ çš„ï¼ŸDiffie-Hellman æ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜æ„é€ çš„ï¼Ÿ</h3>\n<p><strong>RSA</strong>ï¼šåŸºäºå¤§æ•´æ•°åˆ†è§£çš„å›°éš¾æ€§</p>\n<p><strong>Diffie-Hellman</strong>ï¼šåŸºäº Diffie-Hellman é—®é¢˜</p>\n<h3 id=\"è¯·å†™å‡ºrsaåŠ å¯†å’Œè§£å¯†çš„æ•°å­¦è¡¨è¾¾å¼å¹¶æŒ‡å‡ºä»€ä¹ˆæ˜¯å…¬é’¥ä»€ä¹ˆæ˜¯ç§é’¥å¹¶èƒ½åšç®€å•çš„åŠ å¯†å’Œè§£å¯†è®¡ç®—\"><a class=\"anchor\" href=\"#è¯·å†™å‡ºrsaåŠ å¯†å’Œè§£å¯†çš„æ•°å­¦è¡¨è¾¾å¼å¹¶æŒ‡å‡ºä»€ä¹ˆæ˜¯å…¬é’¥ä»€ä¹ˆæ˜¯ç§é’¥å¹¶èƒ½åšç®€å•çš„åŠ å¯†å’Œè§£å¯†è®¡ç®—\">#</a> ğŸŒŸè¯·å†™å‡º RSA åŠ å¯†å’Œè§£å¯†çš„æ•°å­¦è¡¨è¾¾å¼ï¼Œå¹¶æŒ‡å‡ºä»€ä¹ˆæ˜¯å…¬é’¥ï¼Œä»€ä¹ˆæ˜¯ç§é’¥ï¼Ÿå¹¶èƒ½åšç®€å•çš„åŠ å¯†å’Œè§£å¯†è®¡ç®—</h3>\n<ul>\n<li><strong>å…¬é’¥</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo separator=\"true\">,</mo><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">n, e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">e</span></span></span></span></li>\n<li><strong>ç§é’¥</strong>ï¼š <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span></li>\n<li><strong>åŠ å¯†</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mo>â†’</mo><mi>c</mi><mo>=</mo><msup><mi>m</mi><mi>e</mi></msup><mtext>Â </mtext><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">m \\rightarrow c = m^e \\space mod \\space n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†’</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span></span></span></span></span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\">n</span></span></span></span></li>\n<li><strong>è§£å¯†</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi><mo>â†’</mo><mi>m</mi><mo>=</mo><msup><mi>c</mi><mi>d</mi></msup><mtext>Â </mtext><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">c \\rightarrow m = c^d \\space mod \\space n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†’</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.849108em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.849108em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span></span></span></span></span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\">n</span></span></span></span></li>\n</ul>\n<p><strong>ç®€å•çš„åŠ è§£å¯†è®¡ç®—</strong>ï¼š</p>\n<ul>\n<li></li>\n</ul>\n<h3 id=\"rsaåœ¨å„ç§å‚æ•°é€‰æ‹©ä¸Šæœ‰å“ªäº›åŸåˆ™å’Œé™åˆ¶ä¸ºä»€ä¹ˆ\"><a class=\"anchor\" href=\"#rsaåœ¨å„ç§å‚æ•°é€‰æ‹©ä¸Šæœ‰å“ªäº›åŸåˆ™å’Œé™åˆ¶ä¸ºä»€ä¹ˆ\">#</a> RSA åœ¨å„ç§å‚æ•°é€‰æ‹©ä¸Šæœ‰å“ªäº›åŸåˆ™å’Œé™åˆ¶ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h3>\n<ul>\n<li><strong>n çš„é€‰å–</strong>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> ã€<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> å¿…é¡»æ˜¯å¼ºç´ æ•°ï¼Œå¦åˆ™å­˜åœ¨ä¸€ç§å¯ä»¥ç®€å•åˆ†è§£ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> çš„ç®—æ³•</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> ã€<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> ä¹‹å·®è¦å¤§ï¼Œå¦åˆ™å®¹æ˜“æ¨æµ‹å‡º<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> ã€<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">p-1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7777700000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span> ã€<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">q-1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7777700000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span> çš„æœ€å¤§å…¬å› å­è¦å°ï¼Œå¦åˆ™å”¯å¯†æ–‡æ”»å‡»ä¸‹å®¹æ˜“ç®—å‡ºæ˜æ–‡</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> ã€<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> è¦è¶³å¤Ÿå¤§ï¼Œæ¥ä½¿æš´åŠ›åˆ†è§£ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> åœ¨è®¡ç®—ä¸Šä¸å¯è¡Œã€‚</li>\n</ul>\n</li>\n<li><strong>e çš„é€‰å–</strong>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">e</span></span></span></span> ä¸å¯è¿‡å°ï¼Œå¦åˆ™å®¹æ˜“é­å—ä½æŒ‡æ•°æ”»å‡»</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">e</span></span></span></span> è¦ä¸ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ï†</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\varphi (n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Ï†</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span> äº’ç´ ï¼Œå¦åˆ™æ¨¡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Ï†</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\varphi (n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Ï†</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span> ä¸‹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">e</span></span></span></span> çš„é€†å…ƒä¸å­˜åœ¨ã€‚</li>\n</ul>\n</li>\n<li><strong>d çš„é€‰å–</strong>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span> è¦å¤§äº <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>n</mi><mfrac><mn>1</mn><mn>4</mn></mfrac></msup></mrow><annotation encoding=\"application/x-tex\">n^{1\\over 4}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9540200000000001em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9540200000000001em;\"><span style=\"top:-3.363em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mopen nulldelimiter sizing reset-size3 size6\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8443142857142858em;\"><span style=\"top:-2.656em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span></span></span></span><span style=\"top:-3.2255000000000003em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line mtight\" style=\"border-bottom-width:0.049em;\"></span></span><span style=\"top:-3.384em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.344em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter sizing reset-size3 size6\"></span></span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œå¦åˆ™å®¹æ˜“ç”±å·²çŸ¥æ˜æ–‡æ”»å‡»</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"å†™å‡ºeigamalå¯†ç ä½“åˆ¶æ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜è¯·å†™å‡ºå®ƒçš„åŠ å¯†è¡¨è¾¾å¼å’Œè§£å¯†è¡¨è¾¾å¼\"><a class=\"anchor\" href=\"#å†™å‡ºeigamalå¯†ç ä½“åˆ¶æ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜è¯·å†™å‡ºå®ƒçš„åŠ å¯†è¡¨è¾¾å¼å’Œè§£å¯†è¡¨è¾¾å¼\">#</a> å†™å‡º EIGamal å¯†ç ä½“åˆ¶æ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜ï¼Ÿè¯·å†™å‡ºå®ƒçš„åŠ å¯†è¡¨è¾¾å¼å’Œè§£å¯†è¡¨è¾¾å¼ï¼Ÿ</h3>\n<ul>\n<li>åŸºäº<strong>æœ‰é™åŸŸä¸Šç¦»æ•£å¯¹æ•°é—®é¢˜</strong></li>\n<li><strong>åŠ å¯†</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mo>â†’</mo><mo stretchy=\"false\">(</mo><msup><mi>g</mi><mi>k</mi></msup><mo separator=\"true\">,</mo><mi>m</mi><msup><mi>Î²</mi><mi>k</mi></msup><mo stretchy=\"false\">)</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>p</mi><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">m \\rightarrow (g^k,m\\beta^k)mod \\space p = (y_1,y_2) = c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†’</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.099108em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.849108em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">Î²</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.849108em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span></li>\n<li><strong>è§£å¯†</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mo>=</mo><msub><mi>y</mi><mn>2</mn></msub><msubsup><mi>y</mi><mn>1</mn><mrow><mo>âˆ’</mo><mi>a</mi></mrow></msubsup><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">m = y_2 y_1^{-a}mod \\space p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0777700000000001em;vertical-align:-0.266308em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.811462em;\"><span style=\"top:-2.433692em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span><span style=\"top:-3.1031310000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">âˆ’</span><span class=\"mord mathnormal mtight\">a</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.266308em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\">p</span></span></span></span></li>\n</ul>\n<h3 id=\"eccå…¬é’¥å¯†ç åŸºäºä½•ç§æ•°å­¦éš¾é¢˜å†™å‡ºeccå…¬é’¥å¯†ç ä½“åˆ¶çš„åŠ å¯†è¡¨è¾¾å¼å’Œè§£å¯†è¡¨è¾¾å¼\"><a class=\"anchor\" href=\"#eccå…¬é’¥å¯†ç åŸºäºä½•ç§æ•°å­¦éš¾é¢˜å†™å‡ºeccå…¬é’¥å¯†ç ä½“åˆ¶çš„åŠ å¯†è¡¨è¾¾å¼å’Œè§£å¯†è¡¨è¾¾å¼\">#</a> ğŸŒŸECC å…¬é’¥å¯†ç åŸºäºä½•ç§æ•°å­¦éš¾é¢˜ï¼Ÿå†™å‡º ECC å…¬é’¥å¯†ç ä½“åˆ¶çš„åŠ å¯†è¡¨è¾¾å¼å’Œè§£å¯†è¡¨è¾¾å¼</h3>\n<ul>\n<li>åŸºäº<strong>æ¤­åœ†æ›²çº¿ç¦»æ•£å¯¹æ•°é—®é¢˜</strong></li>\n<li kG,=\"\" m+kP_b=\"\" \\=\"\"><strong>åŠ å¯†</strong>ï¼šC = \\{C_1,C_2\\} = \\</li>\n<li><strong>è§£å¯†</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>m</mi><mo>+</mo><mi>k</mi><msub><mi>P</mi><mi>B</mi></msub><mo stretchy=\"false\">)</mo><mo>âˆ’</mo><msub><mi>n</mi><mi>b</mi></msub><mo stretchy=\"false\">(</mo><mi>k</mi><mi>G</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m = (m +kP_B)-n_b(kG) = m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">b</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\">G</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span></li>\n</ul>\n<h3 id=\"å†™å‡ºåŸºäºeccçš„diffie-hellmanå¯†é’¥äº¤æ¢åè®®\"><a class=\"anchor\" href=\"#å†™å‡ºåŸºäºeccçš„diffie-hellmanå¯†é’¥äº¤æ¢åè®®\">#</a> å†™å‡ºåŸºäº ECC çš„ Diffie-Hellman å¯†é’¥äº¤æ¢åè®®ã€‚</h3>\n<ol>\n<li>A é€‰æ‹©ä¸€å°äº n çš„æ•´æ•° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>n</mi><mi>A</mi></msub></mrow><annotation encoding=\"application/x-tex\">n_A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä½œä¸ºç§é’¥ï¼Œ ç”± <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mi>A</mi></msub><mo>=</mo><msub><mi>n</mi><mi>A</mi></msub><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">P_A = n_AG</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">G</span></span></span></span> äº§ç”Ÿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>E</mi><mi>p</mi></msub><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">E_p(a,b)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span></span></span></span> ä¸Šçš„ä¸€ç‚¹ä½œä¸ºå…¬é’¥ã€‚</li>\n<li>B é€‰å–è‡ªå·±çš„ç§é’¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>n</mi><mi>B</mi></msub></mrow><annotation encoding=\"application/x-tex\">n_B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ï¼Œ å¹¶è®¡ç®—è‡ªå·±çš„å…¬é’¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mi>B</mi></msub><mo>=</mo><msub><mi>n</mi><mi>B</mi></msub><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">P_B = n_BG</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">G</span></span></span></span> ã€‚</li>\n<li>A å¯ä»¥è·å¾— B å¾—å…¬é’¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mi>B</mi></msub></mrow><annotation encoding=\"application/x-tex\">P_B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></li>\n<li>B å¯ä»¥è·å¾— A çš„å…¬é’¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mi>A</mi></msub></mrow><annotation encoding=\"application/x-tex\">P_A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></li>\n<li>A è®¡ç®—ï¼š$ K = n_A \\times P_B = n_An_BG$</li>\n<li>B è®¡ç®—ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi><mo>=</mo><msub><mi>n</mi><mi>B</mi></msub><mo>Ã—</mo><msub><mi>P</mi><mi>A</mi></msub><mo>=</mo><msub><mi>n</mi><mi>A</mi></msub><msub><mi>n</mi><mi>B</mi></msub><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">K = n_B \\times P_A = n_An_BG</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.73333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">Ã—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">A</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05017em;\">B</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">G</span></span></span></span></li>\n</ol>\n<h3 id=\"rsaå’Œeccå…¬é’¥å¯†ç ç®—æ³•åœ¨åŠ å¯†-è§£å¯†é€Ÿåº¦ä¸Šæœ‰ä½•å·®å¼‚è¯·æŸ¥é˜…èµ„æ–™æ¯”è¾ƒå®ƒä»¬åˆ†åˆ«é‡‡ç”¨ç¡¬ä»¶å’Œè½¯ä»¶å®ç°æ—¶çš„åŠ å¯†å’Œè§£å¯†é€Ÿåº¦\"><a class=\"anchor\" href=\"#rsaå’Œeccå…¬é’¥å¯†ç ç®—æ³•åœ¨åŠ å¯†-è§£å¯†é€Ÿåº¦ä¸Šæœ‰ä½•å·®å¼‚è¯·æŸ¥é˜…èµ„æ–™æ¯”è¾ƒå®ƒä»¬åˆ†åˆ«é‡‡ç”¨ç¡¬ä»¶å’Œè½¯ä»¶å®ç°æ—¶çš„åŠ å¯†å’Œè§£å¯†é€Ÿåº¦\">#</a> RSA å’Œ ECC å…¬é’¥å¯†ç ç®—æ³•åœ¨åŠ å¯†ã€è§£å¯†é€Ÿåº¦ä¸Šæœ‰ä½•å·®å¼‚ï¼Ÿè¯·æŸ¥é˜…èµ„æ–™ï¼Œæ¯”è¾ƒå®ƒä»¬åˆ†åˆ«é‡‡ç”¨ç¡¬ä»¶å’Œè½¯ä»¶å®ç°æ—¶çš„åŠ å¯†å’Œè§£å¯†é€Ÿåº¦ã€‚</h3>\n<p>åœ¨è¾¾åˆ°åŒç­‰å®‰å…¨æ€§éœ€æ±‚æ—¶ï¼ŒECC å…·æœ‰æ›´çŸ­çš„å¯†é’¥é•¿åº¦ï¼Œè™½ç„¶è®¡ç®—æ›´å¤æ‚ï¼Œä½†åŠ å¯†é€Ÿåº¦æ›´å¿«ã€‚</p>\n<p>æ— è®ºç¡¬ä»¶è¿˜æ˜¯è½¯ä»¶ï¼ŒECC éƒ½æ¯” RSA å¿«ï¼</p>\n<h3 id=\"å¯¹å…¬é’¥å¯†ç çš„æ”»å‡»æœ‰å“ªäº›å¸¸è§çš„æ”»å‡»æ–¹å¼å®ƒä»¬å„æœ‰ä»€ä¹ˆç‰¹ç‚¹\"><a class=\"anchor\" href=\"#å¯¹å…¬é’¥å¯†ç çš„æ”»å‡»æœ‰å“ªäº›å¸¸è§çš„æ”»å‡»æ–¹å¼å®ƒä»¬å„æœ‰ä»€ä¹ˆç‰¹ç‚¹\">#</a> å¯¹å…¬é’¥å¯†ç çš„æ”»å‡»æœ‰å“ªäº›å¸¸è§çš„æ”»å‡»æ–¹å¼ï¼Ÿå®ƒä»¬å„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</h3>\n<ul>\n<li><strong>é€‰æ‹©æ˜æ–‡æ”»å‡»ï¼ˆCPAï¼‰</strong>ï¼šæ”»å‡»è€…é€‰æ‹©æ˜æ–‡å¹¶å¾—åˆ°ç›¸åº”å¯†æ–‡ã€‚</li>\n<li><strong>é€‰æ‹©å¯†æ–‡æ”»å‡»ï¼ˆCCAï¼‰</strong>ï¼šæ”»å‡»è€…é€‰æ‹©å¯†æ–‡å¹¶å¾—åˆ°è§£å¯†æ¶ˆæ¯ã€‚</li>\n<li><strong>é€‚åº”æ€§é€‰æ‹©å¯†æ–‡æ”»å‡»ï¼ˆCCA2ï¼‰</strong>ï¼šæ”»å‡»è€…åœ¨ CCA çš„åŸºç¡€ä¸Šï¼Œæ°¸è¿œå¯ä»¥è·å¾—è§£å¯†æœåŠ¡</li>\n</ul>\n<p><strong>æ³¨æ„</strong>ï¼šåœ¨ CCA å’Œ CCA2 ä¸­ï¼Œæ”»å‡»è€…<strong>ä¸èƒ½</strong>ç›´æ¥è§£å¯†<strong>ç›®æ ‡å¯†æ–‡</strong>ã€‚</p>\n<h3 id=\"äº†è§£ä¸­å›½çš„å•†ç”¨å…¬é’¥å¯†ç ç®—æ³•sm2\"><a class=\"anchor\" href=\"#äº†è§£ä¸­å›½çš„å•†ç”¨å…¬é’¥å¯†ç ç®—æ³•sm2\">#</a> äº†è§£ä¸­å›½çš„å•†ç”¨å…¬é’¥å¯†ç ç®—æ³• SM2</h3>\n<ul>\n<li>ä¸€ç»„åŸºäº<strong>æ¤­åœ†æ›²çº¿</strong>çš„å…¬é’¥å¯†ç ç®—æ³•</li>\n<li>åŒ…å«<strong>åŠ è§£å¯†ç®—æ³•ã€æ•°å­—ç­¾åç®—æ³•å’Œå¯†é’¥äº¤æ¢åè®®</strong></li>\n<li>é‡‡å–äº†æ£€é”™æªæ–½ï¼Œæé«˜äº†ç³»ç»Ÿçš„æ•°æ®å®Œæ•´æ€§å’Œå¯é æ€§<br />\næ¨èä½¿ç”¨<strong> 256 ä½</strong>ç´ æ•°åŸŸä¸Šçš„æ¤­åœ†æ›²çº¿<br />\næ¶‰åŠ<strong> 3 ç±»</strong>è¾…åŠ©å‡½æ•°ï¼šæ‚å‡‘å‡½æ•°ã€å¯†é’¥æ´¾ç”Ÿå‡½æ•°ã€éšæœºæ•°å‘ç”Ÿå™¨</li>\n</ul>\n<h2 id=\"ç¬¬å…­ç« \"><a class=\"anchor\" href=\"#ç¬¬å…­ç« \">#</a> ç¬¬å…­ç« </h2>\n<h3 id=\"è¯·è¯´æ˜hashå‡½æ•°ä¸åŠ å¯†å‡½æ•°æœ‰ä½•ä¸åŒ\"><a class=\"anchor\" href=\"#è¯·è¯´æ˜hashå‡½æ•°ä¸åŠ å¯†å‡½æ•°æœ‰ä½•ä¸åŒ\">#</a> è¯·è¯´æ˜ Hash å‡½æ•°ä¸åŠ å¯†å‡½æ•°æœ‰ä½•ä¸åŒï¼Ÿ</h3>\n<ul>\n<li>hash å‡½æ•°ç”Ÿæˆå®šé•¿çš„æ¶ˆæ¯æ‘˜è¦ï¼ŒåŠ å¯†å‡½æ•°ç”Ÿæˆçš„å¯†æ–‡é•¿åº¦å’Œæ˜æ–‡é•¿åº¦æœ‰å…³</li>\n<li>hash ç®—æ³•ä¸å¯é€†ï¼ŒåŠ å¯†å‡½æ•°å¯é€†</li>\n</ul>\n<h3 id=\"æ‚å‡‘å‡½æ•°å…·æœ‰å“ªäº›æ€§è´¨\"><a class=\"anchor\" href=\"#æ‚å‡‘å‡½æ•°å…·æœ‰å“ªäº›æ€§è´¨\">#</a> æ‚å‡‘å‡½æ•°å…·æœ‰å“ªäº›æ€§è´¨ï¼Ÿ</h3>\n<ol>\n<li><strong>å¿«é€Ÿæ€§</strong>ï¼šç”± <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> è®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span> å®¹æ˜“</li>\n<li><strong>å•å‘æ€§</strong>ï¼šç”± <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span> è®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> å›°éš¾</li>\n<li><strong>æ— ç¢°æ’</strong>ï¼šå¯»æ‰¾ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo mathvariant=\"normal\">â‰ </mo><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_1 \\ne x_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"inner\"><span class=\"mrel\">î€ </span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ï¼Œä½¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mi>H</mi><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(x_1) = H(x_2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> å›°éš¾</li>\n</ol>\n<h3 id=\"ä»€ä¹ˆæ˜¯æ¶ˆæ¯è®¤è¯ç macå¦‚ä½•æ„é€ \"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯æ¶ˆæ¯è®¤è¯ç macå¦‚ä½•æ„é€ \">#</a> ä»€ä¹ˆæ˜¯æ¶ˆæ¯è®¤è¯ç  MACï¼Ÿå¦‚ä½•æ„é€ ï¼Ÿ</h3>\n<ul>\n<li><strong>MAC</strong>ï¼šæœ‰å¯†é’¥å‚ä¸æ‚å‡‘è¿ç®—çš„ç®—æ³•</li>\n<li><strong>æ„é€ æ–¹æ³•</strong>ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mi>A</mi><mi>C</mi><mo>=</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mi mathvariant=\"normal\">âˆ£</mi><mi mathvariant=\"normal\">âˆ£</mi><mi>k</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">MAC = H(m||k)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mord\">âˆ£</span><span class=\"mord\">âˆ£</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span></span></span></span></li>\n</ul>\n<h3 id=\"åœ¨ä¸çŸ¥é“å¯†é’¥çš„æƒ…å†µä¸‹å¦‚ä½•å¯¹macç®—æ³•æˆåŠŸå®æ–½æ”»å‡»167é¡µ\"><a class=\"anchor\" href=\"#åœ¨ä¸çŸ¥é“å¯†é’¥çš„æƒ…å†µä¸‹å¦‚ä½•å¯¹macç®—æ³•æˆåŠŸå®æ–½æ”»å‡»167é¡µ\">#</a> åœ¨ä¸çŸ¥é“å¯†é’¥çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•å¯¹ MAC ç®—æ³•æˆåŠŸå®æ–½æ”»å‡»ï¼Ÿï¼ˆ167 é¡µï¼‰</h3>\n<ul>\n<li>ç©·ä¸¾</li>\n<li>æ„é€ </li>\n<li>ç¢°æ’</li>\n<li>å·®åˆ†åˆ†æ</li>\n<li>å¯†ç åˆ†æ</li>\n</ul>\n<h3 id=\"å¦‚ä½•é‡‡ç”¨hashå‡½æ•°å’Œåˆ†ç»„åŠ å¯†ç®—æ³•æ„é€ mac\"><a class=\"anchor\" href=\"#å¦‚ä½•é‡‡ç”¨hashå‡½æ•°å’Œåˆ†ç»„åŠ å¯†ç®—æ³•æ„é€ mac\">#</a> å¦‚ä½•é‡‡ç”¨ Hash å‡½æ•°å’Œåˆ†ç»„åŠ å¯†ç®—æ³•æ„é€  MACï¼Ÿ</h3>\n<ul>\n<li><strong>Hash å‡½æ•°</strong>æ„é€ æ–¹æ³•ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mi>A</mi><mi>C</mi><mo>=</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mi mathvariant=\"normal\">âˆ£</mi><mi mathvariant=\"normal\">âˆ£</mi><mi>k</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">MAC = H(m||k)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mord\">âˆ£</span><span class=\"mord\">âˆ£</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span></span></span></span>ã€‚</li>\n<li><strong>åˆ†ç»„åŠ å¯†ç®—æ³•</strong>æ„é€ æ–¹æ³•ï¼šå¯¹æ¶ˆæ¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> è¿›è¡Œåˆ†ç»„å¹¶å¡«å……ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi></mrow><annotation encoding=\"application/x-tex\">l</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span> ä¸ªç»„ï¼Œè®¾ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mn>0</mn></msub><mo>=</mo><mi>I</mi><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">C_0 = IV</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span> ä¸ºéšæœºåˆå§‹å‘é‡ï¼Œå‘é€è€…ç”¨ CBC åŠ å¯†ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mi>i</mi></msub><mo>â†</mo><msub><mi>E</mi><mi>k</mi></msub><mo stretchy=\"false\">(</mo><msub><mi>m</mi><mi>i</mi></msub><mo>âŠ•</mo><msub><mi>C</mi><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">C_i \\leftarrow E_k(m_i \\oplus C_{i-1})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âŠ•</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.311664em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mbin mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.208331em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> ï¼Œæ•°å€¼å¯¹ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>I</mi><mi>V</mi><mo separator=\"true\">,</mo><msub><mi>C</mi><mi>l</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(IV, C_l)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> ä½œä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> çš„ MACã€‚</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯æ¶ˆæ¯æ£€æµ‹ç æˆ–æ¶ˆæ¯æ‘˜è¦mdcç®€è¿°mdcä¸macçš„å¼‚åŒ\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯æ¶ˆæ¯æ£€æµ‹ç æˆ–æ¶ˆæ¯æ‘˜è¦mdcç®€è¿°mdcä¸macçš„å¼‚åŒ\">#</a> ä»€ä¹ˆæ˜¯æ¶ˆæ¯æ£€æµ‹ç ï¼ˆæˆ–æ¶ˆæ¯æ‘˜è¦ï¼‰MDCï¼Ÿç®€è¿° MDC ä¸ MAC çš„å¼‚åŒã€‚</h3>\n<ul>\n<li><strong>MDC</strong>ï¼šæ— å¯†é’¥å‚ä¸æ‚å‡‘è¿ç®—çš„ç®—æ³•</li>\n<li><strong>å¼‚åŒ</strong>ï¼š\n<ul>\n<li>åŒï¼šäºŒè€…éƒ½å¯ä»¥æ£€æµ‹æ¶ˆæ¯çš„å®Œæ•´æ€§</li>\n<li>å¼‚ï¼šMAC å¸¦æœ‰èº«ä»½è®¤è¯ï¼ŒMDC ä¸å¸¦æœ‰èº«ä»½è®¤è¯</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ç†Ÿæ‚‰è¿­ä»£æ‚å‡‘å‡½æ•°çš„æ„é€ æ–¹æ³•\"><a class=\"anchor\" href=\"#ç†Ÿæ‚‰è¿­ä»£æ‚å‡‘å‡½æ•°çš„æ„é€ æ–¹æ³•\">#</a> ç†Ÿæ‚‰è¿­ä»£æ‚å‡‘å‡½æ•°çš„æ„é€ æ–¹æ³•</h3>\n<ul>\n<li><strong>Rabin æ³•</strong></li>\n<li><strong>CBC æ³•</strong></li>\n<li><strong>CFB æ³•</strong></li>\n<li><strong>ä¿®æ­£ Daveis-Meyer æ³•</strong></li>\n<li><strong>ç»„åˆæ˜ / å¯†æ–‡é“¾æ¥æ³•</strong></li>\n</ul>\n<h3 id=\"md5çš„æ˜æ–‡è¾“å…¥åˆ†ç»„é•¿åº¦-å­—é•¿-è¾“å‡ºé•¿åº¦æ˜¯å¤šå°‘ä½\"><a class=\"anchor\" href=\"#md5çš„æ˜æ–‡è¾“å…¥åˆ†ç»„é•¿åº¦-å­—é•¿-è¾“å‡ºé•¿åº¦æ˜¯å¤šå°‘ä½\">#</a> MD5 çš„æ˜æ–‡è¾“å…¥åˆ†ç»„é•¿åº¦ã€å­—é•¿ã€è¾“å‡ºé•¿åº¦æ˜¯å¤šå°‘ä½ï¼Ÿ</h3>\n<ul>\n<li><strong>åˆ†ç»„é•¿åº¦</strong>ï¼š512 ä½</li>\n<li><strong>å­—é•¿</strong>ï¼š32 ä½</li>\n<li><strong>è¾“å‡ºé•¿åº¦</strong>ï¼š128 ä½</li>\n</ul>\n<h3 id=\"sha-1çš„æ˜æ–‡è¾“å…¥åˆ†ç»„é•¿åº¦-å­—é•¿-è¾“å‡ºé•¿åº¦æ˜¯å¤šå°‘ä½\"><a class=\"anchor\" href=\"#sha-1çš„æ˜æ–‡è¾“å…¥åˆ†ç»„é•¿åº¦-å­—é•¿-è¾“å‡ºé•¿åº¦æ˜¯å¤šå°‘ä½\">#</a> SHA-1 çš„æ˜æ–‡è¾“å…¥åˆ†ç»„é•¿åº¦ã€å­—é•¿ã€è¾“å‡ºé•¿åº¦æ˜¯å¤šå°‘ä½ï¼Ÿ</h3>\n<ul>\n<li><strong>åˆ†ç»„é•¿åº¦</strong>ï¼š512 ä½</li>\n<li><strong>å­—é•¿</strong>ï¼š32 ä½</li>\n<li><strong>è¾“å‡ºé•¿åº¦</strong>ï¼š160 ä½</li>\n</ul>\n<h3 id=\"æŒæ¡åº”ç”¨æ‚å‡‘å‡½æ•°çš„åŸºæœ¬æ–¹å¼ç†Ÿæ‚‰å›¾6-1-6-2-6-5-6-6æ‰€èƒ½å¤Ÿæä¾›çš„å®‰å…¨åŠŸèƒ½\"><a class=\"anchor\" href=\"#æŒæ¡åº”ç”¨æ‚å‡‘å‡½æ•°çš„åŸºæœ¬æ–¹å¼ç†Ÿæ‚‰å›¾6-1-6-2-6-5-6-6æ‰€èƒ½å¤Ÿæä¾›çš„å®‰å…¨åŠŸèƒ½\">#</a> æŒæ¡åº”ç”¨æ‚å‡‘å‡½æ•°çš„åŸºæœ¬æ–¹å¼ï¼Œç†Ÿæ‚‰å›¾ 6-1ã€6-2ã€6-5ã€6-6 æ‰€èƒ½å¤Ÿæä¾›çš„å®‰å…¨åŠŸèƒ½ã€‚</h3>\n<ul>\n<li>\n<p><strong>åº”ç”¨æ‚å‡‘å‡½æ•°çš„åŸºæœ¬æ–¹å¼</strong></p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/ovctrc.png\" alt=\"åº”ç”¨æ‚å‡‘å‡½æ•°çš„åŸºæœ¬æ–¹å¼\" /></p>\n</li>\n<li>\n<p><strong>æ¶ˆæ¯åŠ å¯†çš„åŸºæœ¬ç”¨é€”</strong></p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/qifhdg.png\" alt=\"æ¶ˆæ¯åŠ å¯†çš„åŸºæœ¬ç”¨é€”\" /></p>\n</li>\n<li>\n<p><strong>å†…éƒ¨å’Œå¤–éƒ¨é”™è¯¯æ§åˆ¶</strong></p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/52u4jm.png\" alt=\"å†…éƒ¨å’Œå¤–éƒ¨é”™è¯¯æ§åˆ¶\" /></p>\n</li>\n<li>\n<p><strong>MAC çš„åŸºæœ¬ç”¨é€”</strong></p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/7y2p9e.png\" alt=\"MACçš„åŸºæœ¬ç”¨é€”\" /></p>\n</li>\n</ul>\n<h3 id=\"ç†Ÿæ‚‰ä¸­å›½å•†ç”¨æ‚å‡‘å‡½æ•°sm3çš„æ„é€ \"><a class=\"anchor\" href=\"#ç†Ÿæ‚‰ä¸­å›½å•†ç”¨æ‚å‡‘å‡½æ•°sm3çš„æ„é€ \">#</a> ç†Ÿæ‚‰ä¸­å›½å•†ç”¨æ‚å‡‘å‡½æ•° SM3 çš„æ„é€ </h3>\n<ul>\n<li>SM3 é‡‡ç”¨<strong> Merkle-Damgard ç»“æ„</strong></li>\n<li><strong>åˆ†ç»„é•¿åº¦</strong>ï¼š512 ä½</li>\n<li><strong>è¾“å‡ºé•¿åº¦</strong>ï¼š256 ä½</li>\n</ul>\n<h2 id=\"ç¬¬ä¸ƒç« \"><a class=\"anchor\" href=\"#ç¬¬ä¸ƒç« \">#</a> ç¬¬ä¸ƒç« </h2>\n<h3 id=\"æ•°å­—ç­¾ååº”è¯¥å…·æœ‰å“ªäº›æ€§è´¨\"><a class=\"anchor\" href=\"#æ•°å­—ç­¾ååº”è¯¥å…·æœ‰å“ªäº›æ€§è´¨\">#</a> æ•°å­—ç­¾ååº”è¯¥å…·æœ‰å“ªäº›æ€§è´¨ï¼Ÿ</h3>\n<ul>\n<li>æ”¶æ–¹èƒ½è¯å®ç­¾åï¼Œä½†ä¸èƒ½ä¼ªé€ ï¼ˆR1 - æ¡ä»¶ï¼‰</li>\n<li>æ”¶æ–¹å·²æ”¶åˆ°åä¸èƒ½å¦è®¤ï¼ˆæ”¶æŠ¥è®¤è¯ï¼‰ï¼ˆR2 - æ¡ä»¶ï¼‰</li>\n<li>å‘æ–¹ä¸èƒ½å¦è®¤ç­¾å‘çš„æ¶ˆæ¯ï¼ˆS - æ¡ä»¶ï¼‰</li>\n<li>ç¬¬ä¸‰æ–¹å¯ä»¥ç¡®è®¤åŒæ–¹çš„æ¶ˆæ¯å‘é€ï¼Œä½†ä¸èƒ½ä¼ªé€ ï¼ˆT - æ¡ä»¶ï¼‰</li>\n</ul>\n<h3 id=\"æ•°å­—ç­¾åå¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»\"><a class=\"anchor\" href=\"#æ•°å­—ç­¾åå¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»\">#</a> æ•°å­—ç­¾åå¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»ï¼Ÿ</h3>\n<ul>\n<li>æŒ‰ç…§<strong>æ¶ˆæ¯æ˜¯å¦è¢«å‹ç¼©</strong>åˆ†ç±»\n<ul>\n<li>å¯¹<strong>æ•´ä½“æ¶ˆæ¯</strong>ç­¾å</li>\n<li>å¯¹<strong>å‹ç¼©çš„æ¶ˆæ¯</strong>ç­¾å</li>\n</ul>\n</li>\n<li>ğŸŒŸæŒ‰ç…§<strong>æ¶ˆæ¯ / ç­¾åçš„å¯¹åº”å…³ç³»</strong>åˆ†ç±»\n<ul>\n<li><strong>ç¡®å®šæ€§</strong>ç­¾å</li>\n<li><strong>éšå³åŒ–</strong>ç­¾å</li>\n</ul>\n</li>\n<li>æŒ‰ç…§<strong>å‚ä¸æ–¹å¼</strong>åˆ†ç±»\n<ul>\n<li>ç›´æ¥ç­¾å</li>\n<li>ä»²è£ç­¾å</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"rsaç­¾åæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜\"><a class=\"anchor\" href=\"#rsaç­¾åæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜\">#</a> RSA ç­¾åæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜ï¼Ÿ</h3>\n<p>å¤§åˆæ•°åˆ†è§£å›°éš¾é—®é¢˜</p>\n<h3 id=\"eigamalç­¾åæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜è¯·å†™å‡ºeigamalçš„ç­¾åæ–¹ç¨‹\"><a class=\"anchor\" href=\"#eigamalç­¾åæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜è¯·å†™å‡ºeigamalçš„ç­¾åæ–¹ç¨‹\">#</a> EIGamal ç­¾åæ˜¯åŸºäºä½•ç§æ•°å­¦éš¾é¢˜ï¼Ÿè¯·å†™å‡º EIGamal çš„ç­¾åæ–¹ç¨‹ã€‚</h3>\n<ul>\n<li>\n<p><strong>åŸºäº</strong>ï¼šç¦»æ•£å¯¹æ•°é—®é¢˜</p>\n</li>\n<li>\n<p><strong>ç­¾åè¿‡ç¨‹</strong>ï¼š</p>\n<ol>\n<li>ç»™å®šæ¶ˆæ¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> ï¼Œé€‰æ‹©éšæœºæ•° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi><mo>âˆˆ</mo><msubsup><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi><mo>âˆ—</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">k \\in \\mathbb{Z}^*_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.73354em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.071998em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">Z</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">âˆ—</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span></span></span></span>ï¼Œä½¿ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo>â‰¤</mo><mi>k</mi><mo>â‰¤</mo><mi>p</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1\\le k \\le p-1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.78041em;vertical-align:-0.13597em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â‰¤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83041em;vertical-align:-0.13597em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â‰¤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7777700000000001em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy=\"false\">(</mo><mi>k</mi><mo separator=\"true\">,</mo><mi>p</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">gcd(k, p-1)=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">d</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span></li>\n<li>è®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(m)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span></span></span></span></li>\n<li>è®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>â‰¡</mo><msup><mi>g</mi><mi>k</mi></msup><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">r \\equiv g^k mod \\space p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.46375em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â‰¡</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.043548em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.849108em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\">p</span></span></span></span> ï¼Œè®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mo>â‰¡</mo><mo stretchy=\"false\">[</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo><mo>âˆ’</mo><mi>x</mi><mo>â‹…</mo><mi>r</mi><mo stretchy=\"false\">]</mo><mo>â‹…</mo><msup><mi>k</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mo stretchy=\"false\">(</mo><mi>p</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">s \\equiv [H(m) - x\\cdot r]\\cdot k ^{-1} mod \\space (p-1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.46375em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â‰¡</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.44445em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></li>\n<li>ç­¾åä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>i</mi><msub><mi>g</mi><mrow><mi>s</mi><mi>k</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>r</mi><mo separator=\"true\">,</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Sig_{sk}(m)=(r,s)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">)</span></span></span></span> ï¼Œå°† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>r</mi><mo separator=\"true\">,</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(r,s)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">)</span></span></span></span> å‘é€ç»™æ¥æ”¶æ–¹ã€‚</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"schnorrç­¾åä¸eigamalç­¾åæœ‰ä½•ä¸åŒè¯·æ¯”è¾ƒä¸¤è€…çš„å¼‚åŒ\"><a class=\"anchor\" href=\"#schnorrç­¾åä¸eigamalç­¾åæœ‰ä½•ä¸åŒè¯·æ¯”è¾ƒä¸¤è€…çš„å¼‚åŒ\">#</a> Schnorr ç­¾åä¸ EIGamal ç­¾åæœ‰ä½•ä¸åŒï¼Ÿè¯·æ¯”è¾ƒä¸¤è€…çš„å¼‚åŒã€‚</h3>\n<ul>\n<li>åœ¨ EIGamal ä½“åˆ¶ä¸­ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span> ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi><mo>âˆ—</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}^*_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.071998em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">Z</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">âˆ—</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span></span></span></span> çš„æœ¬åŸå…ƒç´ ï¼›åœ¨ Schnorr ä½“åˆ¶ä¸­ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span> ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi><mo>âˆ—</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}^*_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.071998em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">Z</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">âˆ—</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span></span></span></span> ä¸­çš„å­é›† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">Z</mi><mi>q</mi><mo>âˆ—</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}^*_q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.071998em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">Z</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">q</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">âˆ—</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span></span></span></span> çš„æœ¬åŸå…ƒï¼Œå®ƒä¸æ˜¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi><mo>âˆ—</mo></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}^*_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.071998em;vertical-align:-0.383108em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">Z</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.688696em;\"><span style=\"top:-2.4530000000000003em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">âˆ—</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.383108em;\"><span></span></span></span></span></span></span></span></span></span> çš„æœ¬åŸå…ƒï¼›</li>\n<li><strong>Schnorr çš„ç­¾åé•¿åº¦è¦æ¯” EIGamal çŸ­</strong>ï¼Œç”± <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">âˆ£</mi><mi>q</mi><mi mathvariant=\"normal\">âˆ£</mi></mrow><annotation encoding=\"application/x-tex\">|q|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">âˆ£</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mord\">âˆ£</span></span></span></span> ä»¥åŠ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(m)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span></span></span></span> å†³å®š</li>\n<li>Schnorr ç­¾åçš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><msup><mi>g</mi><mi>k</mi></msup><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">r= g^k mod \\space p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.043548em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.849108em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\">p</span></span></span></span> å¯ä»¥é¢„å…ˆè®¡ç®—ï¼Œç­¾ååªéœ€ 1 æ¬¡ä¹˜æ³•å’Œ 1 æ¬¡åŠ æ³•ï¼Œç­¾åé€Ÿåº¦å¿«ï¼Œ é€‚ç”¨äºæ™ºèƒ½å¡åº”ç”¨</li>\n<li>ç”±äº Schnorr ç­¾åè¾ƒçŸ­ï¼Œ <strong>Schnor ä½“åˆ¶å®‰å…¨æ€§æ¯” BIGamal ä½“åˆ¶å·®</strong></li>\n</ul>\n<h3 id=\"è¯·å†™å‡ºdssçš„ç­¾åæ–¹ç¨‹å¹¶æ¯”è¾ƒå®ƒä¸eigamal-schnorrçš„å¼‚åŒ\"><a class=\"anchor\" href=\"#è¯·å†™å‡ºdssçš„ç­¾åæ–¹ç¨‹å¹¶æ¯”è¾ƒå®ƒä¸eigamal-schnorrçš„å¼‚åŒ\">#</a> è¯·å†™å‡º DSS çš„ç­¾åæ–¹ç¨‹ï¼Œå¹¶æ¯”è¾ƒå®ƒä¸ EIGamalã€Schnorr çš„å¼‚åŒ</h3>\n<ul>\n<li><strong>ç­¾åè¿‡ç¨‹</strong>ï¼š\n<ol>\n<li>ç»™å®šæ¶ˆæ¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mo>âˆˆ</mo><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">m \\in M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span> ï¼Œé€‰æ‹©ç§˜å¯†éšæœºæ•° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> ï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>k</mi><mo>&lt;</mo><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">0&lt;k&lt;q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68354em;vertical-align:-0.0391em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.73354em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span>ï¼Œè®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(m)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span></span></span></span></li>\n<li>è®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>â‰¡</mo><mo stretchy=\"false\">(</mo><msup><mi>g</mi><mi>k</mi></msup><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>p</mi><mo stretchy=\"false\">)</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">r \\equiv (g^k mod \\space p) mod \\space q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.46375em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â‰¡</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.099108em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.849108em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\">p</span><span class=\"mclose\">)</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> ï¼Œè®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mo>â‰¡</mo><mo stretchy=\"false\">[</mo><msup><mi>k</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>â‹…</mo><mo stretchy=\"false\">(</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>x</mi><mi>r</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">s \\equiv [k^{-1} \\cdot (H(m) + xr)] mod \\space q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.46375em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â‰¡</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">)</span><span class=\"mclose\">]</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\">Â </span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></li>\n<li>ç­¾åä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>i</mi><msub><mi>g</mi><mrow><mi>s</mi><mi>k</mi></mrow></msub><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>r</mi><mo separator=\"true\">,</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Sig_{sk}(m) = (r,s)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">i</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">)</span></span></span></span>ï¼Œ å°† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>r</mi><mo separator=\"true\">,</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(r,s)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">)</span></span></span></span> å‘é€ç»™æ¥æ”¶æ–¹</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"åœ¨ä»¥ä¸Šä¸‰ç§ç­¾åæ–¹æ¡ˆä¸­æ¯æ¬¡ç­¾åæ—¶ç”¨æˆ·éƒ½è¦é€‰æ‹©ä¸€ä¸ªéšæœºæ•°k-è‹¥å°†éšæœºæ•°kæ›¿æ¢æˆä¸ºå¸¸æ•°ä¼šå‡ºç°ä»€ä¹ˆå®‰å…¨é—®é¢˜è¯·åŠ ä»¥åˆ†æ\"><a class=\"anchor\" href=\"#åœ¨ä»¥ä¸Šä¸‰ç§ç­¾åæ–¹æ¡ˆä¸­æ¯æ¬¡ç­¾åæ—¶ç”¨æˆ·éƒ½è¦é€‰æ‹©ä¸€ä¸ªéšæœºæ•°k-è‹¥å°†éšæœºæ•°kæ›¿æ¢æˆä¸ºå¸¸æ•°ä¼šå‡ºç°ä»€ä¹ˆå®‰å…¨é—®é¢˜è¯·åŠ ä»¥åˆ†æ\">#</a> åœ¨ä»¥ä¸Šä¸‰ç§ç­¾åæ–¹æ¡ˆä¸­ï¼Œæ¯æ¬¡ç­¾åæ—¶ï¼Œç”¨æˆ·éƒ½è¦é€‰æ‹©ä¸€ä¸ªéšæœºæ•° kã€‚è‹¥å°†éšæœºæ•° k æ›¿æ¢æˆä¸ºå¸¸æ•°ï¼Œä¼šå‡ºç°ä»€ä¹ˆå®‰å…¨é—®é¢˜ï¼Ÿè¯·åŠ ä»¥åˆ†æã€‚</h3>\n<p>å¯ä»¥é€šè¿‡ 2 ä¸ªä½¿ç”¨ç›¸åŒéšæœºæ•°çš„ç­¾åè§£å¯†å‡ºç§é’¥ã€‚</p>\n<h3 id=\"diffie-hellmanèƒ½ç”¨æ¥åšæ•°å­—ç­¾åå—\"><a class=\"anchor\" href=\"#diffie-hellmanèƒ½ç”¨æ¥åšæ•°å­—ç­¾åå—\">#</a> Diffie-Hellman èƒ½ç”¨æ¥åšæ•°å­—ç­¾åå—ï¼Ÿ</h3>\n<p>ä¸èƒ½</p>\n<h3 id=\"å•é’¥ä½“åˆ¶èƒ½ç”¨æ¥åšæ•°å­—ç­¾åå—\"><a class=\"anchor\" href=\"#å•é’¥ä½“åˆ¶èƒ½ç”¨æ¥åšæ•°å­—ç­¾åå—\">#</a> å•é’¥ä½“åˆ¶èƒ½ç”¨æ¥åšæ•°å­—ç­¾åå—ï¼Ÿ</h3>\n<p>ä¸èƒ½</p>\n<h3 id=\"è¯•æ¯”è¾ƒæ•°å­—ç­¾ååœ¨å¯†é’¥çš„ä½¿ç”¨ä¸Šä¸å…¬é’¥åŠ å¯†ç®—æ³•å­˜åœ¨çš„åŒºåˆ«\"><a class=\"anchor\" href=\"#è¯•æ¯”è¾ƒæ•°å­—ç­¾ååœ¨å¯†é’¥çš„ä½¿ç”¨ä¸Šä¸å…¬é’¥åŠ å¯†ç®—æ³•å­˜åœ¨çš„åŒºåˆ«\">#</a> è¯•æ¯”è¾ƒæ•°å­—ç­¾ååœ¨å¯†é’¥çš„ä½¿ç”¨ä¸Šï¼Œä¸å…¬é’¥åŠ å¯†ç®—æ³•å­˜åœ¨çš„åŒºåˆ«</h3>\n<p>æ•°å­—ç­¾åæ˜¯ç”¨ç­¾åè€…çš„ç§é’¥è¿›è¡Œç­¾åï¼Œç”¨ç­¾åè€…çš„å…¬é’¥è¿›è¡ŒéªŒè¯ï¼ŒåŒé’¥åŠ å¯†ä¸ºå‘é€æ–¹ç”¨æ¥å—æ–¹çš„å…¬é’¥è¿›è¡Œæ¶ˆæ¯çš„åŠ å¯†ï¼Œæ¥å—æ–¹ç”¨è‡ªå·±çš„ç§é’¥è¿›è¡Œè§£å¯†</p>\n<h3 id=\"è¯·åˆ—ä¸¾å…·æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„æ•°å­—ç­¾åä½“åˆ¶æœ‰å“ªäº›å®ƒä»¬å„æœ‰ä»€ä¹ˆç”¨é€”\"><a class=\"anchor\" href=\"#è¯·åˆ—ä¸¾å…·æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„æ•°å­—ç­¾åä½“åˆ¶æœ‰å“ªäº›å®ƒä»¬å„æœ‰ä»€ä¹ˆç”¨é€”\">#</a> è¯·åˆ—ä¸¾å…·æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„æ•°å­—ç­¾åä½“åˆ¶æœ‰å“ªäº›ï¼Ÿå®ƒä»¬å„æœ‰ä»€ä¹ˆç”¨é€”ï¼Ÿ</h3>\n<ul>\n<li><strong>ä¸å¯å¦è®¤ç­¾å</strong>ï¼šç­¾åè€…åˆä½œä¸‹æ‰èƒ½éªŒè¯ç­¾åï¼ˆçŸ¥è¯†äº§æƒä¿æŠ¤ï¼‰</li>\n<li>é˜²å¤±è´¥ç­¾åï¼šé˜²èŒƒæœ‰å……è¶³è®¡ç®—èµ„æºçš„æ”»å‡»è€…ï¼ŒåŠæ—¶æ”»å‡»è€…åˆ†æå‡ºç§é’¥ä¹Ÿéš¾ä»¥ä¼ªé€ ï¼ˆä¸€æ¬¡æ€§ç­¾åæ–¹æ¡ˆï¼‰</li>\n<li><strong>ç›²ç­¾å</strong>ï¼šæ–‡ä»¶æ‰€æœ‰è€…ä¸æƒ³è®©ç­¾åè€…çŸ¥é“æ–‡ä»¶çš„å†…å®¹ï¼ˆé€‰ä¸¾æŠ•ç¥¨ã€ç”µå­å•†åŠ¡ç­‰ï¼‰</li>\n<li><strong>ç¾¤ç­¾å</strong>ï¼šç¾¤ä¼—æˆå‘˜å¯ç­¾ã€å¤–ç•Œä¸å¯çŸ¥è°ç­¾ã€äº‰è®®æ—¶ç¾¤æˆå‘˜æˆ–å¯ä¿¡èµ–ä¸‰æ–¹å¯é‰´åˆ«ç­¾åè€…ï¼ˆé¡¹ç›®æŠ•æ ‡ï¼‰</li>\n<li><strong>ä»£ç†ç­¾å</strong>ï¼šå§”æ‰˜äººæˆæƒæŸä¸ªä»£ç†äººç­¾åï¼Œç­¾åå¯†é’¥æ— éœ€äº¤ç»™ä»£ç†äºº</li>\n<li><strong>æŒ‡å®šè¯å®äººç­¾å</strong>ï¼šä¸€ä¸ªæœºæ„ä¸­ï¼ŒæŒ‡å®šä¸€ä¸ªäººè´Ÿè´£è¯å®æ‰€æœ‰äººç­¾åï¼ˆæœ‰åŠ©äºé˜²æ­¢ç­¾åå¤±æ•ˆï¼‰</li>\n<li><strong>ä¸€æ¬¡æ€§ç­¾å</strong>ï¼šæ¯ä¸ªç­¾åé‡‡ç”¨ä¸€ä¸ªæ–°çš„å…¬é’¥ï¼Œä¼˜ç‚¹æ˜¯ç­¾åå’ŒéªŒè¯é€Ÿåº¦éå¸¸å¿«</li>\n</ul>\n<h3 id=\"äº†è§£ä¸­å›½å•†ç”¨æ•°å­—ç­¾åç®—æ³•sm2\"><a class=\"anchor\" href=\"#äº†è§£ä¸­å›½å•†ç”¨æ•°å­—ç­¾åç®—æ³•sm2\">#</a> äº†è§£ä¸­å›½å•†ç”¨æ•°å­—ç­¾åç®—æ³• SM2ã€‚</h3>\n<h2 id=\"ç¬¬å…«ç« \"><a class=\"anchor\" href=\"#ç¬¬å…«ç« \">#</a> ç¬¬å…«ç« </h2>\n<h3 id=\"æ„æˆåè®®çš„ä¸‰ä¸ªä¸»è¦ç‰¹å¾å«ä¹‰æ˜¯ä»€ä¹ˆ\"><a class=\"anchor\" href=\"#æ„æˆåè®®çš„ä¸‰ä¸ªä¸»è¦ç‰¹å¾å«ä¹‰æ˜¯ä»€ä¹ˆ\">#</a> æ„æˆåè®®çš„ä¸‰ä¸ªä¸»è¦ç‰¹å¾ï¼ˆå«ä¹‰ï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ</h3>\n<ul>\n<li>å¿…é¡»ä¾æ¬¡æ‰§è¡Œ</li>\n<li>è‡³å°‘ä¸¤ä¸ªå‚ä¸è€…</li>\n<li>å¿…é¡»èƒ½å¤Ÿå®ŒæˆæŸé¡¹ä»»åŠ¡</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯ä»²è£åè®®ä»€ä¹ˆæ˜¯è£å†³åè®®ä»€ä¹ˆæ˜¯è‡ªæ‰§è¡Œåè®®\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯ä»²è£åè®®ä»€ä¹ˆæ˜¯è£å†³åè®®ä»€ä¹ˆæ˜¯è‡ªæ‰§è¡Œåè®®\">#</a> ä»€ä¹ˆæ˜¯ä»²è£åè®®ï¼Ÿä»€ä¹ˆæ˜¯è£å†³åè®®ï¼Ÿä»€ä¹ˆæ˜¯è‡ªæ‰§è¡Œåè®®ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>ä»²è£åè®®</strong>ï¼šå¯ä¿¡èµ–ç¬¬ä¸‰æ–¹ Trent å‚ä¸åè®®ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/i5azx3.png\" alt=\"ä»²è£åè®®\" /></p>\n</li>\n<li>\n<p><strong>è£å†³åè®®</strong>ï¼šTrent ä¸ç›´æ¥å‚ä¸åè®®ï¼Œçº çº·æ—¶è£å†³ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/uaowkw.png\" alt=\"è£å†³åè®®\" /></p>\n</li>\n<li>\n<p><strong>è‡ªæ‰§è¡Œåè®®</strong>ï¼šæœ€å¥½çš„åè®®ï¼Œè‹¥ä¸€æ–¹è¯•å›¾æ¬ºéª—å¦ä¸€æ–¹ï¼Œé‚£ä¹ˆå¦ä¸€æ–¹å›ç«‹åˆ»æ£€æµ‹åˆ°è¯¥æ¬ºéª—çš„å‘ç”Ÿå¹¶ç»ˆæ­¢åè®®ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/jatgdg.png\" alt=\"è‡ªæ‰§è¡Œåè®®\" /></p>\n</li>\n</ul>\n<h3 id=\"å¦‚æœæŒ‰ç…§å¯†ç åè®®çš„åŠŸèƒ½åˆ†ç±»å¯†ç åè®®å¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»\"><a class=\"anchor\" href=\"#å¦‚æœæŒ‰ç…§å¯†ç åè®®çš„åŠŸèƒ½åˆ†ç±»å¯†ç åè®®å¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»\">#</a> å¦‚æœæŒ‰ç…§å¯†ç åè®®çš„åŠŸèƒ½åˆ†ç±»ï¼Œå¯†ç åè®®å¯ä»¥åˆ†ä¸ºå“ªå‡ ç±»ï¼Ÿ</h3>\n<ul>\n<li><strong>è®¤è¯åè®®</strong></li>\n<li><strong>å¯†é’¥å»ºç«‹åè®®</strong></li>\n<li><strong>è®¤è¯çš„å¯†é’¥å»ºç«‹åè®®</strong></li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯ä¸­é—´äººæ”»å‡»å¦‚ä½•å¯¹diffie-hellmanåè®®è¿›è¡Œä¸­é—´äººæ”»å‡»è¯·ç”¨ç”»å›¾åˆ†æå¯¹diffie-hellmanåè®®è¿›è¡Œä¸­é—´äººæ”»å‡»çš„è¯¦ç»†è¿‡ç¨‹\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯ä¸­é—´äººæ”»å‡»å¦‚ä½•å¯¹diffie-hellmanåè®®è¿›è¡Œä¸­é—´äººæ”»å‡»è¯·ç”¨ç”»å›¾åˆ†æå¯¹diffie-hellmanåè®®è¿›è¡Œä¸­é—´äººæ”»å‡»çš„è¯¦ç»†è¿‡ç¨‹\">#</a> ä»€ä¹ˆæ˜¯ä¸­é—´äººæ”»å‡»ï¼Ÿå¦‚ä½•å¯¹ Diffie-Hellman åè®®è¿›è¡Œä¸­é—´äººæ”»å‡»ï¼Ÿè¯·ç”¨ç”»å›¾åˆ†æå¯¹ Diffie- Hellman åè®®è¿›è¡Œä¸­é—´äººæ”»å‡»çš„è¯¦ç»†è¿‡ç¨‹ã€‚</h3>\n<ul>\n<li>\n<p><strong>ä¸­é—´äººæ”»å‡»</strong>å‚è€ƒ</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/ax4nha.png\" alt=\"ä¸­é—´äººæ”»å‡»\" /></p>\n<p>å½“ B ä¸ A ä¼šè¯æ—¶ï¼ŒM å¯ä»¥å†’å…… Bï¼Œå½“ A ä¸ B ä¼šè¯æ—¶ï¼ŒM å¯ä»¥å†’å…… Aã€‚</p>\n</li>\n</ul>\n<h3 id=\"dhåè®®ä¸èƒ½æŠµæŠ—ä¸­é—´äººæ”»å‡»çš„åŸå› æ˜¯ä»€ä¹ˆå¦‚ä½•æ”¹é€ dhåè®®å¯ä»¥ä½¿å…¶æŠµæŠ—ä¸­é—´äººæ”»å‡»\"><a class=\"anchor\" href=\"#dhåè®®ä¸èƒ½æŠµæŠ—ä¸­é—´äººæ”»å‡»çš„åŸå› æ˜¯ä»€ä¹ˆå¦‚ä½•æ”¹é€ dhåè®®å¯ä»¥ä½¿å…¶æŠµæŠ—ä¸­é—´äººæ”»å‡»\">#</a> DH åè®®ä¸èƒ½æŠµæŠ—ä¸­é—´äººæ”»å‡»çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ”¹é€  DH åè®®å¯ä»¥ä½¿å…¶æŠµæŠ—ä¸­é—´äººæ”»å‡»ï¼Ÿ</h3>\n<ul>\n<li>DH ä¸æŠµæŠ—ä¸­é—´äººæ”»å‡»çš„æœ¬è´¨åŸå› ï¼šé€šä¿¡åŒæ–¹æ²¡æœ‰è¿›è¡Œ<strong>å®ä½“è®¤è¯</strong>ã€‚</li>\n<li>æ”¹é€  DHï¼šå¼•å…¥ CAï¼Œç”¨å…¬é’¥å‘ CA è¯·æ±‚è¯ä¹¦ï¼Œå°†è¯ä¹¦å‘é€ç»™å¯¹æ–¹</li>\n</ul>\n<h3 id=\"æŒæ¡å¤§å˜´é’è›™åè®®-yahalom-kerberosåè®®å®‰å…¨åè®®è®¾è®¡çš„æ€æƒ³\"><a class=\"anchor\" href=\"#æŒæ¡å¤§å˜´é’è›™åè®®-yahalom-kerberosåè®®å®‰å…¨åè®®è®¾è®¡çš„æ€æƒ³\">#</a> æŒæ¡å¤§å˜´é’è›™åè®®ã€Yahalomã€Kerberos åè®®å®‰å…¨åè®®è®¾è®¡çš„æ€æƒ³ã€‚</h3>\n<ul>\n<li>\n<p><strong>å¤§å˜´é’è›™åè®®</strong>ï¼šA å’Œ B å‡ä¸ T å…±äº«ä¸€ä¸ªå¯†é’¥ï¼Œåªéœ€è¦ä¼ ä¸¤æ¡æ¶ˆæ¯ï¼Œå°±å¯ä»¥å°†ä¸€ä¸ªä¼šè¯å¯†é’¥å‘é€ç»™ Bã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/n2uuvf.png\" alt=\"å¤§å˜´é’è›™\" /></p>\n</li>\n<li>\n<p><strong>Yahalom</strong>ï¼šç”± B å…ˆå‘ T æ¥è§¦ï¼ŒT ä»…å‘ A å‘é€ä¸€æ¡æ¶ˆæ¯</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/j6ey3r.png\" alt=\"Yahalom\" /></p>\n</li>\n<li>\n<p><strong>Kerberos</strong>ï¼šA å’Œ B å‡ä¸ T å…±äº«ä¸€ä¸ªå¯†é’¥ï¼Œé‡‡ç”¨æ—¶æˆ³ã€‚ä¼šè¯å¯†é’¥ç”± A ç”Ÿæˆã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/wyke2u.png\" alt=\"Kerberos\" /></p>\n</li>\n</ul>\n<h3 id=\"è¯·ç”»å›¾åˆ†æç¬¬218é¡µçš„skidåè®®ä¸ºä»€ä¹ˆä¸èƒ½æŠµæŠ—ä¸­é—´äººæ”»å‡»å¦‚ä½•æ”¹é€ è¿™ä¸ªåè®®å¯ä»¥æœ‰æ•ˆæŠµæŠ—ä¸­é—´äººæ”»å‡»\"><a class=\"anchor\" href=\"#è¯·ç”»å›¾åˆ†æç¬¬218é¡µçš„skidåè®®ä¸ºä»€ä¹ˆä¸èƒ½æŠµæŠ—ä¸­é—´äººæ”»å‡»å¦‚ä½•æ”¹é€ è¿™ä¸ªåè®®å¯ä»¥æœ‰æ•ˆæŠµæŠ—ä¸­é—´äººæ”»å‡»\">#</a> è¯·ç”»å›¾åˆ†æç¬¬ 218 é¡µçš„ SKID åè®®ä¸ºä»€ä¹ˆä¸èƒ½æŠµæŠ—ä¸­é—´äººæ”»å‡»ï¼Ÿå¦‚ä½•æ”¹é€ è¿™ä¸ªåè®®ï¼Œå¯ä»¥æœ‰æ•ˆæŠµæŠ—ä¸­é—´äººæ”»å‡»ï¼Ÿ</h3>\n<ul>\n<li>SKID é‡‡ç”¨ MAC æ¥æä¾›å®‰å…¨æ€§ï¼Œå¹¶å‡è®¾ A å’Œ B å…±äº«ä¸€ä¸ªå¯†é’¥ K</li>\n<li>SKID2 æ˜¯å•å‘èº«ä»½è¯†åˆ«åè®®ï¼ˆåªæœ‰ 1ï½3 æ­¥ï¼‰</li>\n<li>SKID3 æ˜¯åŒå‘èº«ä»½è¯†åˆ«åè®®ï¼Œå¦‚ä¸‹å›¾</li>\n</ul>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/b9tzhp.png\" alt=\"SKID3\" /></p>\n<ul>\n<li>\n<p><strong>ä¸­é—´äººæ”»å‡»</strong>ï¼šé‡‡ç”¨é¢„è¨€è€…ä¼šè¯æ”»å‡»</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/seury5.png\" alt=\"é¢„è¨€è€…ä¼šè¯æ”»å‡»\" /></p>\n</li>\n<li>\n<p><strong>æ”¹é€ åè®®</strong>ï¼šåœ¨è¿™ä¸ªåè®®ä¸­ï¼ŒA æ— æ³•ç¡®å®šæ¶ˆæ¯æ¥æºäº Bï¼Œæ‰€ä»¥ä¼šå¯¼è‡´ä¸­é—´äººæ”»å‡»ï¼Œæ‰€ä»¥å¯ä»¥å¼•å…¥æ•°å­—ç­¾åã€æ•°å­—è¯ä¹¦æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>\n</li>\n</ul>\n<h3 id=\"å¯¹å¯†ç åè®®çš„æ”»å‡»æ–¹æ³•æœ‰å“ªäº›\"><a class=\"anchor\" href=\"#å¯¹å¯†ç åè®®çš„æ”»å‡»æ–¹æ³•æœ‰å“ªäº›\">#</a> å¯¹å¯†ç åè®®çš„æ”»å‡»æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h3>\n<ul>\n<li><strong>å·²çŸ¥æ˜æ–‡æ”»å‡»</strong>ï¼šé€šè¿‡é•¿æœŸçªƒå¬è·å¾—ä¸€ä¸ªåŠ å¯†è¡¨</li>\n<li><strong>é€‰æ‹©å¯†æ–‡æ”»å‡»</strong>ï¼šå¯é€‰æ‹©å°†æ˜æ–‡è½¬æ¢ä¸ºå¯†æ–‡ï¼Œå¯é€‰æ‹©å…¨ â€œ0â€ æˆ–å…¨ â€œ1â€ çš„å¯†æ–‡ä¸²æ¥åŠ é€Ÿè§£å¯†</li>\n<li><strong>é¢„è¨€è€…ä¼šè¯æ”»å‡»</strong>ï¼šå°†ä¸€æ–¹å½“ä½œå¦ä¸€æ–¹çš„é¢„è¨€è€… â€œè§£å¯†æœåŠ¡å™¨â€</li>\n<li><strong>å¹¶è¡Œä¼šè¯æ”»å‡»</strong>ï¼šæ›¾ç»ä½¿ç”¨è¿‡çš„ä¿¡æ¯æµåœ¨æ–°çš„åè®®æ‰§è¡Œè¿‡ç¨‹ä¸­è¢«ä½¿ç”¨</li>\n</ul>\n<h3 id=\"å¯†ç åè®®çš„å®‰å…¨æ€§åˆ†æçš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›\"><a class=\"anchor\" href=\"#å¯†ç åè®®çš„å®‰å…¨æ€§åˆ†æçš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›\">#</a> å¯†ç åè®®çš„å®‰å…¨æ€§åˆ†æçš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h3>\n<ul>\n<li><strong>æ”»å‡»æ£€éªŒæ³•</strong></li>\n<li><strong>å½¢å¼è¯­è¨€é€»è¾‘åˆ†ææ³•</strong></li>\n<li><strong>å¯è¯æ˜å®‰å…¨æ€§åˆ†ææ³•</strong></li>\n</ul>\n<h2 id=\"ç¬¬ä¹ç« \"><a class=\"anchor\" href=\"#ç¬¬ä¹ç« \">#</a> ç¬¬ä¹ç« </h2>\n<h3 id=\"ä»€ä¹ˆæ˜¯pkipkiç”±å“ªå‡ éƒ¨åˆ†ç»„æˆæ¯ä¸ªç»„æˆéƒ¨åˆ†çš„ä½œç”¨æ˜¯ä»€ä¹ˆ\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯pkipkiç”±å“ªå‡ éƒ¨åˆ†ç»„æˆæ¯ä¸ªç»„æˆéƒ¨åˆ†çš„ä½œç”¨æ˜¯ä»€ä¹ˆ\">#</a> ä»€ä¹ˆæ˜¯ PKIï¼ŸPKI ç”±å“ªå‡ éƒ¨åˆ†ç»„æˆï¼Ÿæ¯ä¸ªç»„æˆéƒ¨åˆ†çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3>\n<ul>\n<li><strong>PKI</strong>ï¼šå…¬é’¥åŸºç¡€è®¾æ–½ï¼ˆPublic Key Infrastructureï¼‰ï¼Œä¸€ç§éµå¾ª<strong>æ ‡å‡†</strong>çš„åˆ©ç”¨<strong>å…¬é’¥</strong>ç†è®ºå’ŒæŠ€æœ¯å»ºç«‹çš„æä¾›<strong>å®‰å…¨æœåŠ¡</strong>çš„åŸºç¡€è®¾æ–½ã€‚</li>\n<li><strong>ç»„æˆéƒ¨åˆ†å’ŒåŠŸèƒ½</strong>ï¼š\n<ul>\n<li>è¯ä¹¦æœºæ„ CAï¼šå‘æ”¾å’Œç®¡ç†è¯ä¹¦ç­‰ã€‚ï¼ˆç”Ÿæˆå’Œé¢å‘æ•°å­—è¯ä¹¦ï¼‰</li>\n<li>æ³¨å†Œæœºæ„ RAï¼šè¯ä¹¦æ³¨å†Œå’Œå®¡æ‰¹ã€‚ï¼ˆæ¥å—ä¸éªŒè¯ä¿¡æ¯ï¼Œä¸ºç”¨æˆ·ç”Ÿæˆå¯†é’¥ï¼Œæ¥å—æ’¤é”€è¯·æ±‚ï¼‰</li>\n<li>è¯ä¹¦å‘å¸ƒåº“ï¼šé›†ä¸­å­˜æ”¾ CA é¢å‘çš„è¯ä¹¦å’Œæ’¤é”€åˆ—è¡¨ã€‚</li>\n<li>å¯†é’¥å¤‡ä»½ä¸æ¢å¤ï¼šå¤‡ä»½å’Œæ¢å¤ç”¨æˆ·çš„ç§é’¥ï¼ˆç”¨äºæ•°æ®åŠ å¯†çš„ç§é’¥æ‰ä¼šå¤‡ä»½ï¼‰ã€‚</li>\n<li>è¯ä¹¦æ’¤é”€ï¼šå½“è¯ä¹¦ä½œåºŸæ—¶è­¦å‘Šå…¶ä»–ç”¨æˆ·ä¸è¦ç»§ç»­ä½¿ç”¨è¯¥è¯ä¹¦ã€‚</li>\n<li>PKI åº”ç”¨æ¥å£ï¼šä½¿ç”¨æˆ·æ›´æ–¹ä¾¿çš„ä½¿ç”¨åŠ å¯†ã€æ•°å­—ç­¾åç­‰å®‰å…¨æœåŠ¡ã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯æ•°å­—è¯ä¹¦ä¸€ä¸ªæ•°å­—è¯ä¹¦åŒ…å«å“ªäº›å†…å®¹\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯æ•°å­—è¯ä¹¦ä¸€ä¸ªæ•°å­—è¯ä¹¦åŒ…å«å“ªäº›å†…å®¹\">#</a> ä»€ä¹ˆæ˜¯æ•°å­—è¯ä¹¦ï¼Ÿä¸€ä¸ªæ•°å­—è¯ä¹¦åŒ…å«å“ªäº›å†…å®¹ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>æ•°å­—è¯ä¹¦</strong>ï¼šæ•°å­—è¯ä¹¦å°±æ˜¯ä¸€ä¸ªç”¨æˆ·çš„<strong>èº«ä»½</strong>ä¸å…¶æ‰€æŒæœ‰çš„<strong>å…¬é’¥</strong>çš„ç»“åˆï¼Œåœ¨ç»“åˆä¹‹å‰ç”±ä¸€ä¸ªå¯ä¿¡ä»»çš„<strong>æƒå¨æœºæ„ CA</strong> æ¥è¯å®ç”¨æˆ·çš„èº«ä»½ï¼Œç„¶åç”±è¯¥æœºæ„å¯¹ç”¨æˆ·èº«ä»½åŠå¯¹åº”å…¬é’¥ç›¸ç»“åˆçš„è¯ä¹¦è¿›è¡Œ<strong>æ•°å­—ç­¾å</strong>ï¼Œä»¥è¯æ˜å…¶è¯ä¹¦çš„æœ‰æ•ˆæ€§ã€‚</p>\n</li>\n<li>\n<p><strong>åŒ…å«</strong>ï¼š</p>\n<ul>\n<li>ä¸»ä½“å</li>\n<li>å…¬é’¥</li>\n<li>åºå·</li>\n<li>æœ‰æ•ˆæœŸ</li>\n<li>ç­¾å‘è€…å</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"äº†è§£x509æ ‡å‡†è§„å®šçš„æ•°å­—è¯ä¹¦çš„æ ¼å¼\"><a class=\"anchor\" href=\"#äº†è§£x509æ ‡å‡†è§„å®šçš„æ•°å­—è¯ä¹¦çš„æ ¼å¼\">#</a> äº†è§£ X.509 æ ‡å‡†è§„å®šçš„æ•°å­—è¯ä¹¦çš„æ ¼å¼ã€‚</h3>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/lvyvyh.png\" alt=\"æ•°å­—è¯ä¹¦çš„æ ¼å¼\" /></p>\n<h3 id=\"å®é™…ä¸­ç”±è°æ¥ç­¾å‘è¯ä¹¦ç­¾å‘è¯ä¹¦æ—¶æ˜¯ç”±è°çš„ä½•ç§å¯†é’¥ç§é’¥è¿˜æ˜¯å…¬é’¥è¿›è¡Œç­¾åéªŒè¯è¯ä¹¦æ—¶æ˜¯ç”¨è°çš„ä½•ç§å¯†é’¥æ¥éªŒè¯\"><a class=\"anchor\" href=\"#å®é™…ä¸­ç”±è°æ¥ç­¾å‘è¯ä¹¦ç­¾å‘è¯ä¹¦æ—¶æ˜¯ç”±è°çš„ä½•ç§å¯†é’¥ç§é’¥è¿˜æ˜¯å…¬é’¥è¿›è¡Œç­¾åéªŒè¯è¯ä¹¦æ—¶æ˜¯ç”¨è°çš„ä½•ç§å¯†é’¥æ¥éªŒè¯\">#</a> å®é™…ä¸­ï¼Œç”±è°æ¥ç­¾å‘è¯ä¹¦ï¼Ÿç­¾å‘è¯ä¹¦æ—¶ï¼Œæ˜¯ç”±è°çš„ä½•ç§å¯†é’¥ï¼ˆç§é’¥è¿˜æ˜¯å…¬é’¥ï¼‰è¿›è¡Œç­¾åï¼ŸéªŒè¯è¯ä¹¦æ—¶ï¼Œæ˜¯ç”¨è°çš„ä½•ç§å¯†é’¥æ¥éªŒè¯ï¼Ÿ</h3>\n<p>å®é™…ä¸­ï¼Œç”±<strong> CA</strong> ç­¾å‘è¯ä¹¦ã€‚ç­¾å‘æ—¶é‡‡ç”¨<strong> CA çš„ç§é’¥</strong>ï¼ŒéªŒè¯æ—¶é‡‡ç”¨<strong> CA çš„å…¬é’¥</strong>ã€‚</p>\n<h3 id=\"æ•°å­—è¯ä¹¦çš„ä½œç”¨æ˜¯ä»€ä¹ˆå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸ºè§£å†³ç½‘ç»œå®‰å…¨ä¸­çš„ä½•ç§é—®é¢˜\"><a class=\"anchor\" href=\"#æ•°å­—è¯ä¹¦çš„ä½œç”¨æ˜¯ä»€ä¹ˆå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸ºè§£å†³ç½‘ç»œå®‰å…¨ä¸­çš„ä½•ç§é—®é¢˜\">#</a> æ•°å­—è¯ä¹¦çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸ºè§£å†³ç½‘ç»œå®‰å…¨ä¸­çš„ä½•ç§é—®é¢˜ï¼Ÿ</h3>\n<p><strong>ä½œç”¨</strong>ï¼šè¯æ˜ç½‘ç»œå®ä½“åœ¨ç‰¹å®šå®‰å…¨åº”ç”¨çš„ç›¸å…³ä¿¡æ¯ã€‚è§£å†³äº†å…¬é’¥çš„å¯ä¿¡æ€§é—®é¢˜ã€‚</p>\n<h3 id=\"åœ¨å®é™…åº”ç”¨ä¸­è‹¥é‡‡ç”¨å±‚æ¬¡åŒ–çš„caæ¶æ„å¦‚ä½•å®ç°ä¸¤ä¸ªä½äºä¸åŒå­caä¸­çš„ç”¨æˆ·ä¹‹é—´çš„æ•°å­—è¯ä¹¦éªŒè¯\"><a class=\"anchor\" href=\"#åœ¨å®é™…åº”ç”¨ä¸­è‹¥é‡‡ç”¨å±‚æ¬¡åŒ–çš„caæ¶æ„å¦‚ä½•å®ç°ä¸¤ä¸ªä½äºä¸åŒå­caä¸­çš„ç”¨æˆ·ä¹‹é—´çš„æ•°å­—è¯ä¹¦éªŒè¯\">#</a> åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè‹¥é‡‡ç”¨å±‚æ¬¡åŒ–çš„ CA æ¶æ„ï¼Œå¦‚ä½•å®ç°ä¸¤ä¸ªä½äºä¸åŒå­ CA ä¸­çš„ç”¨æˆ·ä¹‹é—´çš„æ•°å­—è¯ä¹¦éªŒè¯ï¼Ÿ</h3>\n<p>é€çº§å¾€ä¸Šï¼Œç›´åˆ°éªŒè¯åˆ°æ ¹ CA</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/8muxvf.png\" alt=\"é€çº§éªŒè¯\" /></p>\n<p>ä»¥ Alice è¦éªŒè¯ Bob çš„è¯ä¹¦ä¸ºä¾‹ï¼š</p>\n<ol>\n<li>Bob å‘é€è‡ªå·±çš„è¯ä¹¦</li>\n<li>Alice è¯·æ±‚ B11 çš„å…¬é’¥</li>\n<li>Bob å‘é€ B11 çš„è¯ä¹¦</li>\n<li>Alice è¯·æ±‚ A3 çš„å…¬é’¥</li>\n<li>Bob å‘é€ A3 çš„è¯ä¹¦</li>\n<li>Alice ç”¨æ ¹ CA è¯ä¹¦éªŒè¯ A3 çš„è¯ä¹¦</li>\n</ol>\n<h3 id=\"ä»€ä¹ˆæ˜¯äº¤å‰è¯ä¹¦\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯äº¤å‰è¯ä¹¦\">#</a> ä»€ä¹ˆæ˜¯äº¤å‰è¯ä¹¦ï¼Ÿ</h3>\n<p>äº¤å‰è¯ä¹¦å¯ä»¥è®©ä¸åŒ PKI åŸŸçš„æ ¹ CA è¿›è¡Œäº¤å‰è®¤è¯ï¼Œä»è€Œè§£å†³æ ¹ CA ä¸åŒçš„ä¿¡ä»»é—®é¢˜</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/ozoosm.png\" alt=\"äº¤å‰è¯ä¹¦\" /></p>\n<h3 id=\"å¦‚ä½•å®ç°æ•°å­—è¯ä¹¦çš„æ’¤é”€å¦‚ä½•å®ç°æ•°å­—è¯ä¹¦çš„åœ¨çº¿æŸ¥è¯¢\"><a class=\"anchor\" href=\"#å¦‚ä½•å®ç°æ•°å­—è¯ä¹¦çš„æ’¤é”€å¦‚ä½•å®ç°æ•°å­—è¯ä¹¦çš„åœ¨çº¿æŸ¥è¯¢\">#</a> å¦‚ä½•å®ç°æ•°å­—è¯ä¹¦çš„æ’¤é”€ï¼Ÿå¦‚ä½•å®ç°æ•°å­—è¯ä¹¦çš„åœ¨çº¿æŸ¥è¯¢ï¼Ÿ</h3>\n<ul>\n<li>\n<p>æ’¤é”€æ£€æŸ¥ï¼šç»´æŠ¤è¯ä¹¦æ’¤é”€åˆ—è¡¨ï¼ˆCRLï¼‰æˆ–æ˜¯æ‰§è¡Œè”æœºè¯ä¹¦çŠ¶æ€åè®®ï¼Œå¯¹è¯ä¹¦çš„æ’¤é”€çŠ¶æ€è¿›è¡Œæ£€æŸ¥</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/mgvclr.png\" alt=\"æ•°å­—è¯ä¹¦çš„æ’¤é”€\" /></p>\n</li>\n<li>\n<p><strong>åœ¨çº¿æŸ¥è¯¢</strong>ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/qpq32e.png\" alt=\"æ•°å­—è¯ä¹¦åœ¨çº¿æŸ¥è¯¢\" /></p>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯æ¼«æ¸¸è¯ä¹¦ç®€è¿°å…¶åŸºæœ¬å·¥ä½œåŸç†\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯æ¼«æ¸¸è¯ä¹¦ç®€è¿°å…¶åŸºæœ¬å·¥ä½œåŸç†\">#</a> ä»€ä¹ˆæ˜¯æ¼«æ¸¸è¯ä¹¦ï¼Ÿç®€è¿°å…¶åŸºæœ¬å·¥ä½œåŸç†ã€‚</h3>\n<ul>\n<li><strong>æ¼«æ¸¸è¯ä¹¦</strong>ï¼šé€šè¿‡ç¬¬ä¸‰æ–¹è½¯ä»¶æä¾›ï¼Œåœ¨ä»»ä½•ç³»ç»Ÿä¸­ï¼Œåªéœ€æ­£ç¡®é…ç½®ï¼Œè¯¥è½¯ä»¶å°±å¯ä»¥å…è®¸ç”¨æˆ·è®¿é—®è‡ªå·±çš„å…¬ / ç§é’¥å¯¹ã€‚</li>\n<li><strong>å·¥ä½œåŸç†</strong>ï¼š\n<ul>\n<li>å°†æ•°å­—è¯ä¹¦å’Œç§é’¥å­˜å‚¨äºå®‰å…¨çš„ä¸­å¤®æœåŠ¡å™¨</li>\n<li>ç”¨æˆ·éœ€è¦æ•°å­—è¯ä¹¦æ—¶ï¼Œå¯å‘è¯¥æœåŠ¡å™¨è®¤è¯è‡ªå·±</li>\n<li>è®¤è¯æˆåŠŸåï¼Œè¯¥æœåŠ¡å™¨å°†è¯ä¹¦å’Œç§é’¥å‘ç»™ç”¨æˆ·</li>\n<li>å½“ç”¨æˆ·å®Œæˆå·¥ä½œåï¼Œè¯¥è½¯ä»¶è‡ªåŠ¨åˆ é™¤è¯ä¹¦å’Œç§é’¥</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¸€ä¸ªpkicaæ•°å­—è¯ä¹¦ç³»ç»Ÿç”±å“ªå‡ éƒ¨åˆ†æ„æˆ\"><a class=\"anchor\" href=\"#ä¸€ä¸ªpkicaæ•°å­—è¯ä¹¦ç³»ç»Ÿç”±å“ªå‡ éƒ¨åˆ†æ„æˆ\">#</a> ä¸€ä¸ª PKI/CA æ•°å­—è¯ä¹¦ç³»ç»Ÿç”±å“ªå‡ éƒ¨åˆ†æ„æˆï¼Ÿ</h3>\n<p>è¯ä¹¦æœºæ„ã€æ³¨å†Œæœºæ„ã€å¯†é’¥å¤‡ä»½ä¸æ¢å¤ã€è¯ä¹¦å‘å¸ƒåº“ã€è¯ä¹¦æ’¤é”€</p>\n<h2 id=\"ç¬¬åç« \"><a class=\"anchor\" href=\"#ç¬¬åç« \">#</a> ç¬¬åç« </h2>\n<h3 id=\"ä»€ä¹ˆæ˜¯é“¾è·¯åŠ å¯†æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯é“¾è·¯åŠ å¯†æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹\">#</a> ä»€ä¹ˆæ˜¯é“¾è·¯åŠ å¯†ï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>é“¾è·¯åŠ å¯†</strong>ï¼šå¯¹ç½‘ç»œä¸­ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ä¹‹é—´ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†ä¿æŠ¤</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/dsh1yj.png\" alt=\"é“¾è·¯åŠ å¯†\" /></p>\n</li>\n<li>\n<p>ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>\n<p>åŠ å¯†å¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ï¼Œé€šè¿‡é“¾è·¯å‘é€çš„ä»»ä½•ä¿¡æ¯åœ¨å‘é€å‰éƒ½å…ˆè¢«åŠ å¯†ã€‚</p>\n</li>\n<li>\n<p>æ¯ä¸ªé“¾è·¯åªéœ€è¦ä¸€å¯¹å¯†é’¥ã€‚</p>\n</li>\n<li>\n<p>æä¾›äº†ä¿¡å·æµå®‰å…¨æœºåˆ¶ã€‚</p>\n</li>\n</ul>\n</li>\n<li>\n<p>ç¼ºç‚¹ï¼š</p>\n<ul>\n<li>æ•°æ®åœ¨ä¸­é—´ç»“ç‚¹ä»¥æ˜æ–‡å½¢å¼å‡ºç°ï¼Œç»´æŠ¤ç»“ç‚¹å®‰å…¨æ€§çš„ä»£ä»·è¾ƒé«˜</li>\n<li>å¯†é’¥åˆ†é…å›°éš¾</li>\n<li>èŠ‚ç‚¹å¢å¤šåå¯†ç æœºéœ€æ±‚é‡å¤§</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯èŠ‚ç‚¹åŠ å¯†æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯èŠ‚ç‚¹åŠ å¯†æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹\">#</a> ä»€ä¹ˆæ˜¯èŠ‚ç‚¹åŠ å¯†ï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>èŠ‚ç‚¹åŠ å¯†</strong>ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/wvu0tt.png\" alt=\"èŠ‚ç‚¹åŠ å¯†\" /></p>\n</li>\n<li>\n<p>ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>\n<p>æ¶ˆæ¯çš„åŠ ã€è§£å¯†åœ¨å®‰å…¨æ¨¡å—ä¸­è¿›è¡Œï¼Œè¿™ä½¿æ¶ˆæ¯å†…å®¹ä¸ä¼šè¢«æ³„å¯†ã€‚</p>\n</li>\n<li>\n<p>åŠ å¯†å¯¹ç”¨æˆ·é€æ˜ã€‚</p>\n</li>\n</ul>\n</li>\n<li>\n<p>ç¼ºç‚¹ï¼š</p>\n<ul>\n<li>\n<p>æŸäº›ä¿¡æ¯ï¼ˆå¦‚æŠ¥å¤´å’Œè·¯ç”±ä¿¡æ¯ï¼‰å¿…é¡»ä»¥æ˜æ–‡å½¢å¼ä¼ è¾“ï¼Œå¯èƒ½é­åˆ°æµé‡åˆ†ææ”»å‡»ã€‚</p>\n</li>\n<li>\n<p>å› ä¸ºæ‰€æœ‰èŠ‚ç‚¹éƒ½å¿…é¡»æœ‰å¯†é’¥ï¼Œå¯†é’¥åˆ†å‘å’Œç®¡ç†å˜çš„å›°éš¾ã€‚</p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯ç«¯åˆ°ç«¯åŠ å¯†æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯ç«¯åˆ°ç«¯åŠ å¯†æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹\">#</a> ä»€ä¹ˆæ˜¯ç«¯åˆ°ç«¯åŠ å¯†ï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>ç«¯åˆ°ç«¯åŠ å¯†</strong>ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/sedhyp.png\" alt=\"ç«¯åˆ°ç«¯åŠ å¯†\" /></p>\n</li>\n<li>\n<p>ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>\n<p>å¯¹ä¸¤ä¸ªç»ˆç«¯ä¹‹é—´çš„æ•´ä¸ªé€šä¿¡çº¿è·¯è¿›è¡ŒåŠ å¯†ã€‚</p>\n</li>\n<li>\n<p>åªéœ€è¦ 2 å°åŠ å¯†æœºï¼Œ1 å°åœ¨å‘ç«¯ï¼Œ1 å°åœ¨æ”¶ç«¯ã€‚</p>\n</li>\n<li>\n<p>ä»å‘ç«¯åˆ°æ”¶ç«¯çš„ä¼ è¾“è¿‡ç¨‹ä¸­ï¼ŒæŠ¥æ–‡å§‹ç»ˆä»¥å¯†æ–‡å­˜åœ¨ã€‚</p>\n</li>\n<li>\n<p>æ¯”é“¾è·¯å’ŒèŠ‚ç‚¹åŠ å¯†æ›´å®‰å…¨å¯é ï¼Œæ›´å®¹æ˜“è®¾è®¡å’Œç»´æŠ¤ã€‚</p>\n</li>\n</ul>\n</li>\n<li>\n<p>ç¼ºç‚¹ï¼šä¸èƒ½é˜²æ­¢ä¸šåŠ¡æµåˆ†ææ”»å‡»</p>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯æ··åˆåŠ å¯†æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯æ··åˆåŠ å¯†æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹\">#</a> ä»€ä¹ˆæ˜¯æ··åˆåŠ å¯†ï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>æ··åˆåŠ å¯†</strong>ï¼šé“¾è·¯åŠ å¯† + ç«¯åˆ°ç«¯åŠ å¯†</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/2cmzmh.png\" alt=\"æ··åˆåŠ å¯†\" /></p>\n</li>\n<li>\n<p>ä¼˜ç‚¹ï¼šæŠ¥æ–‡è¢«ä¸¤æ¬¡åŠ å¯†ï¼Œä¿æŠ¤äº†æŠ¥å¤´çš„æ•æ„Ÿä¿¡æ¯ï¼Œä¸ä¼šè¢«ä¸šåŠ¡æµåˆ†ææ”»å‡»ã€‚</p>\n</li>\n<li>\n<p>ç¼ºç‚¹ï¼šä¿¡æ¯çš„å®‰å…¨è®¾è®¡è¾ƒå¤æ‚ï¼Œæˆæœ¬é«˜ï¼Œç³»ç»Ÿå¼€é”€å¤§ã€‚</p>\n</li>\n</ul>\n<h3 id=\"ä»€ä¹ˆæ˜¯å¯†é’¥ç®¡ç†å®ƒåŒ…æ‹¬å“ªäº›æ–¹é¢çš„ç®¡ç†\"><a class=\"anchor\" href=\"#ä»€ä¹ˆæ˜¯å¯†é’¥ç®¡ç†å®ƒåŒ…æ‹¬å“ªäº›æ–¹é¢çš„ç®¡ç†\">#</a> ä»€ä¹ˆæ˜¯å¯†é’¥ç®¡ç†ï¼Ÿå®ƒåŒ…æ‹¬å“ªäº›æ–¹é¢çš„ç®¡ç†ï¼Ÿ</h3>\n<ul>\n<li><strong>å¯†é’¥ç®¡ç†</strong>ï¼šå¤„ç†å¯†é’¥ä»äº§ç”Ÿåˆ°æœ€ç»ˆé”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ä¸­çš„æœ‰å…³é—®é¢˜ï¼ŒåŒ…æ‹¬ç³»ç»Ÿçš„åˆå§‹åŒ–åŠå¯†é’¥çš„<strong>äº§ç”Ÿ</strong>ã€<strong>å­˜å‚¨</strong>ã€<strong>å¤‡ä»½ / æ¢å¤</strong>ã€<strong>è£…å…¥</strong>ã€<strong>åˆ†é…</strong>ã€<strong>ä¿æŠ¤</strong>ã€<strong>æ›´æ–°</strong>ã€<strong>æ§åˆ¶</strong>ã€<strong>ä¸¢å¤±</strong>ã€<strong>æ’¤é”€</strong>å’Œ<strong>é”€æ¯</strong>ç­‰å†…å®¹ã€‚</li>\n</ul>\n<h3 id=\"å¯†é’¥æœ‰å“ªäº›ç§ç±»å®ƒä»¬å„è‡ªæœ‰ä»€ä¹ˆç”¨é€”\"><a class=\"anchor\" href=\"#å¯†é’¥æœ‰å“ªäº›ç§ç±»å®ƒä»¬å„è‡ªæœ‰ä»€ä¹ˆç”¨é€”\">#</a> å¯†é’¥æœ‰å“ªäº›ç§ç±»ï¼Ÿå®ƒä»¬å„è‡ªæœ‰ä»€ä¹ˆç”¨é€”ï¼Ÿ</h3>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/3wsz9b.png\" alt=\"å¯†é’¥çš„ç§ç±»\" /></p>\n<h3 id=\"æœ‰å“ªäº›å¯†é’¥åˆ†é…çš„åŸºæœ¬æ–¹æ³•\"><a class=\"anchor\" href=\"#æœ‰å“ªäº›å¯†é’¥åˆ†é…çš„åŸºæœ¬æ–¹æ³•\">#</a> æœ‰å“ªäº›å¯†é’¥åˆ†é…çš„åŸºæœ¬æ–¹æ³•ï¼Ÿ</h3>\n<ul>\n<li>\n<p><strong>åˆ©ç”¨å®‰å…¨ä¿¡é“</strong>å®ç°å¯†é’¥ä¼ é€’</p>\n</li>\n<li>\n<p><strong>åˆ©ç”¨åŒé’¥ä½“åˆ¶</strong>å»ºç«‹å®‰å…¨ä¿¡é“</p>\n</li>\n<li>\n<p><strong>åˆ©ç”¨é‡å­æŠ€æœ¯</strong>å®ç°å¯†é’¥ä¼ é€’</p>\n</li>\n</ul>\n<h3 id=\"åœ¨ç”¨å¯†é’¥æªæ³¨å…¥å¯†é’¥æ—¶å¦‚ä½•éªŒè¯å¯†é’¥æ³¨å…¥çš„æ­£ç¡®æ€§\"><a class=\"anchor\" href=\"#åœ¨ç”¨å¯†é’¥æªæ³¨å…¥å¯†é’¥æ—¶å¦‚ä½•éªŒè¯å¯†é’¥æ³¨å…¥çš„æ­£ç¡®æ€§\">#</a> åœ¨ç”¨å¯†é’¥æªæ³¨å…¥å¯†é’¥æ—¶ï¼Œå¦‚ä½•éªŒè¯å¯†é’¥æ³¨å…¥çš„æ­£ç¡®æ€§ï¼Ÿ</h3>\n<ol>\n<li>å¯†é’¥æªå°†ä¸€éšæœºæ•° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>R</mi><mi>N</mi></msub></mrow><annotation encoding=\"application/x-tex\">R_N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> æ³¨å…¥ä¿å¯†æœº</li>\n<li>ä¿å¯†æœºç”¨ä¸»å¯†é’¥ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">K_m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> åŠ å¯†ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>E</mi><mrow><mi>K</mi><mi>m</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>R</mi><mi>N</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">E_{Km}(R_N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></li>\n<li>ä¿å¯†æœºè®¡ç®— <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">K_m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„æ‚å‡‘å‡½æ•°å€¼ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mo stretchy=\"false\">(</mo><msub><mi>K</mi><mi>m</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">h(K_m)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></li>\n<li>ä¿å¯†æœºå°† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>E</mi><mrow><mi>K</mi><mi>m</mi></mrow></msub><mo stretchy=\"false\">(</mo><msub><mi>R</mi><mi>N</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">E_{Km}(R_N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> å’Œ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">)</mo><msub><mi>k</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">h()k_m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mopen\">(</span><span class=\"mclose\">)</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å›é€åˆ°å¯†é’¥æª</li>\n<li>å¯†é’¥æªæ£€éªŒ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>h</mi><mo stretchy=\"false\">(</mo><msub><mi>K</mi><mi>m</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">h(K_m)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">h</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> å€¼ï¼Œå¹¶æ£€éªŒè§£å¯†çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>R</mi><mi>N</mi></msub></mrow><annotation encoding=\"application/x-tex\">R_N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span></li>\n</ol>\n<h3 id=\"å¯†é’¥ç®¡ç†ä¸ºä»€ä¹ˆè¦å°†å¯†é’¥åˆ’åˆ†æˆä¸åŒçš„å±‚æ¬¡\"><a class=\"anchor\" href=\"#å¯†é’¥ç®¡ç†ä¸ºä»€ä¹ˆè¦å°†å¯†é’¥åˆ’åˆ†æˆä¸åŒçš„å±‚æ¬¡\">#</a> å¯†é’¥ç®¡ç†ä¸ºä»€ä¹ˆè¦å°†å¯†é’¥åˆ’åˆ†æˆä¸åŒçš„å±‚æ¬¡ï¼Ÿ</h3>\n<p>åˆ©äº<strong>åˆ†çº§ç®¡ç†</strong>ã€‚æå°‘æ•°å¯†é’¥ä»¥æ˜æ–‡å½¢å¼å­˜å‚¨åœ¨æœ‰ä¸¥å¯†ç‰©ç†ä¿æŠ¤çš„ä¸»æœºå¯†ç å™¨ä»¶ä¸­ï¼Œå…¶ä½™å¯†é’¥åˆ™ä»¥å¯†æ–‡å½¢å¼å­˜å‚¨åœ¨å¯†ç å™¨ä¹‹å¤–ã€‚è¿™æ ·ï¼Œå¯†é’¥ç®¡ç†å°±å¯ä»¥å¤§å¤§ç®€åŒ–ï¼Œå®‰å…¨æ€§ä¹Ÿé«˜ã€‚</p>\n<h3 id=\"ä¸€ä¸ªå¯†é’¥ç®¡ç†ç³»ç»Ÿç”±å“ªå‡ éƒ¨åˆ†æ„æˆ\"><a class=\"anchor\" href=\"#ä¸€ä¸ªå¯†é’¥ç®¡ç†ç³»ç»Ÿç”±å“ªå‡ éƒ¨åˆ†æ„æˆ\">#</a> ğŸŒŸä¸€ä¸ªå¯†é’¥ç®¡ç†ç³»ç»Ÿç”±å“ªå‡ éƒ¨åˆ†æ„æˆï¼Ÿ</h3>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/l0cgkn.png\" alt=\"å¯†é’¥ç®¡ç†ç³»ç»Ÿ\" /></p>\n<h3 id=\"å¯†é’¥çš„ç”Ÿå­˜æœŸåˆ†å“ªå››ä¸ªé˜¶æ®µäº†è§£å¯†é’¥ç®¡ç†çš„12ä¸ªå·¥ä½œæ­¥éª¤\"><a class=\"anchor\" href=\"#å¯†é’¥çš„ç”Ÿå­˜æœŸåˆ†å“ªå››ä¸ªé˜¶æ®µäº†è§£å¯†é’¥ç®¡ç†çš„12ä¸ªå·¥ä½œæ­¥éª¤\">#</a> å¯†é’¥çš„ç”Ÿå­˜æœŸåˆ†å“ªå››ä¸ªé˜¶æ®µï¼Ÿäº†è§£å¯†é’¥ç®¡ç†çš„ 12 ä¸ªå·¥ä½œæ­¥éª¤ã€‚</h3>\n<ul>\n<li>\n<p><strong>å››ä¸ªé˜¶æ®µ</strong>ï¼š</p>\n<ol>\n<li><strong>é¢„è¿è¡Œé˜¶æ®µ</strong>ï¼šæ­¤æ—¶å¯†é’¥è¿˜ä¸èƒ½ç”¨</li>\n<li><strong>è¿è¡Œé˜¶æ®µ</strong>ï¼šæ­£å¸¸ä½¿ç”¨</li>\n<li><strong>åè¿è¡Œé˜¶æ®µ</strong>ï¼šä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œç‰¹æ®Šç›®çš„ä¸‹å¯ä»¥è„±æœºä¸‹æ¥å…¥</li>\n<li><strong>æŠ¥åºŸé˜¶æ®µ</strong>ï¼šå°†æœ‰å…³å¯†é’¥ä»æ‰€æœ‰è®°å½•ä¸­åˆ æ‰ï¼Œä¸èƒ½ä½¿ç”¨</li>\n</ol>\n</li>\n<li>\n<p><strong>12 ä¸ªå·¥ä½œæ­¥éª¤</strong>ï¼š</p>\n<ul>\n<li>ç”¨æˆ·æ³¨å†Œ</li>\n<li>ç”¨æˆ·åˆå§‹åŒ–</li>\n<li>å¯†é’¥ç”Ÿæˆ</li>\n<li>å¯†é’¥è¾“å…¥</li>\n<li>å¯†é’¥æ³¨å†Œ</li>\n<li>æ­£å¸¸ä½¿ç”¨</li>\n<li>å¯†é’¥å¤‡ä»½</li>\n<li>å¯†é’¥æ›´æ–°</li>\n<li>å¯†é’¥æ¡£æ¡ˆ</li>\n<li>å¯†é’¥æ³¨é”€ä¸é”€æ¯</li>\n<li>å¯†é’¥æ¢å¤</li>\n<li>å¯†é’¥åŠé”€</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"æŸ¥æ‰¾èµ„æ–™äº†è§£ä¸€ä¸ªå¥½çš„å¯†é’¥åº”å…·å¤‡å“ªäº›æ•°å­¦ç‰¹æ€§\"><a class=\"anchor\" href=\"#æŸ¥æ‰¾èµ„æ–™äº†è§£ä¸€ä¸ªå¥½çš„å¯†é’¥åº”å…·å¤‡å“ªäº›æ•°å­¦ç‰¹æ€§\">#</a> æŸ¥æ‰¾èµ„æ–™ï¼Œäº†è§£ä¸€ä¸ªå¥½çš„å¯†é’¥åº”å…·å¤‡å“ªäº›æ•°å­¦ç‰¹æ€§ï¼Ÿ</h3>\n<ol>\n<li>çœŸæ­£éšæœºã€ç­‰æ¦‚ç‡ã€‚</li>\n<li>é¿å…ä½¿ç”¨ç‰¹å®šç®—æ³•çš„å¼±å¯†é’¥ã€‚</li>\n<li>åŒé’¥ç³»ç»Ÿçš„å¯†é’¥å¿…é¡»æ»¡è¶³ä¸€å®šçš„æ•°å­¦å…³ç³»ã€‚</li>\n<li>å¯†é’¥ä¸€èˆ¬ä¼šé€‰ä¼ªéšæœºæ•°ï¼Œå¾ªç¯å‘¨æœŸåº”å°½å¯èƒ½å¤§ã€‚</li>\n<li>é‡‡ç”¨å¯†é’¥æ‰æ“æˆ–æ‚å‡‘æŠ€æœ¯ï¼Œå°†æ˜“è®°çš„é•¿å¥å­å˜æ¢æˆä¼ªéšæœºä¸²å­˜æ”¾ã€‚</li>\n</ol>\n<h2 id=\"ç¬¬åä¸€ç« \"><a class=\"anchor\" href=\"#ç¬¬åä¸€ç« \">#</a> ç¬¬åä¸€ç« </h2>\n<h3 id=\"æ— çº¿ç½‘ç»œé¢ä¸´å“ªäº›ä¸»è¦å®‰å…¨å¨èƒè¦èƒ½è¯†åˆ«å“ªäº›æ˜¯ä¸»åŠ¨æ”»å‡»å“ªäº›æ˜¯è¢«åŠ¨æ”»å‡»\"><a class=\"anchor\" href=\"#æ— çº¿ç½‘ç»œé¢ä¸´å“ªäº›ä¸»è¦å®‰å…¨å¨èƒè¦èƒ½è¯†åˆ«å“ªäº›æ˜¯ä¸»åŠ¨æ”»å‡»å“ªäº›æ˜¯è¢«åŠ¨æ”»å‡»\">#</a> æ— çº¿ç½‘ç»œé¢ä¸´å“ªäº›ä¸»è¦å®‰å…¨å¨èƒï¼Ÿè¦èƒ½è¯†åˆ«å“ªäº›æ˜¯ä¸»åŠ¨æ”»å‡»ï¼Œå“ªäº›æ˜¯è¢«åŠ¨æ”»å‡»ã€‚</h3>\n<ul>\n<li><strong>è¢«åŠ¨æ”»å‡»</strong>ï¼š\n<ol>\n<li>é€šè¯çªƒå¬</li>\n<li>æœåŠ¡åŒºæ ‡å¿—ç¬¦æ³„éœ²</li>\n</ol>\n</li>\n<li><strong>ä¸»åŠ¨æ”»å‡»</strong>ï¼š\n<ol>\n<li>æ•°æ®æ³¨å…¥ä¸ç¯¡æ”¹</li>\n<li>ä¸­é—´äººæ”»å‡»</li>\n<li>é€šä¿¡é˜»æ–­</li>\n<li>å®¢æˆ·ç«¯å‡å†’</li>\n<li>æ¥å…¥ç‚¹ä¼ªè£…</li>\n<li>é‡æ”¾æ”»å‡»</li>\n<li>åŒ¿åæ”»å‡»</li>\n<li>ç«¯å¯¹ç«¯æ”»å‡»</li>\n<li>éšåŒ¿æ— çº¿ä¿¡é“</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"è¯·ç”»å›¾åˆ†ægsmèœ‚çªç³»ç»Ÿä¿å¯†ä¸è®¤è¯åè®®çš„å·¥ä½œè¿‡ç¨‹æŒ‡å‡ºä¸‰å…ƒç»„è®¤è¯å‘é‡ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰€å‘æŒ¥çš„å®‰å…¨æ€§ä½œç”¨\"><a class=\"anchor\" href=\"#è¯·ç”»å›¾åˆ†ægsmèœ‚çªç³»ç»Ÿä¿å¯†ä¸è®¤è¯åè®®çš„å·¥ä½œè¿‡ç¨‹æŒ‡å‡ºä¸‰å…ƒç»„è®¤è¯å‘é‡ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰€å‘æŒ¥çš„å®‰å…¨æ€§ä½œç”¨\">#</a> è¯·ç”»å›¾åˆ†æ GSM èœ‚çªç³»ç»Ÿä¿å¯†ä¸è®¤è¯åè®®çš„å·¥ä½œè¿‡ç¨‹ï¼ŒæŒ‡å‡ºä¸‰å…ƒç»„è®¤è¯å‘é‡ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰€å‘æŒ¥çš„å®‰å…¨æ€§ä½œç”¨ã€‚</h3>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/npn3eg.png\" alt=\"GSMèœ‚çªç³»ç»Ÿä¿å¯†ä¸è®¤è¯åè®®çš„å·¥ä½œè¿‡ç¨‹\" /></p>\n<ul>\n<li><strong>ä¸‰å…ƒç»„</strong>\n<ul>\n<li>RANDï¼šéšæœºæ•°ï¼Œç”¨äºç”¨æˆ·è®¤è¯å’Œä¼šè¯å¯†é’¥çš„äº§ç”Ÿæ—¶çš„æŒ‘æˆ˜å€¼ã€‚</li>\n<li>SRES'ï¼šç­¾åå›åº”ï¼Œå³æŒ‘æˆ˜çš„ç­”æ¡ˆï¼Œç”¨äºæ¯”å¯¹ç”¨æˆ·æ˜¯å¦æˆåŠŸå“åº”ã€‚</li>\n<li>Kcï¼šä¼šè¯å¯†é’¥ï¼Œç”¨äºæ‰‹æœºä¸ GSM ç½‘ç»œä¹‹é—´çš„é€šä¿¡æ•°æ®åŠ å¯†çš„å¯†é’¥ã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"gsmç³»ç»Ÿæœ‰å“ªäº›ä¸»è¦å®‰å…¨ç¼ºé™·\"><a class=\"anchor\" href=\"#gsmç³»ç»Ÿæœ‰å“ªäº›ä¸»è¦å®‰å…¨ç¼ºé™·\">#</a> GSM ç³»ç»Ÿæœ‰å“ªäº›ä¸»è¦å®‰å…¨ç¼ºé™·ï¼Ÿ</h3>\n<ol>\n<li><strong>é¦–æ¬¡å¼€æœºæ—¶æ³„æ¼ IMSI ä¿¡æ¯</strong>ï¼Œå¯èƒ½å¯¼è‡´ç”¨æˆ·èº«ä»½æ³„æ¼ã€‚</li>\n<li><strong>ç”¨æˆ·æ— æ³•éªŒè¯åŸºç«™</strong>ï¼Œä¼ªåŸºç«™å‘ç”¨æˆ·å‘é€æ¬ºè¯ˆä¿¡æ¯ã€‚</li>\n<li><strong>éª¨å¹²ç½‘æ•°æ®ä¼ è¾“æ— åŠ å¯†</strong>ï¼Œä¸­é—´èŠ‚ç‚¹å¯æˆªè·ä¼šè¯å¯†é’¥ã€‚</li>\n<li><strong>æ— æ•°æ®å®Œæ•´æ€§éªŒè¯æœºåˆ¶</strong>ï¼Œä¸èƒ½æ£€æµ‹æ•°æ®æ˜¯å¦è¢«ç¯¡æ”¹ã€‚</li>\n<li><strong>ä¸»å¯†é’¥ K ç›´æ¥å‚ä¸è®¤è¯ä¸åŠ å¯†</strong>ï¼Œå­˜åœ¨æ³„æ¼ä¸»å¯†é’¥çš„é£é™©ã€‚</li>\n<li><strong>ä¸»å¯†é’¥ K å­˜åœ¨ SIM å¡ä¸­</strong>ï¼Œæœ‰å¤åˆ¶ SIM å¡çš„é£é™©ã€‚</li>\n</ol>\n<h3 id=\"è¯·ç”»å›¾åˆ†æ3gèœ‚çªç³»ç»Ÿä¿å¯†ä¸è®¤è¯åè®®çš„å·¥ä½œè¿‡ç¨‹æŒ‡å‡ºäº”å…ƒç»„è®¤è¯å‘é‡ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰€å‘æŒ¥çš„å®‰å…¨æ€§ä½œç”¨\"><a class=\"anchor\" href=\"#è¯·ç”»å›¾åˆ†æ3gèœ‚çªç³»ç»Ÿä¿å¯†ä¸è®¤è¯åè®®çš„å·¥ä½œè¿‡ç¨‹æŒ‡å‡ºäº”å…ƒç»„è®¤è¯å‘é‡ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰€å‘æŒ¥çš„å®‰å…¨æ€§ä½œç”¨\">#</a> è¯·ç”»å›¾åˆ†æ 3G èœ‚çªç³»ç»Ÿä¿å¯†ä¸è®¤è¯åè®®çš„å·¥ä½œè¿‡ç¨‹ï¼ŒæŒ‡å‡ºäº”å…ƒç»„è®¤è¯å‘é‡ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰€å‘æŒ¥çš„å®‰å…¨æ€§ä½œç”¨</h3>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/kybz27.png\" alt=\"3Gèœ‚çªç³»ç»Ÿä¿å¯†ä¸è®¤è¯åè®®çš„å·¥ä½œè¿‡ç¨‹\" /></p>\n<ul>\n<li><strong>äº”å…ƒç»„</strong>ï¼š\n<ul>\n<li>RANDï¼šéšæœºæ•°</li>\n<li>XRESï¼šè®¤è¯åº”ç­”</li>\n<li>CKï¼šä¿å¯†æ€§ä»¤ç‰Œ</li>\n<li>IKï¼šå®Œæ•´æ€§ä»¤ç‰Œ</li>\n<li>AUTHï¼šç½‘ç»œè®¤è¯ä»¤ç‰Œ</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3gç³»ç»Ÿæœ‰å“ªäº›å®‰å…¨åŠŸèƒ½æœ‰å“ªäº›ä¸»è¦å®‰å…¨ç¼ºé™·ä¸2gç›¸æ¯”3gä½œå‡ºäº†å“ªäº›å®‰å…¨æ€§æ”¹è¿›\"><a class=\"anchor\" href=\"#3gç³»ç»Ÿæœ‰å“ªäº›å®‰å…¨åŠŸèƒ½æœ‰å“ªäº›ä¸»è¦å®‰å…¨ç¼ºé™·ä¸2gç›¸æ¯”3gä½œå‡ºäº†å“ªäº›å®‰å…¨æ€§æ”¹è¿›\">#</a> 3G ç³»ç»Ÿæœ‰å“ªäº›å®‰å…¨åŠŸèƒ½ï¼Ÿæœ‰å“ªäº›ä¸»è¦å®‰å…¨ç¼ºé™·ï¼Ÿä¸ 2G ç›¸æ¯”ï¼Œ3G ä½œå‡ºäº†å“ªäº›å®‰å…¨æ€§æ”¹è¿›ï¼Ÿ</h3>\n<ul>\n<li><strong>å®‰å…¨åŠŸèƒ½</strong>ï¼š\n<ul>\n<li>å®ç°äº†ç”¨æˆ·å’Œç½‘ç»œ<strong>åŒå‘è®¤è¯</strong></li>\n<li>å¢åŠ äº†<strong>æ•°æ®å®Œæ•´æ€§éªŒè¯</strong>åŠŸèƒ½</li>\n<li>å»ºç«‹äº†äº†ç”¨æˆ·ä¸ç½‘ç»œä¹‹é—´çš„<strong>ä¼šè¯å¯†é’¥</strong></li>\n<li>ä¿æŒäº†ä¼šè¯å¯†é’¥çš„<strong>æ–°é²œæ€§</strong></li>\n</ul>\n</li>\n<li><strong>å®‰å…¨ç¼ºé™·</strong>ï¼š\n<ul>\n<li><strong>é¦–æ¬¡å¼€æœºæ—¶æ³„æ¼ IMSI ä¿¡æ¯</strong>ï¼Œå¯èƒ½å¯¼è‡´ç”¨æˆ·èº«ä»½æ³„æ¼ã€‚</li>\n<li><strong>éª¨å¹²ç½‘ä¸Šä¼ è¾“æ— åŠ å¯†</strong>ï¼šä¸­é—´èŠ‚ç‚¹å¯æˆªè·ä¼šè¯å¯†é’¥ã€‚</li>\n<li><strong>K ç›´æ¥å‚ä¸è®¤è¯ä¸åŠ å¯†</strong>ï¼šä¸»å¯†é’¥ç¼ºä¹å±‚æ¬¡åŒ–ä¿æŠ¤ã€‚</li>\n<li><strong>CK å’Œ IK ç›´æ¥ä¼ è¾“</strong>ï¼Œå­˜åœ¨çªƒå¬é£é™©ã€‚</li>\n<li><strong>ä¸»å¯†é’¥ K å­˜åœ¨ SIM å¡ä¸­</strong>ï¼Œæœ‰å¤åˆ¶ SIM å¡çš„é£é™©ã€‚</li>\n<li><strong>é‡‡ç”¨ 10 ç§å®‰å…¨ç®—æ³•</strong>ï¼Œç®—æ³•è¿‡å¤šå­˜åœ¨è¢«æ”»ç ´é£é™©ã€‚</li>\n</ul>\n</li>\n<li><strong>æ”¹è¿›ç‚¹</strong>ï¼š\n<ul>\n<li>åŒå‘è®¤è¯</li>\n<li>æ•°æ®å®Œæ•´æ€§</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"4gç³»ç»Ÿæœ‰å“ªäº›å®‰å…¨åŠŸèƒ½æœ‰å“ªäº›ä¸»è¦å®‰å…¨ç¼ºé™·ä¸3gç›¸æ¯”4gä½œå‡ºäº†å“ªäº›å®‰å…¨æ€§æ”¹è¿›\"><a class=\"anchor\" href=\"#4gç³»ç»Ÿæœ‰å“ªäº›å®‰å…¨åŠŸèƒ½æœ‰å“ªäº›ä¸»è¦å®‰å…¨ç¼ºé™·ä¸3gç›¸æ¯”4gä½œå‡ºäº†å“ªäº›å®‰å…¨æ€§æ”¹è¿›\">#</a> 4G ç³»ç»Ÿæœ‰å“ªäº›å®‰å…¨åŠŸèƒ½ï¼Ÿæœ‰å“ªäº›ä¸»è¦å®‰å…¨ç¼ºé™·ï¼Ÿä¸ 3G ç›¸æ¯”ï¼Œ4G ä½œå‡ºäº†å“ªäº›å®‰å…¨æ€§æ”¹è¿›ï¼Ÿ</h3>\n<ul>\n<li><strong>å®‰å…¨åŠŸèƒ½</strong>ï¼š\n<ul>\n<li>å®ç°äº†ç”¨æˆ·ä¸ç½‘ç»œ<strong>åŒå‘è®¤è¯</strong></li>\n<li>å»ºç«‹äº†ç”¨æˆ·ä¸ç½‘ç»œçš„<strong>ä¼šè¯å¯†é’¥</strong></li>\n<li>å¢åŠ äº†æ•°æ®çš„<strong>å®Œæ•´æ€§æ ¡éªŒ</strong></li>\n<li>å®ç°äº†<strong>å±‚æ¬¡åŒ–å¯†é’¥ç®¡ç†</strong></li>\n<li><strong>éšè—</strong>äº†åŠ å¯†å¯†é’¥ CK å’Œæ•°æ®å®Œæ•´æ€§éªŒè¯å¯†é’¥ IK</li>\n</ul>\n</li>\n<li>å®‰å…¨ç¼ºé™·\n<ul>\n<li><strong>é¦–æ¬¡å¼€æœºæ³„æ¼ IMSI</strong></li>\n<li><strong>éª¨å¹²ç½‘æ— åŠ å¯†</strong></li>\n</ul>\n</li>\n<li>æ”¹è¿›ç‚¹ï¼š\n<ul>\n<li>å±‚æ¬¡åŒ–å¯†é’¥ç®¡ç†</li>\n<li>éšè— CK å’Œ IK</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¸ºä½•2g3g4gç³»ç»Ÿçš„æŒ‘æˆ˜å€¼randæ˜¯ä¸€ä¸ªéšæœºæ•°è€Œä¸èƒ½æ˜¯å¸¸æ•°å¦‚æœæŒ‘æˆ˜å€¼randä¸ºå¸¸æ•°ä¼šäº§ç”Ÿä½•ç§å®‰å…¨é—®é¢˜è¯·åŠ ä»¥åˆ†æ\"><a class=\"anchor\" href=\"#ä¸ºä½•2g3g4gç³»ç»Ÿçš„æŒ‘æˆ˜å€¼randæ˜¯ä¸€ä¸ªéšæœºæ•°è€Œä¸èƒ½æ˜¯å¸¸æ•°å¦‚æœæŒ‘æˆ˜å€¼randä¸ºå¸¸æ•°ä¼šäº§ç”Ÿä½•ç§å®‰å…¨é—®é¢˜è¯·åŠ ä»¥åˆ†æ\">#</a> ä¸ºä½• 2G/3G/4G ç³»ç»Ÿçš„æŒ‘æˆ˜å€¼ RAND æ˜¯ä¸€ä¸ªéšæœºæ•°è€Œä¸èƒ½æ˜¯å¸¸æ•°ï¼Ÿå¦‚æœæŒ‘æˆ˜å€¼ RAND ä¸ºå¸¸æ•°ï¼Œä¼šäº§ç”Ÿä½•ç§å®‰å…¨é—®é¢˜ï¼Ÿè¯·åŠ ä»¥åˆ†æã€‚</h3>\n<p><strong>å¯ä»¥é˜²æ­¢å¼ºåŠ›æ”»å‡»</strong>ï¼šä»¥ 2G ä¸ºä¾‹ï¼Œä¸€ä¸ª 128 æ¯”ç‰¹çš„éšæœºæ•°æ„å‘³ç€ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3.4</mn><mo>Ã—</mo><mn>1</mn><msup><mn>0</mn><mn>38</mn></msup></mrow><annotation encoding=\"application/x-tex\">3.4Ã—10^{38}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72777em;vertical-align:-0.08333em;\"></span><span class=\"mord\">3</span><span class=\"mord\">.</span><span class=\"mord\">4</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">Ã—</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141079999999999em;vertical-align:0em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mtight\">8</span></span></span></span></span></span></span></span></span></span></span></span> ç§å¯èƒ½çš„ç»„åˆã€‚å› æ­¤å³ä½¿é»‘å®¢çŸ¥é“ A3 ç®—æ³•ï¼Œä¹Ÿå¾ˆéš¾çŒœå‡ºæ­£ç¡®çš„ RAND/SRESã€‚</p>\n<p>è‹¥æ›¿æ¢ä¸ºå¸¸æ•°å€¼ï¼Œå³æ¯ä¸€æ¬¡ SRES ç›¸åŒï¼Œä¸€æ—¦è¢«æˆªè·ï¼Œç”¨æˆ·å°±æœ‰å¯èƒ½è¢«æ”»å‡»è€…å†’å……ã€‚</p>\n<h3 id=\"ä¸2g3g4gç›¸æ¯”5gåœ¨å“ªäº›æ–¹é¢æå‡äº†å®‰å…¨æ€§\"><a class=\"anchor\" href=\"#ä¸2g3g4gç›¸æ¯”5gåœ¨å“ªäº›æ–¹é¢æå‡äº†å®‰å…¨æ€§\">#</a> ä¸ 2G/3G/4G ç›¸æ¯”ï¼Œ5G åœ¨å“ªäº›æ–¹é¢æå‡äº†å®‰å…¨æ€§ï¼Ÿ</h3>\n<p>æ–°å¢äº†<strong>èº«ä»½æ ‡è¯†éšç§ä¿æŠ¤</strong></p>\n",
            "tags": [
                "æ‚é¡¹",
                "æ ¡å†…è¯¾ç¨‹",
                "ç½‘ç»œå®‰å…¨",
                "å¤ä¹ è¦ç‚¹"
            ]
        },
        {
            "id": "https://gality.cn/misc/PNT/IRIG-B/",
            "url": "https://gality.cn/misc/PNT/IRIG-B/",
            "title": "IRIG-Bç¼–ç ",
            "date_published": "2023-10-27T09:00:02.000Z",
            "content_html": "<h1 id=\"irig-ç®€ä»‹\"><a class=\"anchor\" href=\"#irig-ç®€ä»‹\">#</a> IRIG ç®€ä»‹</h1>\n<p>IRIG æ—¶é—´ç åŸæœ¬æ˜¯ç”±ç¾å›½å†›æ–¹ä¸ºäº†é¶åœºé—´çš„æ—¶é—´åŒæ­¥äº 1960 å¹´æå‡ºçš„ï¼Œæœ€æ–°ç‰ˆæœ¬äº 2004 å¹´ 9 æœˆæ›´æ–°ï¼Œåä¸ºï¼šâ€œIRIG Serial Time Code Formatsâ€ã€‚</p>\n<p>IRIG æ—¶é—´ç æœ‰ä¸¤å¤§ç±»ï¼šä¸€ç±»æ˜¯å¹¶è¡Œæ—¶é—´ç æ ¼å¼ï¼Œè¿™ç±»ç ç”±äºæ˜¯å¹¶è¡Œæ ¼å¼ï¼Œä¼ è¾“è·ç¦»è¾ƒè¿‘ï¼Œä¸”æ˜¯äºŒè¿›åˆ¶ï¼Œå› æ­¤è¿œä¸å¦‚ä¸²è¡Œæ ¼å¼å¹¿æ³›ï¼›å¦ä¸€ç±»æ˜¯ä¸²è¡Œæ—¶é—´ç ï¼Œå…±æœ‰å…­ç§æ ¼å¼ï¼Œå³ Aã€Bã€Dã€Eã€Gã€Hã€‚å®ƒä»¬çš„ä¸»è¦å·®åˆ«æ˜¯æ—¶é—´ç çš„å¸§é€Ÿç‡ä¸åŒã€‚</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Format</th>\n<th style=\"text-align:left\">Pulse Rateï¼ˆor Bit Rateï¼‰</th>\n<th style=\"text-align:left\">Index Count Interval</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">IRIG-A</td>\n<td style=\"text-align:left\">1000 PPS (pulse per second)</td>\n<td style=\"text-align:left\">1 ms</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">IRIG-B</td>\n<td style=\"text-align:left\">100 PPS</td>\n<td style=\"text-align:left\">10 ms</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">IRIG-D</td>\n<td style=\"text-align:left\">1 PPM</td>\n<td style=\"text-align:left\">1 minute</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">IRIG-E</td>\n<td style=\"text-align:left\">10 PPS</td>\n<td style=\"text-align:left\">100 ms</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">IRIG-G</td>\n<td style=\"text-align:left\">10000 PPS</td>\n<td style=\"text-align:left\">0.1 ms</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">IRIG-H</td>\n<td style=\"text-align:left\">1 PPS</td>\n<td style=\"text-align:left\">1 second</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"irig-b\"><a class=\"anchor\" href=\"#irig-b\">#</a> IRIG-B</h2>\n<p>IRIG-B ä¸º IRIG ä¸­çš„ B å‹ç ï¼Œæ˜¯æ¯ç§’ä¸€å¸§çš„æ—¶é—´ç ï¼Œæœ€é€‚åˆä½¿ç”¨çš„ä¹ æƒ¯ï¼Œè€Œä¸”ä¼ è¾“ä¹Ÿè¾ƒå®¹æ˜“ï¼Œæ‰€ä»¥åº”ç”¨æœ€ä¸ºå¹¿æ³›ï¼›æ¯å¸§å¯ä¼ é€’ 100 ä½çš„ä¿¡æ¯ã€‚</p>\n<p>ä¸ºäº†ä¾¿äºä¼ é€’ï¼Œå¯ç”¨æ ‡å‡†æ­£å¼¦æ³¢è½½é¢‘è¿›è¡Œå¹…åº¦è°ƒåˆ¶ã€‚æ ‡å‡†æ­£å¼¦æ³¢è½½é¢‘çš„é¢‘ç‡ä¸ç å…ƒé€Ÿç‡ä¸¥æ ¼ç›¸å…³ã€‚B ç çš„æ ‡å‡†æ­£å¼¦æ³¢è½½é¢‘é¢‘ç‡ä¸º 1KHzã€‚åŒæ—¶ï¼Œå…¶æ­£äº¤è¿‡é›¶ç‚¹ä¸æ‰€è°ƒåˆ¶æ ¼å¼ç å…ƒçš„å‰æ²¿ç›¸ç¬¦åˆï¼Œæ ‡å‡†çš„è°ƒåˆ¶æ¯”ä¸º 10 æ¯” 3ã€‚è°ƒåˆ¶åçš„ B ç é€šå¸¸ç§° IRIG-Bï¼ˆACï¼‰ç ï¼Œæœªç»å¹…åº¦è°ƒåˆ¶çš„é€šå¸¸ç§° IRIG-Bï¼ˆDCï¼‰ç ã€‚</p>\n<p>IRIG-B (DC) ç çš„æ¥å£é€šå¸¸é‡‡ç”¨ TTL æ¥å£å’Œ RS422ï¼ˆV.11ï¼‰æ¥å£ã€‚IRIG-B (AC) ç çš„æ¥å£é‡‡ç”¨å¹³è¡¡æ¥å£ã€‚IRIG-B (DC) ç çš„åŒæ­¥ç²¾åº¦å¯è¾¾å‡ åçº³ç§’é‡çº§ï¼ŒIRIG-B (AC) ç çš„åŒæ­¥ç²¾åº¦ä¸€èˆ¬ä¸º 10ï½20us (å¾®ç§’)ã€‚</p>\n<h1 id=\"irig-b-æ ¼å¼\"><a class=\"anchor\" href=\"#irig-b-æ ¼å¼\">#</a> IRIG-B æ ¼å¼</h1>\n<p>æ¦‚å¿µå¼•å…¥ï¼š</p>\n<ul>\n<li><strong>å¸§</strong>ï¼šB ç æ¯ç§’<span class=\"red\"> 1 å¸§</span>ã€‚</li>\n<li><strong>è„‰å®½ç </strong>ï¼šç”¨è„‰å†²çš„å®½åº¦ï¼ˆè„‰å®½ï¼Œå³æŒç»­æ—¶é—´ï¼‰æ¥è¡¨ç¤ºæ•°å­—ä¿¡æ¯ã€‚ä¸åŒçš„æ•°å­—æˆ–å­—ç¬¦ç”±ä¸åŒå®½åº¦çš„è„‰å†²è¡¨ç¤ºã€‚</li>\n<li><strong>ç å…ƒ</strong>ï¼šæ—¶é—´æ ¼å¼é‡Œçš„æ¯ä¸ªè„‰å†²ç§°ä¸ºç å…ƒã€‚ç å…ƒçš„ â€œå‡†æ—¶â€ï¼ˆOnTimeï¼‰å‚è€ƒç‚¹æ˜¯å…¶è„‰å†²å‰æ²¿ã€‚æ¯ä¸ªç å…ƒçš„å®½åº¦ä¸º<span class=\"red\"> 10 ms</span>ã€‚</li>\n<li><strong>ç å…ƒé€Ÿç‡</strong>ï¼šç å…ƒçš„ä¼ è¾“é€Ÿç‡ç§°ä¸ºç å…ƒé€Ÿç‡ã€‚B ç çš„ç å…ƒé€Ÿç‡ä¸º<span class=\"red\"> 100 pps</span>ï¼Œä»£è¡¨æ¯ç§’æœ‰ 100 ä¸ªè„‰å†²æˆ–ç å…ƒä¼ è¾“ã€‚</li>\n<li><strong>ç´¢å¼•è®¡æ•°</strong>ï¼šæ¯ä¸ªç å…ƒå¯¹åº”ä¸€ä¸ªç´¢å¼•è®¡æ•°ã€‚ä¸¤ä¸ªç›¸é‚»ç å…ƒå‰æ²¿ä¹‹é—´çš„æ—¶é—´é—´éš”ä¸ºç´¢å¼•è®¡æ•°é—´éš”ï¼ŒB ç çš„ç´¢å¼•è®¡æ•°é—´éš”ï¼ˆå…¶å®ä¹Ÿå°±æ˜¯ç å…ƒå®½åº¦ï¼‰ä¸º<span class=\"red\"> 10 ms</span>ã€‚ç´¢å¼•è®¡æ•°åœ¨å¸§å‚è€ƒç‚¹å¤„ä»¥ â€œ0â€ å¼€å§‹ï¼Œä»¥åæ¯éš”ä¸€ä¸ªç´¢å¼•è®¡æ•°é—´éš”å¢åŠ  1ï¼Œç›´è‡³è¿™å¸§ç»“æŸã€‚B ç æ¯å¸§æœ‰ 100 ä¸ªç å…ƒï¼Œæ‰€ä»¥ç´¢å¼•è®¡æ•°æ•°å­—æ˜¯ 0ï½99ã€‚</li>\n<li><strong>ä½ç½®è¯†åˆ«æ ‡å¿—ï¼ˆP ç ï¼‰</strong>ï¼šä½ç½®è¯†åˆ«æ ‡å¿—çš„å®½åº¦æ˜¯å¯¹åº”æ—¶ç çš„ç´¢å¼•è®¡æ•°é—´éš”çš„ 0.8ï¼Œæ‰€ä»¥ï¼ŒB ç ä¸º<span class=\"red\"> 8 ms</span>ã€‚ä½ç½®è¯†åˆ«æ ‡å¿— P0 çš„å‰æ²¿åœ¨å¸§å‚è€ƒç‚¹ï¼ˆPRï¼‰å‰ä¸€ä¸ªç´¢å¼•è®¡æ•°é—´éš”å¤„ï¼Œä»¥åæ¯åä¸ªç å…ƒæœ‰ä¸€ä¸ªä½ç½®è¯†åˆ«æ ‡å¿—ï¼Œåˆ†åˆ«ä¸º P1ã€P2â€¦â€¦ï¼ŒP9 ä½ç½®è¯†åˆ«æ ‡å¿—çš„é‡å¤é€Ÿç‡ä¸ºç å…ƒé€Ÿç‡çš„ååˆ†ä¹‹ä¸€å³ä½ç½®æ ‡è¯†çš„ç å…ƒé€Ÿç‡ä¸º 10 ppsã€‚</li>\n<li><strong>ç å­—</strong>ï¼šæ‰€æœ‰çš„æ—¶é—´æ ¼å¼éƒ½æ˜¯è„‰å®½ç ã€‚äºŒè¿›åˆ¶ <code>1</code>  å’Œ <code>0</code>  çš„è„‰å®½åˆ†åˆ«ä¸ºç å®½åº¦çš„ 0.5 å’Œ 0.2ã€‚æ‰€ä»¥ï¼ŒB ç çš„äºŒè¿›åˆ¶ <code>1</code>  å’Œ <code>0</code>  çš„è„‰å®½åˆ†åˆ«ä¸º<span class=\"red\"> 5 ms</span> å’Œ<span class=\"red\"> 2 ms</span>ï¼ˆç±»ä¼¼è«æ–¯ç”µç çš„æ€æƒ³ï¼Œåªä¸è¿‡åªæœ‰ä¸¤ç§ç±»å‹ï¼‰ã€‚</li>\n</ul>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/7gk5g9.png\" alt=\"è„‰å®½\" /></p>\n<h1 id=\"æ—¶é—´ç¼–ç \"><a class=\"anchor\" href=\"#æ—¶é—´ç¼–ç \">#</a> æ—¶é—´ç¼–ç </h1>\n<p>B ç ä»¥ä¸¤ä¸ªè¿ç»­çš„ P ç ä½œä¸ºå¸§çš„åˆ†å‰²æ ‡è¯†ï¼Œç¬¬ä¸€ä¸ª P ç æ˜¯ P0ï¼Œç¬¬äºŒä¸ª P ç æ˜¯ PRï¼Œæ³¨æ„ï¼Œä»ç¬¬äºŒä¸ª P ç ï¼ˆPRï¼‰ä½œä¸ºå¸§èµ·å§‹æ ‡å¿—ï¼Œå³ç¬¬ 0 ä¸ªç å…ƒä¸º PRã€‚</p>\n<p>åœ¨ B ç æ—¶é—´æ ¼å¼ä¸­å«æœ‰å¤©ã€æ—¶ã€åˆ†ã€ç§’ï¼Œæ—¶åºä¸ºç§’ - åˆ† - æ—¶ - å¤©ï¼Œæ‰€å ä¿¡æ¯ä½ä¸ºï¼š</p>\n<ul>\n<li>ç§’ï¼š7 ä½ã€‚ç¬¬ 1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ6ï¼Œ7ï¼Œ8 ç å…ƒã€‚</li>\n<li>åˆ†ï¼š7 ä½ã€‚ç¬¬ 10ï¼Œ11ï¼Œ12ï¼Œ13ï¼Œ15ï¼Œ16ï¼Œ17 ç å…ƒã€‚</li>\n<li>æ—¶ï¼š6 ä½ã€‚ç¬¬ 20ï¼Œ21ï¼Œ22ï¼Œ23ï¼Œ25ï¼Œ26 ç å…ƒã€‚</li>\n<li>å¤©ï¼š10 ä½ã€‚ç¬¬ 30ï¼Œ31ï¼Œ32ï¼Œ33ï¼Œ35ï¼Œ36ï¼Œ37ï¼Œ38ï¼Œ40ï¼Œ41 ç å…ƒã€‚</li>\n</ul>\n<p>ä½ç½®åœ¨ P0ï½P5 ä¹‹é—´ï¼ŒP6ï½P0 åŒ…å«å…¶ä»–æ§åˆ¶ä¿¡æ¯ã€‚ç¬¬ 5ï¼Œ14ï¼Œ24 ä¸ºç´¢å¼•æ ‡å¿—ï¼Œå®½åº¦ä¸º 2msã€‚æ—¶ã€åˆ†ã€ç§’å‡é‡‡ç”¨ BCD ç è¡¨ç¤ºï¼Œä½ä½åœ¨å‰ï¼Œé«˜ä½åœ¨åï¼›ä¸ªä½åœ¨å‰ï¼Œåä½åœ¨åï¼›ä¸ªä½å’Œåä½é—´æœ‰ä¸€ä¸ªè„‰å†²å®½åº¦ä¸º 2ms çš„ç´¢å¼•æ ‡å¿—ç å…ƒã€‚</p>\n<blockquote>\n<p>BCD ç å°†æ¯ä¸ªåè¿›åˆ¶æ•°å­—ï¼ˆ0 åˆ° 9ï¼‰è¡¨ç¤ºä¸º 4 ä½äºŒè¿›åˆ¶æ•°ï¼Œæ¯ä¸ªåè¿›åˆ¶æ•°çš„ 4 ä½äºŒè¿›åˆ¶ç¼–ç ä¹‹é—´é€šå¸¸ä½¿ç”¨ç‰¹å®šçš„åˆ†éš”ç¬¦æˆ–æ ‡å¿—ç å…ƒåˆ†éš”ã€‚</p>\n<p>ä¾‹å¦‚ï¼Œå¦‚æœè¦è¡¨ç¤ºåè¿›åˆ¶æ•° 25ï¼ŒBCD ç ä¼šå°†å…¶è¡¨ç¤ºä¸ºä¸¤ä¸ª 4 ä½äºŒè¿›åˆ¶æ•°ï¼Œåˆ†åˆ«æ˜¯ 0010ï¼ˆåè¿›åˆ¶çš„ 2ï¼‰å’Œ 0101ï¼ˆåè¿›åˆ¶çš„ 5ï¼‰ã€‚</p>\n</blockquote>\n<p>ä» P8 å¼€å§‹æ˜¯ SBS æ—¶é—´ç ï¼Œå…± 17 ä½äºŒè¿›åˆ¶ä¿¡å·ï¼Œæ¯å¤©é‡å¤ã€‚</p>\n<blockquote>\n<p>&quot;SBS ç &quot; æŒ‡çš„æ˜¯ &quot;Second, Bits, and Status&quot;ï¼ˆç§’ã€ä½å’ŒçŠ¶æ€ï¼‰ç¼–ç ã€‚SBS ç æ˜¯ IRIG-B ç¼–ç çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºä¼ è¾“ä¸æ—¶é—´åŒæ­¥å’Œæ—¶é—´æ ‡è®°ç›¸å…³çš„ä¿¡æ¯ã€‚</p>\n</blockquote>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/91kavc.png\" alt=\"IRIG-Bç»“æ„\" /></p>\n<p>ã€Œå›¾ä¸­çš„ <code>1,2,4,8 </code> æˆ– <code>10,20,40</code>  æŒ‡çš„æ˜¯å¦‚æœè¯¥ä½ç½® <code>1</code> ï¼Œæ—¶é—´çš„å¤§å°ã€</p>\n<p>ç»™å‡ºä¸€å¼ æ›´è¯¦ç»†çš„å‚è€ƒå›¾ï¼š<br />\n<img data-src=\"http://imgcdn.gality.cn/blog/5y0rng.jpg\" alt=\"IRIG-Bè¯¦ç»†ç»“æ„\" /></p>\n<h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY3liZXItc2NpZW5jZXMuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE5LzAxL1ROLTEwMl9JUklHLUIucGRm\">https://www.cyber-sciences.com/wp-content/uploads/2019/01/TN-102_IRIG-B.pdf</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R5eDE5OTMvYXJ0aWNsZS9kZXRhaWxzLzExNDY1NTkyMg==\">https://blog.csdn.net/dyx1993/article/details/114655922</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9JUklHLUIvMTU5ODYwOA==\">https://baike.baidu.com/item/IRIG-B/1598608</span></li>\n</ul>\n",
            "tags": [
                "æ‚é¡¹",
                "PNT",
                "æˆæ—¶",
                "å­¦ä¹ ç¬”è®°",
                "é€šä¿¡",
                "åè®®"
            ]
        },
        {
            "id": "https://gality.cn/ponder/Gresham-law/",
            "url": "https://gality.cn/ponder/Gresham-law/",
            "title": "åŠ£å¸é©±é€è‰¯å¸ ï½œ ä¸€æ¬¡ç½‘è´­ç»å†çš„åæ€",
            "date_published": "2023-10-26T11:12:26.000Z",
            "content_html": "<blockquote>\n<p>ğŸ“– <strong>Greshamâ€™s law</strong>, observation in economics that â€œbad money drives out good.â€ More exactly, if coins containing metal of different value have the same value as legal tender, the coins composed of the cheaper metal will be used for payment, while those made of more expensive metal will be hoarded or exported and thus tend to disappear from circulation</p>\n</blockquote>\n<p><strong>åŠ£å¸é©±é€è‰¯å¸</strong>ï¼ˆ<strong>Bad money drives out good</strong>ï¼‰ï¼Œåœ¨ç»æµå­¦ä¸Šä¹Ÿè¢«ç§°ä¸º<strong>è‘›å…°è¾›æ³•åˆ™</strong>ã€<strong>æ ¼å‹’å–„å®šå¾‹</strong>ï¼ˆ<strong>Gresham's Law</strong>ï¼‰ï¼Œæ˜¯ä¸€ç§è´§å¸è§„å¾‹ï¼ŒæŒ‡çš„æ˜¯ï¼šå¦‚æœæœ‰ä¸¤ç§å½¢å¼çš„å•†å“è´§å¸æµé€šï¼Œæ¶ˆè´¹è€…ä¼šä¿ç•™å‚¨å­˜æˆè‰²é«˜ï¼ˆè´µé‡‘å±å«é‡é«˜ï¼‰çš„è´§å¸ï¼Œåœ¨å¸‚é¢ä½¿ç”¨æˆè‰²ä½çš„è´§å¸è¿›è¡Œå¸‚åœºäº¤æ˜“ï¼Œè€Œä½¿å¾—åœ¨æ°‘é—´æµé€šçš„å¤§å¤šä¸ºåŠ£å¸ï¼Œè‰¯å¸åˆ™è¾ƒå°‘è§äºä¸–ã€‚</p>\n<h1 id=\"èµ·æº\"><a class=\"anchor\" href=\"#èµ·æº\">#</a> èµ·æº</h1>\n<p>å¤ç½—é©¬æ—¶ä»£ï¼Œè´§å¸ä»·å€¼è¿˜æ˜¯ç”±è´µé‡‘å±æœ¬èº«æ¥é”šå®šçš„ï¼ˆè´§å¸æœ¬èº«å°±æ˜¯è´µé‡‘å±è€Œéæ— ä»·å€¼çš„çº¸é’ï¼‰ï¼Œè¿™æ—¶çš„äººä»¬ä¼šç§è‡ªä»é‡‘é“¶é’±å¸ä¸Šå‰Šä¸‹ä¸€å°è§’ï¼Œå†å°†æ­¤ç§è´§å¸å……å½“ä¹°å–åª’ä»‹ï¼›å› è´§å¸æœ¬èº«çš„è´µé‡‘å±å«é‡å‡å°‘ï¼Œè´§å¸çš„ä»·å€¼ä¹Ÿå‡å°ã€‚ä¹…è€Œä¹…ä¹‹ï¼Œäººä»¬å¾ˆå¿«å°±è§‰å¯Ÿåˆ°å¸‚é¢ä¸Šçš„è´µé‡‘å±è´§å¸è¶Šæ¥è¶Šè½»ï¼Œå°±æŠŠæœªé­æ¯æŸçš„è¶³å€¼é‡‘é“¶è´§å¸ç§¯å­˜èµ·æ¥ï¼Œåªç”¨é‚£äº›ä¸è¶³å€¼çš„è´§å¸è¿›è¡Œä¹°å–ï¼Œè€ŒåŠ£å¸åˆ™æ¸æ¸æŠŠè‰¯å¸ä»æµé€šé¢†åŸŸä¸­æ’æŒ¤å‡ºå» [1]ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/izk3hd.png\" alt=\"è¥¿é‡Œå…‹é“¶å¸\" /></p>\n<h1 id=\"å¨±ä¹è‡³æ­»\"><a class=\"anchor\" href=\"#å¨±ä¹è‡³æ­»\">#</a> å¨±ä¹è‡³æ­»</h1>\n<div class=\"note primary no-icon\">\n<p>â—ï¸åŠ£å¸é©±é€è‰¯å¸çš„è¯´æ³•é€æ¸è¢«å¹¿æ³›åº”ç”¨äºéç»æµå­¦çš„å±‚é¢ï¼Œäººä»¬ç”¨è¿™ä¸€æ³•åˆ™æ¥æ³›æŒ‡<strong>ä»·å€¼ä¸é«˜çš„ä¸œè¥¿ä¼šæŠŠä»·å€¼è¾ƒé«˜çš„ä¸œè¥¿æŒ¤å‡ºæµé€šé¢†åŸŸ</strong>ï¼Œä¸»è¦æŒ‡å‡å†’åŠ£è´¨äº§å“åœ¨å¤šç§æ¸ é“å‘æ­£ç‰Œå•†å“æŒ‘æˆ˜ï¼Œå¹¶å…·æœ‰è†¨èƒ€å’Œè”“å»¶çš„è¶‹åŠ¿ã€‚è™½ç„¶è¿™æ ·çš„å®šä¹‰å®¹æ˜“åœ¨å­¦æœ¯è®¨è®ºä¸­å¼•èµ·äº‰è®®ï¼Œä¸è¿‡æˆ‘å¹¶ä¸å‡†å¤‡è¿›è¡Œä¸¥è‚ƒçš„å­¦æœ¯è®¨è®ºï¼Œsoï½</p>\n<p>å…³äºåŠ£å¸é©±é€è‰¯å¸çš„è®¨è®ºå·²ç»éå¸¸å¤šäº†ï¼Œè¿™ä¸ªè¯ä¹Ÿå·²ç»è¢«å¤§ä¼—ç†ŸçŸ¥ä¸”ç†Ÿç»ƒä½¿ç”¨äº†ï¼Œæ‰€ä»¥ä¸å†è¿‡å¤šèµ˜è¿°ã€‚å¼•èµ·æˆ‘æ€è€ƒçš„æ˜¯ â€œ<strong>äº’è”ç½‘æ—¶ä»£</strong>â€ çš„åŠ£å¸é©±é€è‰¯å¸ã€‚æ‰€ä»¥ï¼Œè¯·å®¹æˆ‘å…ˆä»‹ç»å¦å¤–ä¸€ä¸ªæ¦‚å¿µã€‚</p>\n</div>\n<p>ã€Š<strong>å¨±ä¹è‡³æ­»</strong>ã€‹ï¼ˆAmusing Ourselves to Deathï¼‰æ˜¯å°¼å°”ãƒ»æ³¢å…¹æ›¼ 1985 å¹´çš„è‘—ä½œã€‚ä»–æŒ‡å‡ºï¼Œç°å®ç¤¾ä¼šï¼ˆä¹¦ä¸­ä¸»è¦ä»¥ç¾å›½ç¤¾ä¼šä¸ºä¾‹ï¼‰çš„ä¸€åˆ‡å…¬ä¼—è¯è¯­æ—¥æ¸ä»¥å¨±ä¹çš„æ–¹å¼å‡ºç°ï¼Œå¹¶æˆä¸ºä¸€ç§æ–‡åŒ–ç²¾ç¥ã€‚æˆ‘ä»¬çš„æ”¿æ²»ã€å®—æ•™ã€æ–°é—»ã€ä½“è‚²ã€æ•™è‚²å’Œå•†ä¸šéƒ½å¿ƒç”˜æƒ…æ„¿çš„æˆä¸ºå¨±ä¹çš„é™„åº¸ï¼Œå…¶ç»“æœæ˜¯æˆ‘ä»¬æˆäº†ä¸€ä¸ªå¨±ä¹è‡³æ­»çš„ç‰©ç§ã€‚å®ƒè¢«è®¤ä¸ºæ˜¯æœ€é‡è¦çš„åª’ä»‹ç”Ÿæ€å­¦ä¸“è‘—ä¹‹ä¸€ã€‚</p>\n<p>ä½†è¿™é‡Œæˆ‘ä¸æƒ³è®¨è®ºæ”¿æ²»ã€å®—æ•™æˆ–æ–°é—»ç­‰ï¼Œæˆ‘åªæƒ³å€Ÿç”¨ä¹¦ä¸­çš„ä¸€ç‚¹æ ¸å¿ƒæ€æƒ³ â€œ<strong>åª’ä»‹å³éšå–»</strong>â€ï¼Œ</p>\n<h2 id=\"åª’ä»‹\"><a class=\"anchor\" href=\"#åª’ä»‹\">#</a> åª’ä»‹</h2>\n<p>â€œåª’ä»‹â€ éå¸¸å¥½ç†è§£ï¼Œå°±æ˜¯ â€œå†…å®¹â€ çš„è½½ä½“ï¼Œå°±åƒç“¶å­ä¹‹äºæ°´ä¸€æ ·ï¼Œâ€œç“¶å­â€ å°±æ˜¯åª’ä»‹ï¼Œè€Œ â€œæ°´â€ åˆ™æ˜¯å†…å®¹ã€‚å¦‚æœæˆ‘ä»¬æ›´åŠ å…·ä½“ä¸€ç‚¹ï¼Œèšç„¦åˆ°ä¿¡æ¯ä¼ æ’­è¿™ä¸ªæ–¹é¢ï¼Œé‚£ä¹ˆæŠ¥çº¸ã€ç”µè§†ã€æ‰‹æœºå°±æ˜¯ä¸åŒçš„åª’ä»‹ï¼Œè¿™æ˜¯ä¸€ç§æµ…æ˜¾çš„ç†è§£ï¼›æ›´æ·±ä¸€å±‚ï¼Œåšå®¢ã€çŸ­è§†é¢‘ä¹Ÿæ˜¯ä¸åŒçš„åª’ä»‹ï¼Œè€Œâ€ å†…å®¹ â€œå°±æ˜¯ä¿¡æ¯æœ¬èº«ã€‚</p>\n<p>ç›´è§‰ä¸€ç‚¹æ¥è¯´ï¼Œæˆ‘ä»¬ä¼šè®¤ä¸ºåª’ä»‹ä¸å½±å“å†…å®¹ï¼Œå°±åƒæ— è®ºæ°´ç”¨ä»€ä¹ˆæ ·çš„ç“¶å­è£…ç€ï¼Œæ°´è¿˜æ˜¯æ°´ï¼Œä¸ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ã€‚ä½†æ˜¯æˆ‘ä»¬å†è¿›ä¸€æ­¥ï¼Œå…¶å®ç“¶å­ä¹Ÿæ˜¯ä¼šå½±å“æ°´çš„ï¼Œå°±åƒæ˜¯æ‹¿é“æ¡¶è£…æ°´ï¼Œæ°´ä¸­å°±ä¼šæœ‰æ›´å¤šçš„é“å…ƒç´ ï¼Œè¿™ä¸ªè¿‡ç¨‹å¹¶ä¸æ˜æ˜¾ï¼Œä½†æ˜¯å´åœ¨æ½œç§»é»˜åŒ–çš„å½±å“æˆ‘ä»¬ï¼Œè€Œæ³¢å…¹æ›¼å¼ºè°ƒçš„å°±æ˜¯ï¼šåª’ä»‹ä¹Ÿä¼šå½±å“ä¿¡æ¯ï¼Œç”šè‡³ï¼Œåª’ä»‹ç›´æ¥å†³å®šäº†ä¿¡æ¯ã€‚</p>\n<h2 id=\"éšå–»\"><a class=\"anchor\" href=\"#éšå–»\">#</a> éšå–»</h2>\n<p>ä»æˆ‘ä»¬ç†Ÿæ‚‰çš„ â€œæ¯”å–»â€ å¼€å§‹ï¼Œæˆ‘ä»¬ä»å°å­¦å¼€å§‹å°±åœ¨æ¥æ”¶è¿™æ ·çš„è®­ç»ƒï¼šâ€ ä»¥ä¸‹çš„å¥å­ä¸­ä½¿ç”¨äº†é‚£äº›ä¿®è¾æ‰‹æ³•å¹¶ç®€è¦åˆ†æ â€œï¼Œè€Œâ€ æ¯”å–» â€œåº”è¯¥æ˜¯æˆ‘ä»¬æœ€æ—©å­¦ä¼šçš„ä¿®è¾æ‰‹æ³•äº†ã€‚è¿™å°±åƒæˆ‘ä»¬å­¦æ•°å­¦ä¼šä»åŠ æ³•å­¦èµ·ä¸€æ ·ï¼Œè¿™æ˜¯å› ä¸ºåŠ æ³•æ›´åŠ çš„é€šç”¨å’ŒåŸºç¡€ï¼›æœ€å…ˆå­¦â€ æ¯”å–» â€œçš„åŸå› ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­ä¹Ÿä¼šç»å¸¸ä½¿ç”¨ã€‚</p>\n<p>é‚£ä¹ˆ â€œéšå–»â€ æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿéšå–»å…¶å®å°±æ˜¯å»æ‰äº† â€œåƒâ€ çš„æ¯”å–»ï¼Œæ¯”å¦‚ â€œå¤©ç©ºçš„ä¹Œäº‘å°±åƒä¸€åªæ­»äº†ä¸‰ä¸ªæœˆçš„çŒ«â€ï¼Œè¿™å°±æ˜¯æ¯”å–»ã€‚ ä½†å¦‚æœç”¨ â€œéšå–»â€ çš„æ–¹å¼æ¥è¡¨è¾¾ï¼Œå°±ä¸ä¼šç”¨ â€œåƒã€ä¼¼ã€å¦‚åŒâ€ è¿™æ ·çš„å–»è¯æ¥æé†’ä½ è¿™æ˜¯ä¸€ç§æ¯”å–»ï¼Œæ¯”å¦‚ â€œå¤©ç©ºä¸­æœ‰ä¸€åªæ­»äº†ä¸‰ä¸ªæœˆçš„çŒ«â€ï¼Œè¿™å°±æ˜¯ â€œéšå–»â€ã€‚</p>\n<p>ä¹ä¸€çœ‹ â€œéšå–»â€ å’Œ â€œæ¯”å–»â€ ä¹Ÿæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¸è¿‡æ˜¯å»æ‰äº†å–»è¯ï¼Œæˆ‘ä»¬è¿˜æ˜¯èƒ½è¯†åˆ«å‡ºéšå–»ä¹Ÿæ˜¯åœ¨åšæ¯”å–»ã€‚ä½†æƒ³æƒ³ï¼Œå¦‚æœæˆ‘ä»¬å¹³æ—¶è¯´è¯çš„æ–¹å¼éƒ½æ˜¯éšå–»ï¼Œå¦‚æœæ¯ä¸ªäººéƒ½æ˜¯è¯´ â€œå¤©ç©ºä¸­æœ‰ä¸€æœµä¸€åªæ­»äº†ä¸‰ä¸ªæœˆçš„çŒ«â€ï¼Œå¦‚æœå­©å­ä»å‡ºç”Ÿå¼€å§‹æˆ‘ä»¬å°±å‘Šè¯‰ä»–ä¹Œäº‘æ˜¯æ­»äº†ä¸‰ä¸ªæœˆçš„çŒ«ï¼Œé‚£æ…¢æ…¢çš„ï¼Œæˆ‘ä»¬å°±ä¼šå¿˜è®°è¿™æ˜¯ä¸€ç§æ¯”å–»ï¼Œä¹ æƒ¯äºæŠŠ â€œä¹Œäº‘â€ çœŸçš„ç†è§£ä¸º â€œæ­»äº†ä¸‰ä¸ªæœˆçš„çŒ«â€ã€‚</p>\n<p>è¿›ä¸€æ­¥çš„ï¼Œå‡è®¾åœ¨ A å›½ï¼Œäººä»¬æŠŠä¹Œäº‘è¯´æˆ â€œæ­»äº†ä¸‰ä¸ªæœˆçš„çŒ«â€ï¼Œè€Œåœ¨ B å›½ï¼Œäººä»¬æŠŠä¹Œäº‘è¯´æˆ â€œä¸€åªç”Ÿç—…çš„çŒ«â€ï¼Œé‚£ä¹ˆ A å›½äººçš„ä¸–ç•Œè§‚å¯èƒ½å°±è¦æ¯” B å›½äººæ›´åŠ ç°å®å’Œæ‚²è§‚ã€‚ä½†äººä»¬å´å¾ˆéš¾æ„è¯†åˆ°è¿™ç§ä¸–ç•Œè§‚çš„å·®å¼‚æ¥è‡ªäºéšå–»æ–¹å¼çš„å·®å¼‚ [2]ï¼Œä½†æ˜¯å½±å“æ˜¯å®¢è§‚å­˜åœ¨çš„ï¼Œè¿™å°±æ˜¯éšå–»çš„åŠ›é‡ã€‚</p>\n<h2 id=\"åª’ä»‹å³éšå–»\"><a class=\"anchor\" href=\"#åª’ä»‹å³éšå–»\">#</a> åª’ä»‹å³éšå–»</h2>\n<p>â€œåª’ä»‹å³éšå–»â€ æœ¬èº«å°±æ˜¯ â€œéšå–»â€ï¼Œç›´ç™½çš„è¯´åº”è¯¥æ˜¯ â€œåª’ä»‹å…·æœ‰éšå–»çš„ç‰¹ç‚¹â€ã€‚<strong>åª’ä»‹çš„ç‰¹ç‚¹å°±æ˜¯å¸®åŠ©æˆ‘ä»¬æŠŠå®¢è§‚äº‹ç‰©çœ‹æˆè™šæ„çš„ç¬¦å·ï¼ˆæ–‡å­—ã€å›¾å½¢ï¼‰æ¥ç†è§£å®¢è§‚äº‹ç‰©ï¼Œä½†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œåª’ä»‹æœ¬èº«å´è¢«å¿½è§†äº†ã€‚</strong></p>\n<p>ä¸¾å‡ ä¸ªæ›´åŠ å…·ä½“çš„ä¾‹å­ï¼Œâ€œä¹¦â€ æˆ–è€…è¯´æ˜¯ â€œçº¸è´¨â€ ä½œä¸ºä¸€ç§ä¿¡æ¯ä¼ æ’­åª’ä»‹ï¼Œå…¶éšå–»çš„ç»“æœå°±æ˜¯ â€œç†æ€§ã€æŠ½è±¡ã€é€»è¾‘ã€ä¸¥è°¨ã€å…¨é¢...â€ã€‚åœ¨è¿‡å»ï¼Œæˆ‘ä»¬æŠŠå†™ä¹¦ç§°ä¸º â€œè‘—ä¹¦ç«‹è¯´â€ï¼Œåªæœ‰æŸé¢†åŸŸçš„ â€œå¤§å®¶â€ æ‰æœ‰èµ„æ ¼å»å†™ä¹¦ï¼Œå¦‚æœæŸäººæ²¡æœ‰èƒ½åŠ›ï¼Œå†™å‡ºæ¥çš„ä¹¦ä¹Ÿæ²¡æœ‰äººçœ‹ï¼Œè¿™ä¸€ç‚¹ç›¸ä¿¡å¤§å®¶éƒ½èƒ½æ„è¯†åˆ°ã€‚ä½†æ˜¯è¿˜æœ‰ä¸€ç‚¹çš„äº‹ï¼Œä¹¦ä½œä¸ºä¿¡æ¯çš„åª’ä»‹ï¼Œé™¤äº†å…¶æ‰¿è½½çš„å†…å®¹åœ¨å¡‘é€ è¯»è€…ï¼Œåª’ä»‹æœ¬èº«ä¹Ÿåœ¨å¡‘é€ è¯»è€…ï¼Œâ€œä¹¦â€ è¿™ç§åª’ä»‹é¼“åŠ±è¯»è€…è¿›è¡Œæ€è¾¨ã€é¼“åŠ±æ‰¹åˆ¤æ€§ï¼Œä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œåˆåæ¨å¾—å†™ä¹¦çš„äººæ›´åŠ ä¸¥è°¨ã€æ›´åŠ å…¨é¢ï¼Œè¿™ç§åŒå‘çš„è¿‡ç¨‹æ¨åŠ¨ç¤¾ä¼šæ€ç»´æ–¹å¼å‘ â€œç†æ€§â€ çš„æ–¹å‘å‘å±•ã€‚</p>\n<p>å¯¹æ¯”æ¥çœ‹ â€œçŸ­è§†é¢‘â€ è¿™ç§åª’ä»‹ï¼Œå…¶éšå–»çš„ç»“æœå°±æ˜¯ â€œéº»æœ¨ã€è½»ä¿¡ã€ç›²ç›®...â€ã€‚å°±æ‹¿æˆ‘è‡ªèº«çš„è§‚å¯Ÿæ¥çœ‹ï¼Œâ€œæç¬‘çš„ã€æ»¥ä¿—çš„ã€æ“¦è¾¹çš„â€ ä¸»æ’­æ¶¨ç²‰éå¸¸å¿«ï¼Œåªè¦ä½ çŸ­è§†é¢‘è¶³å¤Ÿæç¬‘ï¼Œå“ªæ€•åªæ˜¯ â€œå°´å°¬â€ äº§ç”Ÿçš„èŠ‚ç›®æ•ˆæœï¼Œä¹Ÿä¼šæœ‰éå¸¸å¤šäººä¹æ„å…³æ³¨ï¼Œå¯¹æ¯”æ¥è¯´ï¼Œå¦‚æœè§†é¢‘çš„å†…å®¹æ˜¯ä¸¥è‚ƒçš„å“²å­¦æ€è¾¨ï¼Œé‚£ä¹ˆç”šè‡³ä¸ä¼šè¢«å¹³å°çš„ â€œç®—æ³•â€ æ¨æµã€‚åŒæ—¶ï¼Œäººä¸€ç§å¾ˆå®¹æ˜“éº»æœ¨çš„ç”Ÿç‰©ï¼Œä¹‹å‰å–ä¸€æ¯å¥¶èŒ¶å°±å¯ä»¥æ»¡è¶³ï¼Œè¿‡ä¸€æ®µæ—¶é—´å°±éœ€è¦å–ä¸¤æ¯æ‰å¯ä»¥ã€‚ä¹…è€Œä¹…ä¹‹ï¼Œå‘è§†é¢‘çš„äººè¶Šæ¥è¶Š â€œå¨±ä¹â€ï¼Œçœ‹è§†é¢‘çš„äººä¹Ÿè¶Šæ¥è¶Š â€œå¨±ä¹â€ã€‚æ‰‹æœºè¿™ç§åª’ä»‹ï¼Œæœ¬èº«å°±æ·˜æ±°äº†è¿‡äºä¸¥è‚ƒã€è‰°æ¶©çš„æ€è¾¨ï¼Œé€‰æ‹©äº†å¤¸å¼ çš„éŸ³ä¹ã€é…è‰²ã€è¯è¯­ã€‚</p>\n<h1 id=\"äº’è”ç½‘æ—¶ä»£çš„åŠ£å¸\"><a class=\"anchor\" href=\"#äº’è”ç½‘æ—¶ä»£çš„åŠ£å¸\">#</a> äº’è”ç½‘æ—¶ä»£çš„åŠ£å¸</h1>\n<p>åŠ£å¸é©±é€è‰¯å¸çš„è¿‡ç¨‹å¾€å¾€ä¼´éšç€ â€œä¿¡æ¯å·®â€ï¼šå¦‚æœå‡ å¤©å†…æ‰€æœ‰äººéƒ½çŸ¥é“ â€œè‰¯å¸â€ éœ€è¦æ”¶è—äº†ï¼Œæ­¤æ—¶ â€œåŠ£å¸â€ è¿˜æœªæ¥å¾—åŠé“ºå¼€ï¼Œé‚£ä¹ˆæ”¶è—çš„ â€œè‰¯å¸â€ çš„ä»·å€¼å°±ä¼šä¸‹é™ã€‚è¿™é‡Œé¢è•´å«çš„ç‚¹åœ¨äºï¼Œåœ¨è¿‡å»ï¼Œæƒ³ä¸»åŠ¨é  â€œåŠ£å¸ä¸è‰¯å¸â€ çš„å·®å¼‚æ¥è·åˆ©æ˜¯éå¸¸å›°éš¾çš„ï¼šè¿‡é•¿çš„å…±è¯†ç»Ÿä¸€æ—¶é—´ã€è°¨æ…çš„äº¤æ˜“æ€åº¦ã€å…³æ³¨å®é™…çš„æ€æƒ³ã€åŒç±»æ›¿ä»£ç‰©çš„ç¼ºå°‘ç­‰ç­‰éƒ½æ˜¯é˜»ç¢ã€‚</p>\n<p>å¬èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œäº’è”ç½‘æ—¶ä»£å®Œå…¨è§£å†³äº†è¿™äº›é—®é¢˜ï¼šç‰©å“ç§ç±»çš„æå¤§ä¸°å¯Œã€æ¿€è¿›çš„äº¤æ˜“æ€åº¦ã€è™šæ‹Ÿäº¤æ˜“çš„æ¥æ”¶...ï¼Œæœ€é‡è¦çš„æ˜¯ â€œä¿¡æ¯çš„é«˜é€Ÿä¼ æ’­â€ï¼Œåœ¨åŠ ä¹‹è™šæ‹Ÿä¸»ä½“çš„å‡ºç°äºæœ‰é™è´£ä»»åˆ¶åº¦ï¼Œç”¨ â€œåŠ£å¸é©±é€è‰¯å¸â€ çš„åœŸå£¤ä¹Ÿå¤ªè‚¥æ²ƒäº†ï¼Œä»¥ä¸‹å•†å“è¿ä½œæ–¹å¼å®Œå…¨æ˜¯å¯è¡Œçš„ï¼š</p>\n<p>å°†èèµ„çš„é’±ä¸­çš„ 10% ç”¨äºè´­ä¹°å»‰ä»·ä½è´¨åŸææ–™ï¼Œ30% ç”¨äºç²¾è‡´çš„åŒ…è£…è®¾è®¡å’Œç”Ÿäº§ï¼Œä½™ä¸‹ 60% ç”¨äºå„å¤§å¹³å°çš„å®£å‘ï¼Œé›‡ä½£å¤§é‡çš„æ°´å†›å’Œå¤´éƒ¨åšä¸»ä½œå®£ä¼ ï¼Œç„¶åå°†å•†å“é«˜ä»·å–å‡ºã€‚æœ€ç»ˆåœ¨è·åˆ©å¼€å§‹å‡å°‘çš„æ—¶å€™ï¼Œæ³¨é”€è¯¥å“ç‰Œå’Œå…¬å¸ï¼Œç„¶åå†æ³¨å†Œä¸€å®¶ï¼Œå¼€å§‹æ–°çš„èµšé’±è½®å›ã€‚</p>\n<p>è¿™æ ·çš„äº‹ç›¸ä¿¡å¤§å®¶ä¸€å®šéƒ½èƒ½ä¸¾å‡ºä¸€ä¸¤ä¸ªä¾‹å­æ¥ï¼Œæˆ‘ä»¬è‡³å°‘æ˜¯æˆ‘ï¼Œä¸€ç›´æ˜¯æ‡‚è¿™ä¸ªé“ç†çš„ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ª â€œèèµ„â€ è§„æ¨¡çš„è®¤çŸ¥è¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œåœ¨ç°åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œå…¶å®å¹¶ä¸éœ€è¦å¾ˆå¤§çš„èèµ„è§„æ¨¡å°±å¯ä»¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼Œè¿™ä»£è¡¨â€ åŠ£å¸ â€œå‡ºç°çš„æˆæœ¬éå¸¸ä¸‹ï¼ŒåŒæ—¶ä¹Ÿå°±æ„å‘³ç€å°±åœ¨æˆ‘ä»¬èº«è¾¹ï¼Œéå¸¸å¸¸è§ã€‚è®©æˆ‘äº§ç”Ÿæ·±åˆ»è®¤çŸ¥çš„æ˜¯æˆ‘åœ¨è´­ä¹°æŸå•†å“æ—¶è§‚å¯Ÿåˆ°çš„çœŸå®ç°è±¡ï¼š</p>\n<p>æˆ‘åœ¨ â€œx çº¢ä¹¦â€ å¹³å°ä¸Šæœç´¢äº†æŸç±»å•†å“çš„æµ‹è¯„æ¨èï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªå“ç‰Œå‡ ä¹è¢«æ¨èï¼Œåˆ—ä¸ºæ€§ä»·æ¯”æœ€é«˜ã€æ•ˆæœæœ€å¥½çš„é‚£ä¸€æ‰¹ï¼Œä½†æ˜¯å¾ˆæœ‰æ„æ€çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨æ¨è A å•†å“çš„æ–‡ç« ä¸­ï¼Œå‹æ ¹æ‰¾ä¸åˆ° B å•†å“çš„å½±å­ï¼Œè€Œåœ¨æ¨è B å•†å“çš„æ–‡ç« ä¸­ä¹Ÿæ ¹æœ¬æ‰¾ä¸åˆ° A å•†å“ã€‚è¿™ä»¶äº‹æ˜¯éå¸¸å¥‡æ€ªçš„ï¼ŒæŒ‰ç†æ¥è¯´ï¼Œå¦‚æœæŸä¸ªå•†å“éå¸¸æ¨èï¼Œé‚£ä¹ˆå³ä½¿åœ¨å¦å¤–çš„æ–‡ç« ä¸­ä¹Ÿè‡³å°‘åº”è¯¥è¢«æåˆ°ï¼Œä½†ç°å®æ˜¯å®Œå…¨æ²¡æœ‰ï¼</p>\n<p>äºæ˜¯æˆ‘å¼€å§‹åœ¨å»éœ€è¦è¿™ä¸¤ä¸ªç‰Œå­çš„æ——èˆ°åº—ï¼Œå¹¶å»æœç´¢å…¶è¥ä¸šæ‰§ç…§åŠç›¸å…³èµ„è´¨ï¼Œæœ€ç»ˆå‘ç°è¿™ä¸¤å®¶éƒ½æ˜¯éå¸¸æ–°çš„å“ç‰Œï¼Œå…¶æºå¤´å‚å•†åœ¨è¿™ç±»å•†å“çš„ç”Ÿäº§å•†ä¸­ä¹Ÿå¹¶ä¸å‡ºä¼—ï¼Œç†è®ºæ¥è¯´æ²¡æœ‰è¶³å¤Ÿçš„èµ„è´¨æ¥ç”Ÿäº§é¡¶çº§çš„äº§å“ï¼Œé¡ºä¾¿æä¸€ä¸‹ï¼ŒæŒ‰å®é™…æˆåˆ†æ¥ç®—ï¼ŒAã€B å•†å“çš„å•ä½æœ‰æ•ˆæˆåˆ†ä»·æ ¼æ¯”å¤´éƒ¨å‚å•†æ›´è´µï¼Œé‚£ä¹ˆåˆ°æ­¤æ—¶ï¼ŒçœŸç›¸ä¹Ÿå°±æµ®å‡ºæ°´é¢äº†ï¼Œå¹¸å¥½ï¼Œæˆ‘æ²¡æœ‰æˆä¸º 2.3 ä¸‡è®¢å•ä¸­çš„ä¸€ä¸ªã€‚</p>\n<p>äº’è”ç½‘æ—¶ä»£å¯¹äº â€œåŠ£å¸â€ çœŸçš„æ˜¯æœ€å¥½çš„æ—¶ä»£ï¼Œäººç±»æœ¬èº«å°±æ˜¯ä»ä¼—çš„ï¼Œè€Œäº’è”ç½‘å¯ä»¥å¾ˆæ–¹ä¾¿çš„é’ˆå¯¹æŸä¸€ç¾¤ä½“æ„å»ºä¸“å±çš„â€ ä¿¡æ¯èŒ§æˆ¿ â€œä»è€Œæ“æ§äººçš„é€‰æ‹©ã€‚åŒæ—¶ï¼Œè¿™ç§ä¿¡æ¯èŒ§æˆ¿å¯ä»¥è®© â€œ<strong>ä¿¡æ¯ä¸åŒ…å«ä¿¡æ¯</strong>â€ï¼ˆç¬¬ä¸€ä¸ªä¿¡æ¯æŒ‡ â€œæ¶ˆæ¯â€ï¼Œç¬¬äºŒä¸ªä¿¡æ¯æŒ‡ â€œç”¨äºå†³ç­–çš„çŸ¥è¯†â€ï¼‰ï¼šå½“ä½ çœ‹è§æ¨èï¼Œä½ ä¼šæ€€ç–‘æ˜¯ â€œå¹¿â€ï¼›å½“ä½ çœ‹è§å·®è¯„ï¼Œä½ ä¼šæ€€ç–‘æ˜¯å…¶ä»–å“ç‰Œçš„ â€œè¸©â€ã€‚äººçš„é€‰æ‹©æœ¬æ¥æ˜¯åŸºäºçŸ¥è¯†çš„ï¼Œå½“äººæ¥è§¦åˆ°çš„æ— æ•°ä¿¡æ¯æœ¬èº«å´ä¸åŒ…å«ä»»ä½•çŸ¥è¯†çš„æ—¶å€™ï¼Œäººè¯¥æ€ä¹ˆåšå‡ºæ­£ç¡®çš„é€‰æ‹©å‘¢ï¼Ÿ</p>\n<h1 id=\"å¯¹ç­–\"><a class=\"anchor\" href=\"#å¯¹ç­–\">#</a> å¯¹ç­–</h1>\n<p>å½“ç„¶ï¼Œè¿™ä¸ªå¯è¡Œæ–¹æ¡ˆå¹¶ä¸å®Œå–„ï¼Œå…¶æœ€æœ¬è´¨çš„åŸºäºçš„é€»è¾‘æ˜¯ â€œæ¥šé—¨çš„ä¸–ç•Œæ— æ³•<strong>å®Œå…¨</strong>æ¨¡æ‹Ÿæ•´ä¸ªä¸–ç•Œâ€ï¼Œå•†å®¶æ— æ³•å½±å“åˆ°ç”Ÿæ´»çš„æ–¹æ–¹é¢é¢ï¼Œé‚£ä¹ˆå°±ä¸€å®šä¼šæœ‰ä¸€äº›èƒŒç¦»é€»è¾‘çš„åœ°æ–¹ã€‚æˆ‘è®¤ä¸ºå¯è¡Œçš„æ–¹æ³•è®ºå¦‚ä¸‹ï¼š</p>\n<ul>\n<li>äº¤å‰å¯¹æ¯”å¤šä¸ªæ–‡ç« ä¸­çš„å…±åŒé¡¹ï¼Œå¯¹äºæ‰€æœ‰å·®å¼‚é¡¹éƒ½æŒè°¨æ…æ€åº¦ã€‚</li>\n<li>å¯¹ â€œå¼ºæ¨â€ çš„ä¸œè¥¿æé«˜è­¦æƒ•ï¼Œç‰¹åˆ«æ˜¯ä½ æ„Ÿè§‰åˆ·åˆ°çš„æ‰€æœ‰æ–‡ç« éƒ½åœ¨å¹æ€ä¹ˆæ€ä¹ˆå¥½ã€‚</li>\n<li>è¦è®¤è¯†åˆ°äº‹ç‰©çš„å»¶ç»­æ€§ï¼Œå‡¡äº‹å¹å˜˜ç«‹åˆ»è§æ•ˆçš„ä¸œè¥¿ï¼ŒæŒè°¨æ…æ€åº¦ã€‚</li>\n<li>äº¤å‰å¯¹æ¯”ä¸åŒä¿¡æ¯æ¸ é“ï¼Œè¿™ä¸ªä¸åŒæ˜¯æŒ‡ä¸åŒä¸¥è‚ƒç¨‹åº¦çš„ä¿¡æ¯æ¸ é“ï¼Œâ€œd éŸ³â€ å’Œ â€œx çº¢ä¹¦â€ ä¸æ˜¯ä¸¤ä¸ªæ¸ é“ï¼Œâ€œz ä¹â€ å’Œ â€œx çº¢ä¹¦â€ æ‰åŸºæœ¬ç®—ï¼Œå¦‚æœæœ‰è®ºæ–‡ï¼Œå°±æ›´å¥½äº†ã€‚</li>\n</ul>\n<p>æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯æŒæ€€ç–‘çš„æ€åº¦åšé€‰æ‹©ï¼Œç”¨ç†æ€§å…‹åˆ¶å†²åŠ¨ï¼Œæœ‰äº¤å‰æ¯”å¯¹å¯¹æŠ—ä¿¡æ¯èŒ§æˆ¿ï¼Œä¸»åŠ¨ç ´å¼€ä»–ã€‚</p>\n<h1 id=\"æ€è€ƒ\"><a class=\"anchor\" href=\"#æ€è€ƒ\">#</a> æ€è€ƒ</h1>\n<h2 id=\"çœŸå°±æ— æ³•å¯æ²»å—\"><a class=\"anchor\" href=\"#çœŸå°±æ— æ³•å¯æ²»å—\">#</a> çœŸå°±æ— æ³•å¯æ²»å—ï¼Ÿ</h2>\n<p>åœ¨æˆ‘å¼€å§‹æ€è€ƒè¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—æ˜¯ç›‘ç®¡ä¸åŠ›ã€åˆ¶åº¦ç¼ºå¤±ã€æƒ©ç½šä¸å¤Ÿå¯¼è‡´çš„ â€œåŠ£å¸â€ æ³›æ»¥ï¼Œä½†ä»”ç»†æƒ³æƒ³ï¼Œå…¶å®ä¸æ˜¯è¿™æ ·çš„ï¼Œâ€œåŠ£å¸é©±é€è‰¯å¸â€ æ˜¯ä¸€ç§æ ¹æ¤äºäººç±»è´ªå©ªæœ¬æ€§çš„åŸç†ï¼Œåˆ¶åº¦æœ¬èº«æ˜¯ä¸ºäººæœåŠ¡çš„ï¼Œä¹Ÿå°±è‡ªç„¶ä¼šä¸º â€œåŠ£å¸â€ å¼€ç»¿ç¯ã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ï¼šå›½å®¶å±‚é¢å¯ä»¥å¯¹æ‰€æœ‰å¸‚åœºä¸Šçš„ä¼ä¸šè¿›è¡Œä¸¥è‹›çš„ç›‘ç®¡ï¼Œæ¯å¤©éƒ½æ´¾ä¸“äººæ£€æŸ¥æ ¸å¯¹ï¼›æ‰€æœ‰æœ‰æ¬ºéª—è¡Œä¸ºçš„å•†å®¶ç›´æ¥å…¨éƒ¨æ­»åˆ‘ã€‚æƒ³æƒ³å¾ˆè§£æ°”æ˜¯å§ï¼Ÿä½†æ˜¯è°ä¼šæ¥å½“å•†å®¶å‘¢ï¼Ÿå¦‚æœå•†å“æ€»ä½“çš„é€‰æ‹©å˜å°‘äº†ï¼Œäººä»¬çš„ç”Ÿæ´»æ˜¯å˜å¥½äº†è¿˜æ˜¯å˜å·®äº†å‘¢ï¼Ÿ</p>\n<p>æˆ‘æ‰¿è®¤ï¼Œç°è¡Œåˆ¶åº¦ã€ç›‘ç®¡ä¸€å®šæ˜¯æœ‰å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Œä½†æ˜¯è¦è®¤è¯†åˆ°åˆ¶åº¦ã€ç›‘ç®¡åœ¨è¿›æ­¥ï¼Œè€Œ â€œåŠ£å¸â€ ä¹Ÿåœ¨è¿›æ­¥ï¼Œæ ¹æ¤äºäººç±»æ·±å¤„çš„ä¸œè¥¿æ˜¯ä¸ä¼šè¢«äººç±»å‘æ˜çš„ä¸œè¥¿æ‰“è´¥çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼šçœŸçš„æ— æ³•å¯æ²»ï¼Œæˆ‘ä»¬åªèƒ½ â€œè‡ªæˆ‘æ•‘èµâ€ã€‚</p>\n<h2 id=\"å¯èƒ½çš„è‡ªæˆ‘æ•‘èµ\"><a class=\"anchor\" href=\"#å¯èƒ½çš„è‡ªæˆ‘æ•‘èµ\">#</a> å¯èƒ½çš„è‡ªæˆ‘æ•‘èµï¼Ÿ</h2>\n<p>æ›¾ç»æœ‰ä¸¤å¤§äººç±»è‡ªç”±ç»ˆç»“çš„é¢„è¨€ï¼š</p>\n<ul>\n<li>\n<p><em>â€œå¥¥å°”å¨çš„ã€Š1984ã€‹ï¼šäººç±»å—åˆ°å¤–æ¥çš„å‹è¿«å¤±å»è‡ªç”±â€</em>ã€‚</p>\n</li>\n<li>\n<p><em>â€œèµ«èƒ¥é»çš„ã€Šç¾ä¸½æ–°ä¸–ç•Œã€‹ï¼šäººç±»çˆ±ä¸Šå·¥ä¸šæŠ€æœ¯å¸¦æ¥çš„å¨±ä¹å’Œæ–‡åŒ–ä¸å†æ€è€ƒã€‚â€</em></p>\n</li>\n</ul>\n<p>ä½†æ­¤æ—¶ï¼Œæˆ‘ä¸ç¦åœ¨æƒ³ï¼Œä¼šä¸ä¼šæœ‰å¦å¤–ä¸€ç§å¯èƒ½æ€§ï¼Œç°ä»£çš„äººç±»ç»è¿‡å„ç§å¹¿å‘Šçš„æ´—ç¤¼ï¼Œä»ä¸ªäººåˆ©ç›Šçš„è§’åº¦å‡ºå‘ï¼Œé‡æ–°æŒæ¡æ‰¹åˆ¤æ€§æ€ç»´æ¥æå«è‡ªå·±çš„åˆ©ç›Šã€‚äº’è”ç½‘ç¡®å®ä¼šè®©å¾ˆå¤šäººä¸Šå½“å—éª—ï¼Œä½†ä»”ç»†æƒ³æƒ³ï¼Œç°åœ¨å¤§å®¶çš„åè¯ˆæ„è¯†ä¸ä¹Ÿæœ‰æ‰€æé«˜äº†å˜›ï¼Ÿæˆ‘çŸ¥é“è¿™æ ·çš„è®¤è¯†ç¡®å®å¾ˆä¹è§‚ï¼Œä½†ä¹è§‚ä¸€ç‚¹æœ‰ä½•ä¸å¥½å‘¢ï¼Ÿ</p>\n<h2 id=\"é­”æ³•å¯¹æŠ—é­”æ³•\"><a class=\"anchor\" href=\"#é­”æ³•å¯¹æŠ—é­”æ³•\">#</a> é­”æ³•å¯¹æŠ—é­”æ³•ï¼Ÿ</h2>\n<p>ç”±äºæœ€è¿‘åœ¨å­¦ä¹ ç½‘ç»œå†…å®¹å®‰å…¨å’Œæœºå™¨å­¦ä¹ çš„çŸ¥è¯†ï¼Œæˆ‘ä¸ç¦æƒ³ï¼Œè¿™ä»¶äº‹åº”è¯¥æ˜¯å¯ä»¥é€šè¿‡æœºå™¨å­¦ä¹ æ¥è§£å†³çš„ï¼Œå¦‚æœè¯´äº’è”ç½‘æ—¶ä»£çš„â€ åŠ£å¸ â€œä¼ æ’­çš„ç›¸ä¼¼ç‚¹æ˜¯ â€œ<strong>ç”¨æµ·é‡çš„ä¿¡æ¯å»ç˜«ç—ªäººçš„ä¿¡æ¯å¤„ç†èƒ½åŠ›</strong> â€œï¼Œé‚£ä¸ºä»€ä¹ˆä¸è®©ä¿¡æ¯å¤„ç†èƒ½åŠ›æ›´å¼ºçš„ â€œæœºå™¨â€ å»å¤„ç†è¿™äº›ä¿¡æ¯å¹¶åˆ†æå‡ºç«¯å€ªå‘¢ï¼Ÿæˆ‘è®¤ä¸ºè¿™ä»¶äº‹åº”è¯¥æ˜¯å¯ä»¥åšåˆ°çš„ï¼Œä½†æ˜¯ï¼Œæ˜¾è€Œæ˜“è§çš„åˆ©ç›ŠåŸå› å¯èƒ½ä½¿ä»–çš„è¯ç”Ÿå›°éš¾é‡é‡ï¼Œä½†æ˜¯ï¼Œâ€œå¤ªé˜³ä¸€å®šä¼šå‡èµ·â€ã€‚</p>\n<h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<ul>\n<li>[1] <span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU1JThBJUEzJUU1JUI5JUEzJUU5JUE5JTg1JUU5JTgwJTkwJUU4JTg5JUFGJUU1JUI5JUEz\">https://zh.wikipedia.org/wiki/ åŠ£å¹£é©…é€è‰¯å¹£</span></li>\n<li>[2] <span class=\"exturl\" data-url=\"aHR0cHM6Ly9ib29rLmRvdWJhbi5jb20vcmV2aWV3LzEyMTE4OTQxLw==\">https://book.douban.com/review/12118941/</span></li>\n</ul>\n",
            "tags": [
                "æ€è€ƒä¸æ²‰æ·€",
                "æ€è€ƒ"
            ]
        },
        {
            "id": "https://gality.cn/misc/PNT/fiber-optic-and-WDM/",
            "url": "https://gality.cn/misc/PNT/fiber-optic-and-WDM/",
            "title": "å…‰çº¤é€šä¿¡åŸç†ä¸æŠ€æœ¯",
            "date_published": "2023-10-25T08:19:46.000Z",
            "content_html": "<h1 id=\"å…‰çº¤é€šä¿¡åŸç†\"><a class=\"anchor\" href=\"#å…‰çº¤é€šä¿¡åŸç†\">#</a> å…‰çº¤é€šä¿¡åŸç†</h1>\n<h2 id=\"ç†è®ºå‰æ\"><a class=\"anchor\" href=\"#ç†è®ºå‰æ\">#</a> ç†è®ºå‰æ</h2>\n<p>â€œå…‰çº¤â€ è¿™ä¸ªè¯å¯ä»¥æ‹†å¼€æ¥ç†è§£ï¼Œâ€œå…‰â€ æ˜¯æŒ‡ä¿¡æ¯çš„ä¼ è¾“å½¢å¼æ˜¯ä¾é å…‰çš„å½¢å¼ï¼›â€œçº¤â€ æ˜¯æŒ‡ä¼ è¾“ä»‹è´¨ä¸ºç»ç’ƒçº¤ç»´ã€‚è®© â€œå…‰â€ æ¥ä¼ è¾“ä¿¡æ¯çš„å‰ææ˜¯ **â€œå…¨åå°„â€** ç°è±¡çš„å‘ç°ã€‚</p>\n<blockquote>\n<p><strong>â€ å…¨åå°„ â€œ</strong> ç°è±¡æ˜¯æŒ‡å½“å…‰çº¿ä»å…‰å¯†ä»‹è´¨è¿›å…¥å…‰ç–ä»‹è´¨ï¼Œä¸”å…¥å°„è§’å¤§äºä¸´ç•Œè§’æ—¶ï¼ŒæŠ˜å°„å…‰çº¿å®Œå…¨æ¶ˆå¤±ï¼Œåªç•™ä¸‹åå°„å…‰çº¿çš„ç°è±¡ã€‚</p>\n</blockquote>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/o2g0de.png\" alt=\"å…¨åå°„\" /></p>\n<p>åŸºäºè¿™ä¸ªç°è±¡ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡å‡ºä¸€ç§åœ†å½¢çš„å¯¼çº¿ç»“æ„ï¼ˆå…¶å®å°±æ˜¯å…‰çº¤ï¼‰ï¼Œåªéœ€è¦åœ¨æ›´ä¸­å¿ƒçš„ä½ç½®é€‰ç”¨åˆé€‚çš„å…‰å¯†ææ–™ï¼Œå¤–å›´é€‰ç”¨åˆé€‚çš„å…‰ç–ææ–™ï¼Œå†ç»“åˆä¸€ä¸ªåˆé€‚çš„å…¥å°„è§’ï¼Œå°±å¯ä»¥ä½¿å…‰åœ¨å¯¼çº¿ä¸æ–­çš„åå°„ï¼Œå¹¶ä¸æ–­å‘å‰ä¼ æ’­ã€‚</p>\n<p>å…‰çº¤çš„çº¤èŠ¯ä¸»è¦é‡‡ç”¨é«˜çº¯åº¦çš„äºŒæ°§åŒ–ç¡… (SiO<sub>2</sub>)ï¼Œå¹¶æºæœ‰å°‘é‡çš„æºæ‚å‰‚ï¼Œæé«˜çº¤èŠ¯çš„å…‰æŠ˜å°„ç‡ n1ï¼›åŒ…å±‚ä¹Ÿæ˜¯é«˜çº¯åº¦çš„äºŒæ°§åŒ– (SiO<sub>2</sub>)ï¼Œä¹Ÿæºæœ‰ä¸€äº›çš„æºæ‚å‰‚ï¼Œä»¥é™ä½åŒ…å±‚çš„å…‰æŠ˜å°„ç‡ n2ï¼Œ ä¸” n1ï¼n2ï¼Œå‘ç”Ÿå…¨åå°„ï¼›æ¶‚è¦†å±‚é‡‡ç”¨ä¸™çƒ¯é…¸é…¯ã€ç¡…æ©¡èƒ¶ã€å°¼é¾™ï¼Œå¢åŠ æœºæ¢°å¼ºåº¦å’Œå¯å¼¯æ›²æ€§ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/puwff9.png\" alt=\"å…‰çº¤ç¤ºæ„å›¾\" /></p>\n<p>è¿™å°±æ˜¯å¯ä»¥ç”¨å…‰æ¥ä¼ é€’ä¿¡æ¯çš„ç†è®ºåŸºç¡€å’Œææ–™åŸºç¡€ï¼Œè‡³æ­¤ï¼Œç”¨å…‰æ¥ä¼ è¾“ä¿¡æ¯æœ‰äº†ç†è®ºä¸Šçš„å¯è¡Œæ€§ã€‚</p>\n<h2 id=\"å…‰çº¤å·¥ä½œåŸç†\"><a class=\"anchor\" href=\"#å…‰çº¤å·¥ä½œåŸç†\">#</a> å…‰çº¤å·¥ä½œåŸç†</h2>\n<p>å…‰çº¤åªæ˜¯å…‰ä¼ è¾“çš„é€šé“ï¼Œå…·ä½“å…‰çš„æ€ä¹ˆä¼ è¾“çš„å‘¢ï¼Ÿ</p>\n<p>é¦–å…ˆï¼Œå‘å°„ç«¯æŠŠè¦ä¼ è¾“çš„ä¿¡æ¯ï¼ˆå¦‚è¯éŸ³ç­‰ï¼‰è½¬æ¢ä¸ºç”µä¿¡å·ï¼Œç„¶åé€šè¿‡æ¿€å…‰å™¨å‘å°„åˆ°æ¿€å…‰æŸä¸Šï¼Œå…‰çš„å¼ºåº¦ä¼šéšç”µä¿¡å·çš„é¢‘ç‡ä¸€èµ·å˜åŒ–ï¼Œå¹¶é€šè¿‡å…‰çº¤å‘å°„å‡ºå»ï¼›åœ¨æ¥æ”¶ç«¯ï¼Œæ£€æµ‹å™¨å—åˆ°å…‰ä¿¡å·åæŠŠå®ƒå˜æˆç”µä¿¡å·ï¼Œç»è¿‡å¤„ç†åæ¢å¤åŸä¿¡æ¯ã€‚</p>\n<p>å•ä¸€çš„å…‰çº¤ä¿¡é“å®¹é‡æœ‰é™ï¼Œäºæ˜¯æˆ‘ä»¬è€ƒè™‘å°†å¤šä¸ªå…‰çº¤ç»“åˆåœ¨ä¸€èµ·æ¥å¢å¤§å®¹é‡ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/gwq3av.jpg\" alt=\"å…‰ç¼†ç¤ºæ„å›¾\" /></p>\n<p>å…‰çº¤å†…éƒ¨ç”¨ç»ç’ƒçº¤ç»´åˆ¶æˆçš„å…‰å¯¼çº¤ç»´ï¼Œå¯ä»¥æŠŠå…‰ä¿¡å·ä¼ è¾“åˆ°å‡ åƒå…¬é‡Œå¤–ï¼Œå°†å‡ ç™¾ä¸Šåƒæ ¹å…‰å¯¼çº¤ç»´ç»„åˆåœ¨ä¸€èµ·ï¼Œåˆ¶æˆåƒç”µç¼†ä¸€æ ·çš„å…‰ç¼†ï¼Œè¿™æ ·æ—¢æé«˜äº†å…‰å¯¼çº¤ç»´çš„å¼ºåº¦ï¼Œåˆå¤§å¤§å¢åŠ äº†é€šè®¯å®¹é‡ã€‚</p>\n<p>å…‰ä¿¡å·å°±æ˜¯åœ¨å…‰çº¤å†…ç»è¿‡ä¸€æ¬¡æ¬¡çš„æŠ˜å°„ä¼ è¾“åˆ°ç»ˆç‚¹çš„ï¼Œå…‰ä¿¡å·åœ¨ä¸€æ¬¡æ¬¡æŠ˜å°„åä¼šåˆ†æ•£æˆ–è€…è¡°å‡ï¼Œå› æ­¤éœ€è¦æŠŠå…‰ä¿¡å·æ¯ 50 å…¬é‡Œæ”¾å¤§ä¸€æ¬¡ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/y72w4r.png\" alt=\"å…‰ä¿¡å·ä¼ è¾“\" /></p>\n<h1 id=\"æ•°æ®ä¼ è¾“\"><a class=\"anchor\" href=\"#æ•°æ®ä¼ è¾“\">#</a> æ•°æ®ä¼ è¾“</h1>\n<h2 id=\"ä¿¡é“å®¹é‡\"><a class=\"anchor\" href=\"#ä¿¡é“å®¹é‡\">#</a> ä¿¡é“å®¹é‡</h2>\n<p>å…‰çº¤ä¿¡é“å®¹é‡çš„å¤§å°å—å¾ˆå¤šå› ç´ çš„å½±å“ï¼Œä¾‹å¦‚ï¼šè°ƒåˆ¶æŠ€æœ¯ã€å…‰çº¤è´¨é‡ã€å¸¦å®½ã€å…‰æºæ£€æµ‹å™¨ã€WDM æŠ€æœ¯ç­‰ç­‰ç­‰ï¼Œæˆ‘ä»¬å…ˆæ¥è€ƒè™‘å•æ ¹å…‰çº¤ã€å•ä¸€å…‰çº¿ä¸”æ²¡æœ‰ä»»ä½•è°ƒåˆ¶æŠ€æœ¯çš„æƒ…å†µï¼Œ<strong>é¦™å†œ - å“ˆç‰¹åˆ©å®šç†</strong>ç»™å‡ºäº†åœ¨å­˜åœ¨å™ªå£°çš„æƒ…å†µä¸‹ï¼Œä¿¡æ¯å¯ä»¥é€šè¿‡ç»™å®šå¸¦å®½çš„é€šä¿¡ä¿¡é“ä¸­ä¼ è¾“çš„æœ€å¤§é€Ÿç‡ï¼ˆä¿¡é“å®¹é‡ï¼‰ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>C</mi><mo>=</mo><mi>B</mi><mo>â‹…</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><mi>S</mi><mi>N</mi><mi>R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">C = B \\cdot log_2(1+SNR)\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> ä»£è¡¨ä¿¡é“çš„å®¹é‡ï¼Œå•ä½ä¸ºæ¯”ç‰¹æ¯ç§’æˆ–å¥ˆç‰¹æ¯ç§’ï¼Œä¸ºç†è®ºä¸Šçš„ä¸åŒ…å«çº é”™ç çš„æœ€å¤§æ¯”ç‰¹ç‡ã€‚</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span> ä»£è¡¨ä¿¡é“çš„å¸¦å®½ï¼Œå•ä½ä¸ºèµ«å…¹ï¼ˆHzï¼‰ã€‚</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi>N</mi><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">SNR</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> ä»£è¡¨ä¿¡å™ªæ¯”ï¼Œæ˜¯ä¿¡å·åŠŸç‡ä¸å™ªå£°åŠŸç‡ä¹‹æ¯”ï¼Œé€šå¸¸ä»¥çº¿æ€§æ¯”å€¼æ¥è¡¨ç¤ºï¼ˆ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mi mathvariant=\"normal\">/</mi><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">S /over N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span></span> ï¼‰ã€‚</li>\n</ul>\n<p>è¿™ä¸ªå…¬å¼è¡¨æ˜ï¼Œä¿¡é“å®¹é‡ä¸å¸¦å®½å’Œä¿¡å™ªæ¯”ä¹‹é—´å­˜åœ¨å¯¹æ•°å…³ç³»ã€‚å¢åŠ å¸¦å®½æˆ–æé«˜ä¿¡å™ªæ¯”éƒ½å¯ä»¥å¢åŠ ä¿¡é“çš„å®¹é‡ã€‚</p>\n<h2 id=\"ä¼ è¾“é€Ÿç‡\"><a class=\"anchor\" href=\"#ä¼ è¾“é€Ÿç‡\">#</a> ä¼ è¾“é€Ÿç‡</h2>\n<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…‰åœ¨å…‰çº¤ä¸­çš„ä¼ è¾“é€Ÿåº¦å¹¶ä¸æ˜¯ â€œå…‰é€Ÿâ€ï¼ˆçœŸç©ºä¸­ï¼Œçº¦ä¸º 299,792,458 ç±³ / ç§’ï¼‰ï¼Œè€Œæ˜¯é€Ÿåº¦ç•¥æ…¢ï¼Œå¤§çº¦ä¸ºçœŸç©ºä¸­å…‰é€Ÿçš„ 2/3 å·¦å³ï¼Œè¿™æ˜¯ç”±å…‰çº¤æè´¨çš„æŠ˜å°„ç‡æ¥å†³å®šçš„ï¼ŒæŠ˜å°„ç‡çš„å®šä¹‰ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>n</mi><mo>=</mo><mfrac><mi>c</mi><mi>v</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">n = \\frac{c}{v}\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.7935600000000003em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.10756em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> æ˜¯æŠ˜å°„ç‡ï¼ˆçœŸç©ºçš„æŠ˜å°„ç‡è¢«å®šä¹‰ä¸º 1ï¼‰ã€‚</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> çœŸç©ºä¸­çš„å…‰é€Ÿã€‚</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span> æ˜¯å…‰åœ¨ç‰¹å®šä»‹è´¨ä¸­çš„ä¼ æ’­é€Ÿåº¦ï¼Œé€šå¸¸ä»¥ç±³ / ç§’ä¸ºå•ä½ã€‚</li>\n</ul>\n<p>æŠ˜å°„ç‡æ˜¯ä¸€ä¸ªææ–™ç‰¹æ€§ï¼Œææ–™åˆ¶é€ å®Œæˆåå°±å·²ç»ç¡®å®šäº†ï¼Œä»£è¡¨äº†å…‰åœ¨è¯¥ææ–™ä¸­ä¼ æ’­é€Ÿåº¦ç›¸å¯¹äºçœŸç©ºä¸­å…‰é€Ÿçš„æ¯”å€¼ã€‚åœ¨å…‰çº¤ä¸­ï¼Œé€šå¸¸ä¼šé€‰æ‹©å…·æœ‰é«˜æŠ˜å°„ç‡çš„ææ–™ä½œä¸ºå…‰çº¤å†…èŠ¯ï¼Œè€ŒæŠ˜å°„ç‡è¶Šé«˜ï¼Œå…‰é€Ÿå°±è¶Šæ…¢ï¼Œå› æ­¤å…‰åœ¨å…‰çº¤å†…èŠ¯ä¸­ä¼ æ’­æ—¶é€Ÿåº¦è¾ƒæ…¢ã€‚</p>\n<h2 id=\"å¢å¤§ä¿¡é“å®¹é‡\"><a class=\"anchor\" href=\"#å¢å¤§ä¿¡é“å®¹é‡\">#</a> å¢å¤§ä¿¡é“å®¹é‡</h2>\n<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¼šæƒ³è¦å°½å¯èƒ½çš„å¢å¤§ä¿¡é“çš„å®¹é‡ï¼Œä½¿å¾—å…‰çº¤å¯ä»¥ä¼ è¾“æ›´å¤šçš„ä¿¡æ¯ï¼Œé™¤äº†å°†å¤šæ ¹å…‰çº¤ç»‘åœ¨ä¸€èµ·å½¢æˆå…‰ç¼†è¿™æ ·æš´åŠ›çš„å¢åŠ æ–¹å¼å¤–ï¼Œè¿˜å¯ä»¥è€ƒè™‘æ€ä¹ˆæé«˜å•æ ¹å…‰çº¤çš„ä¿¡é“å®¹é‡ã€‚è¿™æ—¶æˆ‘ä»¬ä¼šè”æƒ³åˆ°å…‰çš„ â€œè‰²æ•£â€ ç°è±¡ã€‚</p>\n<h3 id=\"è‰²æ•£\"><a class=\"anchor\" href=\"#è‰²æ•£\">#</a> è‰²æ•£</h3>\n<p>æˆ‘ä»¬çŸ¥é“ï¼Œå…‰çš„é¢‘ç‡å’Œæ³¢é•¿ä¹‹é—´å…³ç³»ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>c</mi><mo>=</mo><mi>Î»</mi><mo>â‹…</mo><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">c = \\lambda \\cdot f\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span></span></p>\n<p>å…¶ä¸­ï¼š</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> æ˜¯å…‰é€Ÿï¼ŒæŒ‡çš„æ˜¯ææ–™ä¸­çš„å…‰é€Ÿã€‚</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span> æ˜¯å…‰çš„æ³¢é•¿ï¼Œé€šå¸¸ä»¥ç±³ä¸ºå•ä½ã€‚</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span> æ˜¯å…‰çš„é¢‘ç‡ï¼Œé€šå¸¸ä»¥èµ«å…¹ï¼ˆHzï¼‰ä¸ºå•ä½ã€‚</li>\n</ul>\n<div class=\"note primary\">\n<p>ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ï¼Œå…¬å¼ä¸­çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> åº”è¯¥æ˜¯é€šè¿‡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi><mo>=</mo><mfrac><msub><mi>c</mi><mn>0</mn></msub><mi>n</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">c=\\frac{c_0}{n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.056492em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7114919999999999em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.4101em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31731428571428577em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.143em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span> è®¡ç®—å¾—åˆ°çš„ï¼Œå…¶ä¸­ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">c_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> ä¸ºçœŸç©ºä¸­å…‰é€Ÿï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> ä¸ºææ–™çš„æŠ˜å°„ç‡ã€‚åœ¨å®é™…æƒ…å†µä¸­é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯¹äºä¸€èˆ¬å·¥ç¨‹å’Œè®¡ç®—ï¼Œä¸è€ƒè™‘ææ–™çš„å°† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> å½“ä½œçœŸç©ºå…‰é€Ÿä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¯¹äºå¤§å¤šæ•°åº”ç”¨æ¥è¯´å…¶è¯¯å·®å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>\n</div>\n<p>ä¸Šé¢çš„å…¬å¼å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸åŒé¢œè‰²ï¼ˆé¢‘ç‡ï¼‰çš„å…‰åœ¨å…‰çº¤ä¸­ä¼ è¾“é€Ÿåº¦æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å°±æ˜¯å…‰çš„ â€œ<strong>è‰²æ•£</strong>â€ï¼Œåœ¨å…‰çº¤ä¼ è¾“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸åŒé¢œè‰²çš„å…‰å¤åˆèµ·æ¥ä¸€èµ·ä¼ æ’­ï¼Œæ¥æ”¶ç«¯åœ¨æ¥æ”¶æ—¶å†å°†è¿™äº›å…‰åˆ†ç¦»å‡ºæ¥å°±å¯ä»¥äº†ï¼Œè¿™å°±æ˜¯ â€œ<strong>æ³¢åˆ†å¤ç”¨ï¼ˆWavelength Division Multiplexingï¼ŒWDMï¼‰</strong>â€ æŠ€æœ¯çš„æ€æƒ³ã€‚</p>\n<h3 id=\"æ³¢åˆ†å¤ç”¨æŠ€æœ¯\"><a class=\"anchor\" href=\"#æ³¢åˆ†å¤ç”¨æŠ€æœ¯\">#</a> æ³¢åˆ†å¤ç”¨æŠ€æœ¯</h3>\n<p>æ³¢åˆ†å¤ç”¨ï¼ˆWavelength Division Multiplexingï¼ŒWDMï¼‰æŠ€æœ¯ç”¨äºå¢å¤§å…‰é€šä¿¡ç³»ç»Ÿçš„ä¿¡é“å®¹é‡ï¼Œæ˜¯ä¸€ç§å…‰é€šä¿¡ä¸­å¸¸ç”¨çš„å¤šè·¯å¤ç”¨æŠ€æœ¯ã€‚WDM æŠ€æœ¯å…è®¸åŒæ—¶åœ¨å…‰çº¤ä¸­ä¼ è¾“å¤šä¸ªä¸åŒæ³¢é•¿ï¼ˆæˆ–é¢‘ç‡ï¼‰çš„å…‰ä¿¡å·ï¼Œæ¯ä¸ªæ³¢é•¿å…‰ä¿¡å·éƒ½å¯ä»¥æºå¸¦ç‹¬ç«‹çš„æ•°æ®æµï¼Œä»è€Œæœ‰æ•ˆåœ°å¢åŠ äº†å…‰çº¤é€šä¿¡ç³»ç»Ÿçš„ä¿¡é“å®¹é‡ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/8z24ob.png\" alt=\"æ³¢åˆ†å¤ç”¨ç¤ºæ„å›¾\" /></p>\n<p>WDM æŠ€æœ¯çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨<strong>å…‰çš„ä¸åŒæ³¢é•¿æ¥ä¼ è¾“ä¸åŒçš„ä¿¡å·</strong>ï¼Œå°±åƒå¹¿æ’­ç”µè§†ä¸­ä½¿ç”¨ä¸åŒé¢‘é“æ¥ä¼ è¾“ä¸åŒèŠ‚ç›®ä¸€æ ·ã€‚é€šè¿‡å°†å¤šä¸ªæ³¢é•¿çš„å…‰ä¿¡å·åˆå¹¶åˆ°åŒä¸€æ ¹å…‰çº¤ä¸­ï¼Œä½¿å¾—å¤šä¸ªç‹¬ç«‹çš„é€šä¿¡ä¿¡é“åœ¨ç›¸åŒçš„ç‰©ç†åŸºç¡€è®¾æ–½ä¸Šå…±å­˜ï¼Œä»è€Œå¤§å¹…æé«˜äº†é€šä¿¡ç³»ç»Ÿçš„å®¹é‡</p>\n<p>å¯¹äºé‡‡ç”¨ WDM çš„ç³»ç»Ÿæ¥è¯´ï¼Œæƒ³è®©å…¶æ­£å¸¸è¿è¡Œï¼Œéœ€è¦æ§åˆ¶å„ä¸ªå…‰ä¿¡å·çš„æ³¢é•¿ï¼Œå¦‚æœæ³¢é•¿é—´éš”å¤ªçŸ­çš„è¯ï¼Œå¾ˆå®¹æ˜“åŒºåˆ†ä¸å¼€ï¼›è€Œå¦‚æœæ³¢é•¿é—´éš”è¿‡é•¿ï¼Œåˆ©ç”¨ç‡åˆä¼šé™ä½ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/ufhx5g.png\" alt=\"WDMæ³¢é•¿ç¤ºæ„å›¾\" /></p>\n<p>æ—©æœŸçš„æ—¶å€™ï¼ŒæŠ€æœ¯æ¡ä»¶æœ‰é™ï¼Œæ³¢é•¿é—´éš”ä¼šæ§åˆ¶åœ¨å‡ åçº³ç±³ï¼Œè¿™ç§æ¯”è¾ƒåˆ†æ•£çš„ WDM è¢«ç§°ä¸º â€œ<strong>ç¨€ç–æ³¢åˆ†å¤ç”¨ï¼ˆ Coarse WDMï¼ŒCWDMï¼‰</strong>â€ã€‚åæ¥ï¼ŒæŠ€æœ¯è¶Šæ¥è¶Šå…ˆè¿›ï¼Œæ³¢é•¿é—´éš”å‹å¾—è¶Šæ¥è¶ŠçŸ­ï¼Œåˆ°äº†å‡  çº³ç±³ çš„çº§åˆ«ï¼Œå°±æˆäº†ç´§å¯†çš„ WDMï¼Œå«åš â€œ<strong>å¯†é›†æ³¢åˆ†å¤ç”¨ï¼ˆDense WDMï¼ŒDWDMï¼‰</strong>â€</p>\n<p>CWDM çš„æ³¢é•¿é—´éš” 20nmï¼Œæ³¢é•¿èŒƒå›´ä» 1270nm åˆ° 1610nmï¼Œæœ‰ 18 ä¸ªæ³¢æ®µã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/hefojm.png\" alt=\"CWDMä¸­å¿ƒæ³¢æ®µ\" /></p>\n<p>ã€Œå› ä¸º 1270-1470nm æ³¢æ®µæœ‰æ˜æ˜¾çš„è¡°å‡å¢åŠ ï¼Œå¾ˆå¤šæ—§å‹å…‰çº¤ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œæ‰€ä»¥ CWDM ä¸€èˆ¬ä¼˜å…ˆä½¿ç”¨ 1470~1610nm çš„ 8 ä¸ªæ³¢æ®µã€‚ã€</p>\n<p>DWDM çš„æ³¢é•¿é—´éš”å¯ä»¥æ˜¯ 1.6nmã€0.8nmã€0.4nmã€0.2nmï¼Œå¯ä»¥å®¹çº³ 40ã€80ã€160 ä¸ªæ³¢ï¼ˆæœ€å¤§å¯æ”¯æŒ 192 æ³¢ï¼‰ã€‚DWDM çš„æ³¢é•¿èŒƒå›´ä¸º 1525nm è‡³ 1565nmï¼ˆC æ³¢æ®µï¼‰å’Œ 1570nm è‡³ 1610nmï¼ˆL æ³¢æ®µï¼‰ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/0yra5z.png\" alt=\"DWDMæ³¢æ®µ\" /></p>\n<p>DWDM å¸¸ç”¨ C æ³¢æ®µï¼Œæ³¢é•¿é—´éš” 0.4nmï¼Œé€šè·¯é¢‘ç‡é—´éš” 50GHzã€‚</p>\n<p>ä»¥ä¸Šå°±æ˜¯å…‰çº¤é€šä¿¡æœ€åŸºæœ¬çš„åŸç†å’Œæ³¢åˆ†å¤ç”¨æŠ€æœ¯ï¼Œåœ¨å®é™…çš„ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œåœ¨æœ€åŸºæœ¬çš„ç‰©ç†å±‚ä¹‹ä¸Šä¸ºäº†å®ç°ä¸åŒçš„ç›®çš„ï¼Œè¿˜ä¼šå¯¹ä¿¡å·è¿›è¡Œç¼–ç ï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºã€‚</p>\n",
            "tags": [
                "æ‚é¡¹",
                "PNT",
                "æˆæ—¶",
                "å­¦ä¹ ç¬”è®°",
                "é€šä¿¡",
                "PNT"
            ]
        },
        {
            "id": "https://gality.cn/ml/regularization/",
            "url": "https://gality.cn/ml/regularization/",
            "title": "ML Regularization",
            "date_published": "2023-10-24T11:39:12.000Z",
            "content_html": "<div class=\"note info no-icon\">\n<p>ä¹‹å‰å†™å¤§ä½œä¸šçš„æ—¶å€™æ¶‰åŠåˆ°äº†æ­£åˆ™åŒ–çš„çŸ¥è¯†ï¼Œä½†ç”±äºåœ¨å®é™…è®­ç»ƒè¿‡ç¨‹ä¸­å‘ç°æ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œå°±æ²¡æœ‰æ·±å…¥ç ”ç©¶äº†ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚</p>\n</div>\n<h1 id=\"é—®é¢˜å¼•å…¥\"><a class=\"anchor\" href=\"#é—®é¢˜å¼•å…¥\">#</a> é—®é¢˜å¼•å…¥</h1>\n<p>æˆ‘ä»¬å‡è®¾è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šç»™å‡ºæˆ¿å±‹å¤§å°å’Œå¯¹åº”çš„æˆ¿å±‹å”®ä»·ï¼Œå¯»æ‰¾æŸä¸€ä¸ªå‡½æ•°æ¥æè¿°å¤§å°å’Œå”®ä»·çš„å…³ç³»ï¼ˆå…·ä½“æ•°æ®æ˜¯ä»€ä¹ˆæ ·çš„ä¸é‡è¦ï¼Œæˆ‘ä»¬è¦çœ‹æ€æƒ³ï¼‰ã€‚</p>\n<h2 id=\"ä¸€æ¬¡æ–¹ç¨‹\"><a class=\"anchor\" href=\"#ä¸€æ¬¡æ–¹ç¨‹\">#</a> ä¸€æ¬¡æ–¹ç¨‹</h2>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬è€ƒè™‘ç”¨ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹å»æ‹Ÿåˆï¼Œä¾‹å¦‚ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>b</mi><mo>+</mo><mi>w</mi><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">y=b+wx\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.77777em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">x</span></span></span></span></span></p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>ï¼šæˆ¿å±‹å”®ä»·</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>ï¼šæˆ¿å±‹é¢ç§¯</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span>ï¼šæƒé‡ï¼ˆweightï¼‰</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>ï¼šåå·®ï¼ˆbiasï¼‰</li>\n</ul>\n<p>æ­¤æ—¶ï¼Œæœºå™¨å­¦ä¹ çš„ç›®æ ‡å°±æ˜¯å»å¯»æ‰¾åˆ°ä¸€ç»„å‚æ•° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>w</mi><mrow><mi>b</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>b</mi><mrow><mi>b</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(w_{best}, b_{best})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">b</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">b</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> ï¼Œä½¿å¾— loss æœ€å°ï¼Œä¸€ä¸ªå¯èƒ½çš„å‡½æ•°å›¾åƒä¸ºï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/onm4vf.png\" alt=\"çº¿æ€§æ–¹ç¨‹\" height=\"210\" /></p>\n<p>å¯ä»¥çœ‹åˆ°ï¼Œçº¿æ€§æ–¹ç¨‹ä¸å¤ªèƒ½æè¿°æˆ¿å±‹å¤§å°å’Œå”®ä»·çš„å…³ç³»ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬ç§°ä¸º <strong>â€œæ¬ æ‹Ÿåˆâ€</strong> ã€‚</p>\n<h2 id=\"äºŒæ¬¡æ–¹ç¨‹\"><a class=\"anchor\" href=\"#äºŒæ¬¡æ–¹ç¨‹\">#</a> äºŒæ¬¡æ–¹ç¨‹</h2>\n<p>å°è¯•ç”¨äºŒæ¬¡å‡½æ•°å»æè¿°äºŒè€…å…³ç³»ï¼Œä¾‹å¦‚ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>b</mi><mo>+</mo><msub><mi>w</mi><mn>1</mn></msub><mi>x</mi><mo>+</mo><msub><mi>w</mi><mn>2</mn></msub><msup><mi>x</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">y = b + w_1x + w_2x^2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.77777em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.73333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0141079999999998em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>é‚£ä¹ˆæœºå™¨å­¦ä¹ çš„ç›®æ ‡å°±æ˜¯æ‰¾åˆ°ä¸€ç»„å‚æ•° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>w</mi><mrow><mn>1</mn><mi>b</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>w</mi><mrow><mn>2</mn><mi>b</mi><mi>e</mi><mi>s</mi><mi>t</mi></mrow></msub><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(w_{1best}, w_{2best}, b)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mord mathnormal mtight\">b</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.33610799999999996em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span><span class=\"mord mathnormal mtight\">b</span><span class=\"mord mathnormal mtight\">e</span><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span></span></span></span> ä½¿ loss æœ€å°ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå¯å­¦ä¹ çš„å‚æ•°å¤šäº†ä¸€ä¸ªï¼Œæ¨¡å‹çš„å­¦ä¹ èƒ½åŠ›ä¹Ÿä¼šå¢å¼ºï¼Œç†è®ºæ¥è¯´ï¼Œæœºå™¨å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æ›´å¼ºçš„æè¿°èƒ½åŠ›çš„å‡½æ•°ï¼Œæ­¤æ—¶ï¼Œå­¦ä¹ åˆ°çš„æ¨¡å‹çš„å‡½æ•°å›¾åƒå¯èƒ½ä¸ºï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/9ratys.jpg\" alt=\"äºŒæ¬¡æ–¹ç¨‹\" height=\"210\" /></p>\n<p>å¯ä»¥çœ‹åˆ°ï¼Œæè¿°æ•ˆæœæ›´å¥½äº†ä¸€äº›ã€‚é‚£æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„æƒ³åˆ°ï¼Œåªéœ€è¦æ›´é«˜æ¬¡çš„å¤šé¡¹å¼ï¼Œå°±å¯ä»¥è¾¾åˆ°æ›´å¥½çš„å­¦ä¹ æ•ˆæœï¼Œä¸ºäº†å¯¹æ¯”æ˜æ˜¾ä¸€ç‚¹ï¼Œæˆ‘ä»¬çœ‹çœ‹é€‰ç”¨å…«æ¬¡å¤šé¡¹å¼ä½œä¸ºæ¨¡å‹æ—¶çš„æ•ˆæœã€‚</p>\n<h2 id=\"å…«æ¬¡å¤šé¡¹å¼\"><a class=\"anchor\" href=\"#å…«æ¬¡å¤šé¡¹å¼\">#</a> å…«æ¬¡å¤šé¡¹å¼</h2>\n<p>å½“åˆ©ç”¨å…«æ¬¡å¤šé¡¹å¼æ¥æè¿°äºŒè€…å…³ç³»æ—¶ï¼Œæœºå™¨å¯å­¦ä¹ çš„å‚æ•°å°±æœ‰ 9 ä¸ªï¼Œå­¦ä¹ èƒ½åŠ›å¤§å¤§æå‡ï¼Œå…«æ¬¡å¤šé¡¹å¼å½¢å¦‚ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>y</mi><mo>=</mo><mi>b</mi><mo>+</mo><msub><mi>w</mi><mn>1</mn></msub><mi>x</mi><mo>+</mo><msub><mi>w</mi><mn>2</mn></msub><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo>+</mo><msub><mi>w</mi><mn>8</mn></msub><msup><mi>x</mi><mn>8</mn></msup></mrow><annotation encoding=\"application/x-tex\">y = b + w_1x+w_2x^2+...+w_8x^8\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.77777em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.73333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0141079999999998em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mord\">.</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0141079999999998em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">8</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">8</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>æ­¤æ—¶ï¼Œå­¦ä¹ åˆ°çš„æ¨¡å‹çš„å‡½æ•°å›¾åƒå¯èƒ½ä¸ºï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/gprobe.png\" alt=\"8æ¬¡å¤šé¡¹å¼\" height=\"210\" /></p>\n<p>ç”±äºæˆ‘è¿™é‡Œçš„æ•°æ®ç‚¹æ¯”è¾ƒå°‘ï¼Œç†è®ºæ¥è¯´å…«æ¬¡å¤šé¡¹å¼å·²ç»å¯ä»¥è¿‘ä¹å®Œç¾çš„æ‹Ÿåˆå‡ºæ ·ä¾‹çš„å‡½æ•°æ›²çº¿äº†ï¼Œäº‹å®ä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°äº†æ­¤æ—¶çš„æ›²çº¿ä¸­ï¼Œåœ¨éƒ¨åˆ†é¢ç§¯ä¸‹ï¼Œå”®ä»·ç”šè‡³å‡ºç°äº†è´Ÿæ•°çš„æƒ…å†µï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯èƒ½ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬ç§°ä¸º <strong>â€œè¿‡æ‹Ÿåˆâ€</strong>ã€‚</p>\n<h1 id=\"æ­£åˆ™åŒ–\"><a class=\"anchor\" href=\"#æ­£åˆ™åŒ–\">#</a> æ­£åˆ™åŒ–</h1>\n<p>æ­£åˆ™åŒ–å°±æ˜¯ä¸ºäº†è§£å†³æ¨¡å‹çš„è¿‡æ‹Ÿåˆé—®é¢˜è€Œæå‡ºçš„ï¼Œå›é¡¾æˆ‘ä»¬çš„ loss å‡½æ•°ï¼ˆç”¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span></span></span></span> ä»£æŒ‡ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> çš„å®é™…å€¼ï¼‰ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>L</mi><mo>=</mo><mo>âˆ‘</mo><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mo>âˆ’</mo><mi>y</mi><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>=</mo><mo>âˆ‘</mo><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mo>âˆ’</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo>+</mo><mo>âˆ‘</mo><msub><mi>w</mi><mi>i</mi></msub><mi>x</mi><mo stretchy=\"false\">)</mo><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">L = \\sum (\\hat y - y)^2 = \\sum (\\hat y -(b + \\sum w_ix))^2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.6000100000000002em;vertical-align:-0.55001em;\"></span><span class=\"mop op-symbol large-op\" style=\"position:relative;top:-0.000004999999999977245em;\">âˆ‘</span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1141079999999999em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.6000100000000002em;vertical-align:-0.55001em;\"></span><span class=\"mop op-symbol large-op\" style=\"position:relative;top:-0.000004999999999977245em;\">âˆ‘</span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.6000100000000002em;vertical-align:-0.55001em;\"></span><span class=\"mop op-symbol large-op\" style=\"position:relative;top:-0.000004999999999977245em;\">âˆ‘</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ä¸ª <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi><mo>âˆ‘</mo><mo stretchy=\"false\">(</mo><msub><mi>w</mi><mi>i</mi></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\lambda \\sum(w_i)^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064118em;vertical-align:-0.25001em;\"></span><span class=\"mord mathnormal\">Î»</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">âˆ‘</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> é¡¹ï¼Œæ­¤æ—¶å…¬å¼å˜ä¸ºï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>L</mi><mo>=</mo><mo>âˆ‘</mo><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mo>âˆ’</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo>+</mo><mo>âˆ‘</mo><msub><mi>w</mi><mi>i</mi></msub><mi>x</mi><mo stretchy=\"false\">)</mo><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup><mo>+</mo><mi>Î»</mi><mo>âˆ‘</mo><mo stretchy=\"false\">(</mo><msub><mi>w</mi><mi>i</mi></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">L = \\sum (\\hat y -(b + \\sum w_ix))^2 + \\lambda \\sum(w_i)^2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.6000100000000002em;vertical-align:-0.55001em;\"></span><span class=\"mop op-symbol large-op\" style=\"position:relative;top:-0.000004999999999977245em;\">âˆ‘</span><span class=\"mopen\">(</span><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.6000100000000002em;vertical-align:-0.55001em;\"></span><span class=\"mop op-symbol large-op\" style=\"position:relative;top:-0.000004999999999977245em;\">âˆ‘</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.6000100000000002em;vertical-align:-0.55001em;\"></span><span class=\"mord mathnormal\">Î»</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol large-op\" style=\"position:relative;top:-0.000004999999999977245em;\">âˆ‘</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<p>å¼•å…¥çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi><mo>âˆ‘</mo><mo stretchy=\"false\">(</mo><msub><mi>w</mi><mi>i</mi></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\lambda \\sum(w_i)^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064118em;vertical-align:-0.25001em;\"></span><span class=\"mord mathnormal\">Î»</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:-0.0000050000000000050004em;\">âˆ‘</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> é¡¹ï¼ˆç§°ä¸ºæ­£åˆ™é¡¹ï¼‰ï¼Œæ˜¯ç”¨äºé™åˆ¶äº† <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">w_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> çš„å¤§å°çš„ï¼Œæˆ‘ä»¬å¸Œæœ› <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">w_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> å°½å¯èƒ½çš„å°ï¼Œæ¥ä½¿å¾—æ›²çº¿ç›¸å¯¹æ›´åŠ å¹³æ»‘ã€‚æˆ‘ä»¬çœ‹å…«æ¬¡å¤šé¡¹å¼çš„æ‹Ÿåˆæ›²çº¿ï¼ŒæŸç§æ„ä¹‰ä¸Šæ¥è¯´ï¼Œå°±æ˜¯å› ä¸ºæ›²çº¿å¤ªé™¡å³­ï¼Œå˜åŒ–å¤ªè¿‡å‰§çƒˆï¼Œæ‰å¯¼è‡´å¯¹æ˜¾ç¤ºæƒ…å†µçš„æè¿°çš„å¤±çœŸï¼Œåœ¨å®é™…ä¸­ï¼Œå˜åŒ–ä¸€èˆ¬éƒ½æ˜¯ç›¸å¯¹å¹³ç¼“çš„ï¼Œæ‰€ä»¥ï¼Œæ›´åŠ å¹³æ»‘çš„æ›²çº¿ä¸€èˆ¬æ¥è¯´ä¼šæ›´åŠ è´´è¿‘ç°å®ä¸€äº›ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆã€‚</p>\n<p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬è¿½æ±‚çš„æ˜¯æ›²çº¿çš„ <strong>â€œç›¸å¯¹â€</strong> å¹³æ»‘ï¼Œè€Œé <strong>â€œç»å¯¹â€</strong> å¹³æ»‘ï¼Œç›´çº¿å°±æ˜¯æœ€å¹³æ»‘çš„æ›²çº¿äº†ï¼Œä½†å¹¶ä¸èƒ½å¾ˆå¥½çš„æè¿°ç°å®ã€‚é‚£ä¹ˆï¼Œ<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span> å°±æ˜¯ç”±äºæ§åˆ¶è¿™ä¸ªå¹³æ»‘ç¨‹åº¦çš„ï¼Œç§°ä¸º <strong>â€œæ­£åˆ™åŒ–å‚æ•°â€</strong> ã€‚å¦‚æœ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span> éå¸¸ä¸‹ï¼Œæ¨¡å‹ç›¸å½“äºåŸºæœ¬æ²¡æœ‰è¢«ä¿®æ­£ï¼›å¦‚æœ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span> éå¸¸å¤§ï¼Œloss æƒ³æ›´å°åªèƒ½è®© <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>â†’</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">w_i  \\rightarrow 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.58056em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†’</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">0</span></span></span></span> ï¼Œæ­¤æ—¶å¯»æ‰¾åˆ°çš„æ¨¡å‹å°±ä¼šè¶‹å‘äºä¸€æ¡ç›´çº¿ï¼Œæ‰€ä»¥ï¼Œåœ¨å®é™…æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é€‰å–åˆé€‚çš„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span> å€¼ã€‚</p>\n<p>ä»¥ä¸Šå°±æ˜¯æ­£åˆ™åŒ–çš„åŸºæœ¬æ€æƒ³ï¼Œæ­£åˆ™é¡¹å…¶å®é™åˆ¶äº†æ¨¡å‹çš„å¤æ‚ç¨‹åº¦ï¼Œå¼•å…¥æ­£åˆ™åŒ–åï¼Œæœºå™¨éœ€è¦æ‰¾åˆ°ä¸€ä¸ª <strong>é€‰æ‹©ç»éªŒé£é™©</strong>ï¼ˆç¬¬ä¸€é¡¹ï¼‰å’Œ <strong>æ¨¡å‹å¤æ‚åº¦</strong>ï¼ˆæ­£åˆ™é¡¹ï¼‰åŒæ—¶è¾ƒå°çš„æ¨¡å‹ï¼Œä»è€Œé™ä½äº† â€œè¿‡æ‹Ÿåˆâ€ çš„é£é™©ã€‚</p>\n<p>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ­£åˆ™é¡¹ä¸­æ— éœ€åŒ…å«å‚æ•° <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>ï¼Œå› ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> çš„æ”¹å˜åªä¼šè®©æ›²çº¿å¹³ç§»è€Œå·²ï¼Œå¯¹äºæ›²çº¿æœ¬èº«çš„å½¢æ€ä¸äº§ç”Ÿå½±å“ï¼Œæ‰€ä»¥æ­£åˆ™é¡¹æ— éœ€åŒ…å«ã€‚</p>\n<p>å¸¸è§çš„æœ‰æ­£åˆ™é¡¹æœ‰ <strong>L1 æ­£åˆ™</strong> å’Œ <strong>L2 æ­£åˆ™</strong> ï¼Œå…¶ä¸­ L2 æ­£åˆ™ çš„æ§åˆ¶è¿‡æ‹Ÿåˆçš„æ•ˆæœæ¯” L1 æ­£åˆ™ çš„å¥½ã€‚è¿™ä¸¤ä¸ªæ­£åˆ™é¡¹åœ¨æ¡†æ¶ä¸­éƒ½å·²ç»å®ç°äº†ï¼Œç›´æ¥ç”¨å°±å¯ä»¥äº†ï¼Œå°±ä¸è¿‡å¤šèµ˜è¿°äº†ã€‚å½“ç„¶ï¼Œæ§åˆ¶è¿‡æ‹Ÿåˆé£é™©çš„æ–¹æ³•è¿˜æœ‰ <strong>Dropout</strong>ï¼Œæˆ‘è§‰å¾—ä¼šæ›´å¥½ç”¨ä¸€äº›ã€‚</p>\n<h1 id=\"ç”»å›¾æ‰€ç”¨ç½‘ç«™\"><a class=\"anchor\" href=\"#ç”»å›¾æ‰€ç”¨ç½‘ç«™\">#</a> ç”»å›¾æ‰€ç”¨ç½‘ç«™</h1>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5xaW5tcy5jb20vd2ViYXBwL2N1cnZlZml0L2NmLmFzcHg=\">http://www.qinms.com/webapp/curvefit/cf.aspx</span></li>\n</ul>\n",
            "tags": [
                "æœºå™¨å­¦ä¹ ",
                "æœºå™¨å­¦ä¹ ",
                "æ·±åº¦å­¦ä¹ ",
                "æ­£åˆ™åŒ–"
            ]
        },
        {
            "id": "https://gality.cn/misc/trail-and-error/Mac-Latex/",
            "url": "https://gality.cn/misc/trail-and-error/Mac-Latex/",
            "title": "Macä¸‹Latexè®ºæ–‡ä¸€æ¡é¾™",
            "date_published": "2023-10-23T12:12:12.000Z",
            "content_html": "<div class=\"note info no-icon\">\n<p>å…ˆè¯´æœ€ç»ˆç»“è®ºï¼š</p>\n<ul>\n<li>Visual Studio Codeï¼šLaTex è®ºæ–‡ç¼–å†™ IDE</li>\n<li>MacTexï¼šLaTex ç¼–è¯‘å¼•æ“</li>\n<li>Zoteroï¼šè®ºæ–‡ç®¡ç†å·¥å…·</li>\n<li>vscode æ’ä»¶ï¼š\n<ul>\n<li>LaTex Workshopï¼šä½¿ç”¨ VSCode ç¼–å†™ LaTex çš„æ ¸å¿ƒæ’ä»¶ï¼Œå¿…éœ€</li>\n<li>LaTex Utilitiesï¼šåŸºäº LaTex Workshop çš„å¢å¼ºæ’ä»¶ï¼Œéå¿…éœ€</li>\n<li>Code Spell Checkerï¼šè‡ªåŠ¨æ‹¼å†™æ£€æŸ¥æ’ä»¶ï¼Œéå¿…éœ€</li>\n<li>Ultra Math Previewï¼šæ•°å­¦å…¬å¼è‡ªåŠ¨é¢„è§ˆæ’ä»¶ï¼Œéå¿…éœ€</li>\n</ul>\n</li>\n</ul>\n</div>\n<div class=\"note primary no-icon\">\n<p>æ‡’ç‹—çœ‹è¿™é‡Œï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3ZlcmxlYWYuY29tLw==\">åœ¨çº¿ LaTex ç¼–è¾‘å™¨</span></p>\n<p>å¼€ç®±å³ç”¨ï¼ŒåŒ…å«äº†ç¼–è¾‘ LaTex æ‰€éœ€è¦çš„ä¸€åˆ‡ï¼Œè¿˜æ˜¯åœ¨çº¿ç¼–è¯‘ä¿å­˜ï¼Œå¦‚æœä¸æ˜¯åƒæˆ‘ä¸€æ ·å°±å–œæ¬¢åœ¨æœ¬åœ°ç¼–å†™çš„è¯å¯ä»¥é€‰ç”¨è¿™ä¸ªã€‚</p>\n</div>\n<h1 id=\"ç¯å¢ƒ\"><a class=\"anchor\" href=\"#ç¯å¢ƒ\">#</a> ç¯å¢ƒ</h1>\n<h2 id=\"visual-studio-code\"><a class=\"anchor\" href=\"#visual-studio-code\">#</a> Visual Studio Code</h2>\n<p>è·¨ç¯å¢ƒ IDEï¼Œè‡ªèº«éå¸¸è½»é‡çš„åŒæ—¶ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸°å¯Œçš„æ‰©å±•æ’ä»¶æ¥æ”¯æŒå„ç§è¯­è¨€ï¼Œå®‰è£…è¿‡ç¨‹å°±æ˜¯ä¸‹è½½ç‚¹å‡»ï¼Œéå¸¸ç®€å•ï¼Œå°±ä¸è¿‡å¤šèµ˜è¿°äº†ã€‚</p>\n<h2 id=\"mactex\"><a class=\"anchor\" href=\"#mactex\">#</a> MacTex</h2>\n<p>Mac ç¯å¢ƒä¸‹çš„ LaTex ç¼–è¯‘å¼•æ“ï¼Œå°† LaTex ç¼–è¯‘æˆ pdf çš„å¿…éœ€æ ¸å¿ƒã€‚</p>\n<p>ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly90dWcub3JnL21hY3RleC9tYWN0ZXgtZG93bmxvYWQuaHRtbA==\">https://tug.org/mactex/mactex-download.html</span></p>\n<p>ä¸‹è½½ååŒæ ·æ˜¯ç‚¹å‡»å®‰è£…ï¼Œä½†æ˜¯å®‰è£…ç¨‹åºæœ¬èº«æ²¡æœ‰è‡ªåŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥è¯´ï¼Œå¦‚æœæƒ³è·Ÿ VSCode è”åˆä½¿ç”¨çš„è¯ï¼Œè¿˜éœ€è¦è‡ªè¡Œæ·»åŠ ç¯å¢ƒå˜é‡ã€‚å°± 2023 å¹´è€Œè¨€ï¼Œé»˜è®¤å®‰è£…åœ°å€ä¸ºï¼š <code>/usr/local/texlive/2023/</code> ï¼Œå…¶åº”ç”¨çš„ä½ç½®ä¸ºï¼š <code>./bin/universal-darwin</code> ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤æ·»åŠ ç¯å¢ƒå˜é‡ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"export PATH=/usr/local/texlive/2023/bin/universal-darwin:<span class=\"token variable\">$&#123;<span class=\"token environment constant\">PATH</span>&#125;</span>\"</span> <span class=\"token operator\">>></span> ~/.zshrc</pre></td></tr></table></figure><h2 id=\"zotero\"><a class=\"anchor\" href=\"#zotero\">#</a> Zotero</h2>\n<p>Zotero æ˜¯ä¸€ä¸ªå…è´¹ã€å¼€æºã€æ˜“ç”¨çš„æ–‡çŒ®ç®¡ç†è½¯ä»¶ï¼Œå¯ä»¥é«˜æ•ˆçš„ç»„ç»‡éœ€è¦çš„æ–‡çŒ®ï¼Œé…åˆæµè§ˆå™¨æ’ä»¶å¯ä»¥ä¸€é”®å°† Web ä¸­çš„è®ºæ–‡ä¿å­˜åˆ° Zotero ä¸­ï¼Œç»“åˆ Better BibTeX for Zotero è¿˜å¯ä»¥ä¾¿æ·çš„å°†è®ºæ–‡å¼•ç”¨åˆ°æ–‡ç« ä¸­ã€‚</p>\n<p>ä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuem90ZXJvLm9yZy9kb3dubG9hZC8=\">https://www.zotero.org/download/</span></p>\n<p>æµè§ˆå™¨æ’ä»¶å®‰è£…åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvem90ZXJvLWNvbm5lY3Rvci9la2hhZ2tsY2piZHBhamdwamdtYmlvbm9obHBkYmpnYw==\">https://chrome.google.com/webstore/detail/zotero-connector/ekhagklcjbdpajgpjgmbionohlpdbjgc</span></p>\n<h2 id=\"vscode-æ’ä»¶\"><a class=\"anchor\" href=\"#vscode-æ’ä»¶\">#</a> VSCode æ’ä»¶</h2>\n<p>VSCode çš„æ’ä»¶éƒ½æ˜¯åœ¨æ’ä»¶å¸‚åœºä¸­ç‚¹å‡»å®‰è£…çš„ï¼Œæ‰€ä»¥å®‰è£…è¿‡ç¨‹å°±ä¸ç»†è¯´äº†ã€‚</p>\n<h3 id=\"latex-workshop\"><a class=\"anchor\" href=\"#latex-workshop\">#</a> LaTex Workshop</h3>\n<p>ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹éƒ½æ¯”è¾ƒè€äº†ï¼Œè¯´æ˜¯éœ€è¦é…ç½®ä¸€å¤§å †ä¸œè¥¿ï¼Œä½†å…¶å®ç°åœ¨çš„ LaTex Workshop çš„é»˜è®¤é…ç½®å·²ç»å¾ˆå¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹é…ç½®æ–‡ä»¶çš„ç¼–è¯‘å·¥å…· <code>latex-workshop.latex.tools</code>  ç¨åšä¿®æ”¹å³å¯ï¼š</p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token property\">\"latex-workshop.latex.tools\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>          <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"latexmk\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>          <span class=\"token property\">\"command\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"latexmk\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>          <span class=\"token property\">\"args\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token string\">\"-synctex=1\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            <span class=\"token string\">\"-interaction=nonstopmode\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token string\">\"-file-line-error\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token string\">\"-xelatex\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token string\">\"-outdir=%OUTDIR%\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token string\">\"-cd\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token string\">\"%DOC%\"</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>          <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>          <span class=\"token property\">\"env\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token property\">\"latex-workshop.synctex.afterBuild.enabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>å¦å¤–ï¼Œé…ç½®ç¼–è¯‘å®Œæˆåå°† pdf è‡ªåŠ¨åŒæ­¥åˆ°ä»£ç ä¸­å…‰æ ‡ä½ç½®ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/tdeh1n.png\" alt=\"é…ç½®\" /></p>\n<p>å¾ˆå¤šæ•™ç¨‹ä¸­è¿˜ä½¿ç”¨åˆ°äº†å¤–éƒ¨çš„ pdf æµè§ˆå·¥å…·ä¾‹å¦‚ skim ç­‰ï¼Œå®é™…æµ‹è¯•ä¸­å†…ç½® pdf æµè§ˆå™¨åŠŸèƒ½å·²ç»è¶³å¤Ÿå¼ºå¤§äº†ï¼Œä¸ªäººè®¤ä¸ºæ— éœ€é¢å¤–ä¸‹è½½ pdf å·¥å…·å¹¶é…ç½®ã€‚</p>\n<h3 id=\"latex-utilities\"><a class=\"anchor\" href=\"#latex-utilities\">#</a> LaTex Utilities</h3>\n<p>å¯¹ LaTex Workshop çš„åŠŸèƒ½è¿›è¡Œå¢å¼ºï¼Œé…åˆ Better BibTeX for Zotero å’Œ Zotero å¯ä»¥ä¾¿æ·çš„è¿›è¡Œè®ºæ–‡å¼•ç”¨ã€‚æ€»ä¹‹ï¼Œå®‰è£…å°±å¯¹äº†ã€‚</p>\n<h3 id=\"code-spell-checker\"><a class=\"anchor\" href=\"#code-spell-checker\">#</a> Code Spell Checker</h3>\n<p>è‹±è¯­å•è¯æ‹¼å†™æ£€æŸ¥æ’ä»¶ï¼Œä¸ªäººè§‰å¾—è¿˜æ˜¯æŒºæœ‰ç”¨çš„ï¼Œå¹³æ—¶åœ¨æ‰“è‹±æ–‡çš„æ—¶å€™å¶å°”è„‘å­æŠ½ç­‹ï¼Œæ‰“é”™äº†åˆä¸å®¹æ˜“çœ‹å‡ºæ¥ï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥å¾ˆå¥½çš„å¸®åŠ©åˆ°æˆ‘ã€‚</p>\n<h3 id=\"ultra-math-preview\"><a class=\"anchor\" href=\"#ultra-math-preview\">#</a> Ultra Math Preview</h3>\n<p>å®æ—¶æ•°å­¦å…¬å¼é¢„è§ˆæ’ä»¶ï¼Œæ’ä»¶è¯´æ˜ä¸­æœ‰è¯¦ç»†çš„æ¼”ç¤ºï¼Œå¯¹äºæˆ‘è¿™ç§åˆå­¦ LaTex å…¬å¼ã€æ ¹æœ¬å¯¹äºè‡ªå·±æ‰“çš„æ˜¯ä»€ä¹ˆæ²¡å¤ªå¤§æ¦‚å¿µçš„äººå¾ˆæœ‰å¸®åŠ©ï¼Œæ— éœ€ç­‰å¾…ç¼–è¯‘çœ‹ç»“æœäº†ï¼Œæ•°å­¦å…¬å¼å¯ä»¥è¯•è¯•åé¦ˆã€‚</p>\n<h1 id=\"ä½¿ç”¨\"><a class=\"anchor\" href=\"#ä½¿ç”¨\">#</a> ä½¿ç”¨</h1>\n<p>æˆ‘ä»¬ä»¥ IEEE çš„æ¨¡ç‰ˆä¸ºä¾‹æ¥æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ã€‚</p>\n<p>å®˜æ–¹æ¨¡ç‰ˆä¸‹è½½åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuaWVlZS5vcmcvY29udGVudC9kYW0vaWVlZS1vcmcvaWVlZS93ZWIvb3JnL3B1YnMvY29uZmVyZW5jZS1sYXRleC10ZW1wbGF0ZV8xMC0xNy0xOS56aXA=\">https://www.ieee.org/content/dam/ieee-org/ieee/web/org/pubs/conference-latex-template_10-17-19.zip</span></p>\n<p>ä¸‹è½½è§£å‹åï¼Œç›´æ¥åœ¨ VSCode ä¸­æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œå½“ VSCode æ£€æµ‹åˆ° LaTex ç›¸å…³æ–‡ä»¶åï¼Œä¼šåœ¨å³è¾¹æ˜¾ç¤ºå‡º <code>TEX</code>  çš„æ ‡ç­¾</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/48ni7f.jpg\" alt=\"ç•Œé¢å›¾\" /></p>\n<p>åœ¨ <code>TEX</code>  é¡µé¢æœ‰æ›´å¤šåŠŸèƒ½ä¸”å¸¦æœ‰è¯´æ˜ï¼Œå¯æ ¹æ®è¯´æ˜è‡ªè¡Œæ¢ç´¢ï¼š</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/b1g359.jpg\" alt=\"Texç•Œé¢\" /></p>\n<h1 id=\"å¿«æ·é”®\"><a class=\"anchor\" href=\"#å¿«æ·é”®\">#</a> å¿«æ·é”®</h1>\n<p>ä¸€äº›ä½¿ç”¨ä¸­çš„ Tipsï¼š</p>\n<ul>\n<li>æ­£å‘å®šä½ï¼š<span class=\"kbd\">âŒ˜</span> + <span class=\"kbd red\">âŒ¥</span> +  <span class=\"kbd purple\">J</span> å°† pdf å®šä½åˆ°ä»£ç ä¸­å…‰æ ‡ä½ç½®ã€‚</li>\n<li>åå‘å®šä½ï¼šåœ¨å†…ç½® pdf é¢„è§ˆä¸­ä½¿ç”¨ <span class=\"kbd\">âŒ˜</span> + <span class=\"kbd red\">å·¦é”®</span> ç‚¹å‡»å•è¯ï¼Œå®ç°åå‘å®šä½ <code>.tex</code>  ä¸­ä»£ç ä½ç½®ã€‚</li>\n<li>æ‹¼å†™çº é”™ï¼šå…‰æ ‡ç§»åŠ¨åˆ°æœ‰é—®é¢˜çš„æ‹¼å†™ä¸Šï¼Œä½¿ç”¨ <span class=\"kbd\">âŒ˜</span> + <span class=\"kbd red\">.</span> æ˜¾ç¤ºçº æ­£å¤‡é€‰ã€‚</li>\n</ul>\n",
            "tags": [
                "æ‚é¡¹",
                "è¸©å‘",
                "æ‚é¡¹",
                "è¸©å‘",
                "Latex"
            ]
        },
        {
            "id": "https://gality.cn/ml/homework/HW-1/",
            "url": "https://gality.cn/ml/homework/HW-1/",
            "title": "æå®æ¯…ML2022-Springå¤§ä½œä¸š01ï½œCOVID-19 Cases Prediction (Regression)",
            "date_published": "2023-10-18T06:22:27.000Z",
            "content_html": "<div class=\"note info no-icon\">\n<p>æå®æ¯…è€å¸ˆ 2022 å¹´æ˜¥å­£å­¦ä¹ æœºå™¨ä¸­ç•™çš„ç¬¬ä¸€æ¬¡å¤§ä½œä¸šï¼Œéœ€è¦æ ¹æ®å„é¡¹ç–«æƒ…ç›¸å…³æ•°æ®ï¼Œè‡ªè¡Œå®ç°ç½‘ç»œç»“æ„å¹¶è®­ç»ƒæ¨¡å‹ï¼Œæœ€ç»ˆå®ç°ä¸€ä¸ªå¯ä»¥ç²¾å‡†é¢„æµ‹ç–«æƒ…å¢é•¿äººæ•°çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚</p>\n</div>\n<h1 id=\"å¤§ä½œä¸šå†…å®¹\"><a class=\"anchor\" href=\"#å¤§ä½œä¸šå†…å®¹\">#</a> å¤§ä½œä¸šå†…å®¹</h1>\n<p>æ ¹æ®äººä»¬å¡«å†™çš„æ—¥å¸¸è°ƒæŸ¥é—®å·ï¼Œè®¾è®¡å¹¶å®ç°ä¸€ä¸ªæ·±åº¦å­¦ä¹ æ¨¡å‹ç”¨äº COVID-19 æ„ŸæŸ“äººæ•°çš„é¢„æµ‹ã€‚</p>\n<p>å…·ä½“çš„ä½œä¸šæ‰‹å†Œè¯·å‚è€ƒ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jb2xhYi5yZXNlYXJjaC5nb29nbGUuY29tL2RyaXZlLzFGVGNHNkNFLUhJTG52Rnp0RUZLZGF1TWxQS2ZRdm01Wg==\">å®˜æ–¹æ‰‹å†Œ</span>ã€‚</p>\n<h2 id=\"è¯¦ç»†æè¿°\"><a class=\"anchor\" href=\"#è¯¦ç»†æè¿°\">#</a> è¯¦ç»†æè¿°</h2>\n<ul>\n<li>ç›®æ ‡ï¼šé¢„æµ‹ COVID-19 æ„ŸæŸ“äººæ•°</li>\n<li>æ•°æ®æ¥æºï¼šDelphi group @ CMUã€ŒA daily survey April 2020 via facebookã€</li>\n<li>è¾“å…¥è¾“å‡ºè¦æ±‚ï¼šæä¾›ç¾å›½æŸå·è¿‡å» 4 å¤©çš„è°ƒæŸ¥é—®å·ç»“æœï¼Œç„¶åé¢„æµ‹ç¬¬ 5 å¤©çš„æ–°å¢é˜³æ€§ç—…ä¾‹çš„ç™¾åˆ†æ¯”ã€‚</li>\n</ul>\n<h2 id=\"æ•°æ®æ ¼å¼\"><a class=\"anchor\" href=\"#æ•°æ®æ ¼å¼\">#</a> æ•°æ®æ ¼å¼</h2>\n<ul>\n<li>å·ï¼ˆ37 ä¸ªï¼Œç”¨ one-hot å‘é‡çš„æ–¹å¼ç¼–ç ï¼‰</li>\n<li>ç±»ä¼¼æ–°å† çš„ç–¾ç—…\n<ul>\n<li>cliã€ili ...</li>\n</ul>\n</li>\n<li>è¡Œä¸ºæŒ‡æ ‡\n<ul>\n<li>wearing_maskã€travel_out_state ...</li>\n</ul>\n</li>\n<li>ç²¾ç¥å¥åº·æŒ‡æ ‡\n<ul>\n<li>anxiousã€depressed ...</li>\n</ul>\n</li>\n<li>ç¡®è¯Šé˜³æ€§ç—…ä¾‹\n<ul>\n<li>Tested_positiveï¼ˆè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬å¸Œæœ›é¢„æµ‹çš„æŒ‡æ ‡ï¼‰</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"è¯„ä»·æŒ‡æ ‡\"><a class=\"anchor\" href=\"#è¯„ä»·æŒ‡æ ‡\">#</a> è¯„ä»·æŒ‡æ ‡</h2>\n<p>é‡‡ç”¨å‡æ–¹è¯¯å·®ï¼ˆMean Squared Errorï¼ŒMSEï¼‰æ¥è¯„ä»·è¯¯å·®ã€‚</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy=\"false\">)</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">MSE = {1 \\over N} \\sum_{i=1}^{N}(y_i- \\hat y_i)^2\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.106005em;vertical-align:-1.277669em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.32144em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mop op-limits\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8283360000000002em;\"><span style=\"top:-1.872331em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">i</span><span class=\"mrel mtight\">=</span><span class=\"mord mtight\">1</span></span></span></span><span style=\"top:-3.050005em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span><span class=\"mop op-symbol large-op\">âˆ‘</span></span></span><span style=\"top:-4.3000050000000005em;margin-left:0em;\"><span class=\"pstrut\" style=\"height:3.05em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10903em;\">N</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.277669em;\"><span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1141079999999999em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641079999999999em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span></span></p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">y_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼šæ¨¡å‹é¢„æµ‹å€¼</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\hat y_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.69444em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"accent-body\" style=\"left:-0.19444em;\"><span class=\"mord\">^</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.19444em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>ï¼šå®é™…å€¼</li>\n</ul>\n<h2 id=\"ä½œä¸šç›®çš„\"><a class=\"anchor\" href=\"#ä½œä¸šç›®çš„\">#</a> ä½œä¸šç›®çš„</h2>\n<ul>\n<li>é€šè¿‡æ·±åº¦ç¥ç»ç½‘ç»œï¼ˆdeep neural networksï¼ŒDNNï¼‰è§£å†³ä¸€ä¸ªå›å½’é—®é¢˜</li>\n<li>ç†è§£åŸºæœ¬çš„ DNN è®­ç»ƒæŠ€å·§\n<ul>\n<li>è¶…å‚æ•°è°ƒä¼˜ã€ç‰¹å¾é€‰æ‹©ã€æ­£åˆ™åŒ–ã€...</li>\n</ul>\n</li>\n<li>ç†Ÿæ‚‰ PyTorch</li>\n</ul>\n<hr />\n<h1 id=\"ç¯å¢ƒå‡†å¤‡\"><a class=\"anchor\" href=\"#ç¯å¢ƒå‡†å¤‡\">#</a> ç¯å¢ƒå‡†å¤‡</h1>\n<h2 id=\"conda\"><a class=\"anchor\" href=\"#conda\">#</a> Conda</h2>\n<p>æœ¬æ–‡ä¸åœ¨èµ˜è¿° Conda çš„å®‰è£…ï¼Œå‚è€ƒå¦ä¸€ç¯‡<a href=\"https://gality.cn/misc/trail-and-error/conda-mamba/\">åšå®¢</a>ã€‚</p>\n<h2 id=\"æ•°æ®é›†\"><a class=\"anchor\" href=\"#æ•°æ®é›†\">#</a> æ•°æ®é›†</h2>\n<p><code>gdown</code>  æ˜¯ä¸€ä¸ª<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3drZW50YXJvL2dkb3du\"> github é¡¹ç›®</span>ï¼Œæ˜¯ä¸€ä¸ªç”± python å®ç°çš„ä» Google Drive ä¸‹è½½å¤§æ–‡ä»¶çš„å·¥å…·ï¼ˆç”±äºå®‰å…¨ç­–ç•¥æ— æ³•ä½¿ç”¨ wget/curl è¿›è¡Œä¸‹è½½ï¼‰ã€‚å¦‚æœä¹‹å‰ä»æœªç”¨ <code>gdown</code>  ä¸‹è½½è¿‡ä¸œè¥¿ï¼Œéœ€è¦ç°åœ¨ <code>conda</code>  çš„ <code>base</code>  ç¯å¢ƒå®‰è£… <code>gdown</code> ã€‚</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mamba <span class=\"token function\">install</span> gdown</pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥ç›´æ¥ç”¨ gdown ä¸‹è½½æ–‡ä»¶äº†ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>gdown <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token builtin\">id</span> <span class=\"token string\">'1kLSW_-cW2Huj7bh84YTdimGBOJaODiOS'</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>output covid<span class=\"token punctuation\">.</span>train<span class=\"token punctuation\">.</span>csv</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>down <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token builtin\">id</span> <span class=\"token string\">'1iiI5qROrAhZn-o4FPqsE97bMzDEFvIdg'</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span>output covid<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>csv</pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œå°±å¾—åˆ°äº†è®­ç»ƒæ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†ã€‚</p>\n<h2 id=\"ä¾èµ–åº“\"><a class=\"anchor\" href=\"#ä¾èµ–åº“\">#</a> ä¾èµ–åº“</h2>\n<p>ä½œä¸šéœ€è¦ä¾èµ–ä¸€äº›åº“ï¼Œæå‰å®‰è£…ä¸€ä¸‹ï¼Œä½œä¸šä¸­ç»™å‡ºäº† <code>import</code>  éƒ¨åˆ†çš„ä»£ç ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Numerical Operations</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> math</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># Reading/Writing Data</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> os</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> csv</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># For Progress Bar</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">from</span> tqdm <span class=\"token keyword\">import</span> tqdm</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># Pytorch</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">import</span> torch </pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">import</span> torch<span class=\"token punctuation\">.</span>nn <span class=\"token keyword\">as</span> nn</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">from</span> torch<span class=\"token punctuation\">.</span>utils<span class=\"token punctuation\">.</span>data <span class=\"token keyword\">import</span> Dataset<span class=\"token punctuation\">,</span> DataLoader<span class=\"token punctuation\">,</span> random_split</pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># For plotting learning curve</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">from</span> torch<span class=\"token punctuation\">.</span>utils<span class=\"token punctuation\">.</span>tensorboard <span class=\"token keyword\">import</span> SummaryWriter</pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\"># For plot</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt</pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">import</span> seaborn <span class=\"token keyword\">as</span> sns</pre></td></tr></table></figure><p>å› æ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…å¯¹åº”çš„åº“ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mamba create <span class=\"token parameter variable\">-n</span> MLlearnEnv <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span><span class=\"token number\">3.9</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>conda activate MLlearnEnv</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>mamba <span class=\"token function\">install</span> pytorch::pytorch torchvision torchaudio <span class=\"token parameter variable\">-c</span> pytorch</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>mamba <span class=\"token function\">install</span> pandas tqdm packaging tensorboard matplotlib seaborn</pre></td></tr></table></figure><p>æ³¨æ„ï¼Œç”±äºç”µè„‘åŸå› ï¼Œè¿™é‡Œå®‰è£… PyTorch çš„å‘½ä»¤æ˜¯å®‰è£… CPU ç‰ˆæœ¬çš„ï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´ CPU çš„ç®—åŠ›å…¶å®å·²ç»å¤Ÿäº†ï¼Œå¦‚æœå®‰è£… GPU ç‰ˆæœ¬éœ€è¦å»å¯¹åº”å®‰è£… CUDA é©±åŠ¨ï¼Œæ‰€ä»¥å…·ä½“å®‰è£…å‘½ä»¤è¯·å‚è€ƒ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9weXRvcmNoLm9yZy8=\"> PyTorch å®˜ç½‘</span>ã€‚</p>\n<h1 id=\"çŸ¥è¯†å‡†å¤‡\"><a class=\"anchor\" href=\"#çŸ¥è¯†å‡†å¤‡\">#</a> çŸ¥è¯†å‡†å¤‡</h1>\n<p>è¿™é‡Œä»…å¯¹å·²ç»™å‡ºçš„æºä»£ç è¿›è¡Œè§£é‡Šï¼Œè¯·è‡ªè¡Œè¿›è¡Œæˆä½“ç³»çš„å·¥å…·å­¦ä¹ ã€‚</p>\n<h2 id=\"å¯è§†åŒ–\"><a class=\"anchor\" href=\"#å¯è§†åŒ–\">#</a> å¯è§†åŒ–</h2>\n<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>tensorboard</code>  æ¥å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹ï¼Œä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨ä½œä¸šç›®å½•ä¸‹æ‰§è¡Œï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>tensorboard <span class=\"token parameter variable\">--logdir</span><span class=\"token operator\">=</span>runs</pre></td></tr></table></figure><p><code>logdir</code>  æŒ‡å‘è®­ç»ƒè¿‡ç¨‹ä¸­ç”Ÿæˆçš„è¿è¡Œæ•°æ®æ–‡ä»¶å¤¹ï¼Œé»˜è®¤ä¸º <code>./runs</code> ã€‚</p>\n<p>æ‰§è¡Œåä¼šåœ¨æœ¬åœ°ç›‘å¬ <code>6006</code>  ç«¯å£ï¼Œè®¿é—®å¯¹åº”çš„ web é¡µé¢å³å¯çœ‹åˆ°è®­ç»ƒè¿‡ç¨‹çš„å›¾è¡¨ã€‚</p>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/70c9ny.png\" alt=\"tensorboard\" /></p>\n<h2 id=\"å®ç”¨å‡½æ•°\"><a class=\"anchor\" href=\"#å®ç”¨å‡½æ•°\">#</a> å®ç”¨å‡½æ•°</h2>\n<p>é’ˆå¯¹æºä»£ç ç»™å‡ºçš„æ— éœ€ä¿®æ”¹çš„å·¥å…·å‡½æ•°ï¼Œç®€å•åšä¸€äº›è§£é‡Šã€‚</p>\n<h3 id=\"è®¾ç½®éšæœºæ•°ç§å­\"><a class=\"anchor\" href=\"#è®¾ç½®éšæœºæ•°ç§å­\">#</a> è®¾ç½®éšæœºæ•°ç§å­</h3>\n<p>ä¸ºäº†ä¿è¯ reproducibilityï¼ˆå¯å¤ç°æ€§ï¼‰ï¼Œéœ€è¦è®¾ç½®éšæœºæ•°ç”Ÿæˆç§å­ï¼Œ<span class=\"exturl\" data-url=\"aHR0cHM6Ly9weXRvcmNoLm9yZy9kb2NzL3N0YWJsZS9ub3Rlcy9yYW5kb21uZXNzLmh0bWw=\">å®˜æ–¹æ–‡æ¡£</span>ç»™å‡ºäº†è¯¦ç»†è§£é‡Šï¼Œè¿™é‡Œç®€å•è¯´æ˜ä¸€ä¸‹ã€‚</p>\n<div class=\"note info no-icon\">\n<p>ç”±äºæœºå™¨å­¦ä¹ ä¸­æ¶‰åŠåˆ°å¾ˆå¤šéšæœºæ•°å’Œéšæœºè¿‡ç¨‹ï¼Œé‚£ä¹ˆè¿™äº›éšæœºæ•°å’Œéšæœºè¿‡ç¨‹å°±å¯èƒ½ç›´æ¥å¯¹ç»“æœäº§ç”Ÿå½±å“ï¼Œä»å®éªŒçš„å¯å¤ç°æ€§æ¥è®²ï¼Œæˆ‘ä»¬å¸Œæœ›åŒä¸€ä¸ªä»£ç çš„å¤šæ¬¡è¿è¡Œç»“æœæ˜¯ä¸€è‡´çš„ï¼Œæˆ‘ä»¬åˆ†åˆ«è®¨è®ºã€‚</p>\n<ul>\n<li>\n<p><strong>éšæœºæ•°</strong>ï¼šè®¡ç®—æœºç”Ÿæˆéšæœºæ•°çš„æ–¹æ³•å…¶å®æ˜¯æ ¹æ®ä¸€ä¸ªéšæœºæ•° â€œç§å­â€ï¼Œç„¶åä»¥æŸç§ç¡®å®šæ€§çš„ç®—æ³•æ¥å®ç°çš„ï¼Œè¿™ä¸ªç§å­å¸¸å¸¸æ˜¯ä¸€ä¸ªå˜åŒ–çš„å€¼ï¼ˆä¾‹å¦‚æ—¶é—´æˆ³ï¼‰ï¼Œä»¥æ­¤æ¥ä¿è¯ç”Ÿæˆçš„éšæœºåºåˆ—ä¸å¯é¢„æµ‹ã€‚é‚£ä¹ˆåœ¨å½“å‰ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç»™å®šä¸€ä¸ªéšæœºæ•°ç§å­çš„æ–¹å¼æ¥å°½å¯èƒ½çš„ä¿è¯éšæœºæ•°åºåˆ—ç›¸åŒï¼Œå‡å°‘å¯¹å¯å¤ç°æ€§çš„å¹²æ‰°ã€‚</p>\n<p>ç”±äºç¨‹åºä¸­å¯èƒ½æ¶‰åŠåˆ°å¤šä¸ªåº“ï¼Œè€Œä¸åŒåº“åˆé‡‡ç”¨ä¸åŒçš„éšæœºæ•°ç”Ÿæˆå™¨ï¼Œæ‰€ä»¥éœ€è¦åˆ†åˆ«å¯¹æ‰€æœ‰æ¶‰åŠåˆ°çš„åº“è®¾ç½®éšæœºæ•°ç§å­ï¼Œå¦‚ä»£ç ä¸­å°±åŒæ—¶è®¾ç½®äº† <code>PyTorch</code>  å’Œ <code>numpy</code>  çš„ç§å­ã€‚</p>\n</li>\n<li>\n<p><strong>éšæœºè¿‡ç¨‹</strong>ï¼šåœ¨ä½¿ç”¨ CUDA å¯¹è®­ç»ƒè¿‡ç¨‹è¿›è¡ŒåŠ é€Ÿæ—¶ï¼ŒcuDNN å¯èƒ½ä¼šé€šè¿‡åŸºå‡†æµ‹è¯•æ¥ä»å¤šä¸ªå·ç§¯ä¸­é€‰æ‹©æœ€å¿«çš„å·ç§¯ï¼Œæˆä¸ºå¯èƒ½çš„ä¸ç¡®å®šæ¥æºä¹‹ä¸€ã€‚</p>\n<p>å¦ä¸€æ–¹é¢ï¼ŒcuDNN åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é‡‡ç”¨çš„æŸäº›ç®—æ³•æœ¬èº«å¯èƒ½å°±æ˜¯ä¸ç¡®å®šçš„ï¼Œæ¯æ¬¡è¿ç®—ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœã€‚è¿™äº›éƒ½æ˜¯æˆ‘ä»¬éœ€è¦é¿å…çš„ã€‚</p>\n</li>\n</ul>\n<p>é—æ†¾çš„æ˜¯ï¼Œå³ä½¿æˆ‘ä»¬é€‰ç”¨ç›¸åŒçš„éšæœºæ•°ç§å­ï¼ŒPyTorch ä»æ— æ³•ç¡®ä¿å¯å¤ç°æ€§ï¼Œè®¾ç½®åŒä¸€éšæœºæ•°ç§å­å’Œç¡®å®šè¿‡ç¨‹ä»…èƒ½ä¿è¯åœ¨åŒä¸€å¹³å°ã€åŒä¸€ç¡¬ä»¶ã€åŒä¸€ PyTorch ç‰ˆæœ¬çš„ä¸‹ï¼Œå¤šæ¬¡å®éªŒç»“æœä¸€è‡´ã€‚</p>\n</div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># seed: è‡ªè¡Œè®¾å®šçš„éšæœºæ•°ç§å­</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">same_seed</span><span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"Fixes random number generator seeds for reproducibility.\"\"\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    torch<span class=\"token punctuation\">.</span>backends<span class=\"token punctuation\">.</span>cudnn<span class=\"token punctuation\">.</span>deterministic <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span> <span class=\"token comment\"># å¼ºåˆ¶ä½¿ç”¨ç¡®å®šæ€§ç®—æ³•</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    torch<span class=\"token punctuation\">.</span>backends<span class=\"token punctuation\">.</span>cudnn<span class=\"token punctuation\">.</span>benchmark <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span> <span class=\"token comment\"># ç¦ç”¨ cuDNN çš„å·ç§¯åŸºå‡†æµ‹è¯•</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    np<span class=\"token punctuation\">.</span>random<span class=\"token punctuation\">.</span>seed<span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span> <span class=\"token comment\"># è®¾ç½® numpy çš„éšæœºæ•°ç”Ÿæˆ</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    torch<span class=\"token punctuation\">.</span>manual_seed<span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span> <span class=\"token comment\"># è®¾ç½® PyTorch çš„éšæœºæ•°ç”Ÿæˆ</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">if</span> torch<span class=\"token punctuation\">.</span>cuda<span class=\"token punctuation\">.</span>is_available<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å¯ä»¥ä¸è¦ï¼Œæ–°ç‰ˆæœ¬ PyTorch ä¸­ manual_seed ä¼šåŒæ—¶è®¾ç½® CPU å’Œ GPU ç‰ˆæœ¬çš„éšæœºæ•°ç§å­</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        torch<span class=\"token punctuation\">.</span>cuda<span class=\"token punctuation\">.</span>manual_seed_all<span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"æ•°æ®é›†åˆ†å‰²\"><a class=\"anchor\" href=\"#æ•°æ®é›†åˆ†å‰²\">#</a> æ•°æ®é›†åˆ†å‰²</h3>\n<p>ç”±äºéœ€è¦è®¡ç®—æŸå¤±å‡½æ•°æ¥å¯¹æ¨¡å‹å‚æ•°è¿›è¡ŒåŠ¨æ€çš„è°ƒæ•´ï¼Œæˆ‘ä»¬éœ€è¦å°† <code>è®­ç»ƒæ•°æ®é›†</code> åˆ†å‰²æˆ <code>è®­ç»ƒé›†</code> å’Œ <code>éªŒè¯é›†</code> ï¼Œæºä»£ç ä¸­ç»™å‡ºäº†ä¸€ä¸ªé€šç”¨çš„åˆ†å‰²å‡½æ•°ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># data: è®­ç»ƒé›†ï¼ˆçŸ©é˜µï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># valid_ratio: éªŒè¯é›†çš„æ¯”ä¾‹ (validation_size = train_size * valid_ratio)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># seed: éšæœºæ•°ç§å­</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">train_valid_split</span><span class=\"token punctuation\">(</span>data_set<span class=\"token punctuation\">,</span> valid_ratio<span class=\"token punctuation\">,</span> seed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"Split provided training data into training set and validation set\"\"\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    valid_set_size <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>valid_ratio <span class=\"token operator\">*</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>data_set<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    train_set_size <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>data_set<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> valid_set_size</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    train_set<span class=\"token punctuation\">,</span> valid_set <span class=\"token operator\">=</span> random_split<span class=\"token punctuation\">(</span>data_set<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>train_set_size<span class=\"token punctuation\">,</span> valid_set_size<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> generator<span class=\"token operator\">=</span>torch<span class=\"token punctuation\">.</span>Generator<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>manual_seed<span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># å°†ä¸€ä¸ªæ•°æ®é›†éšæœºæ‹†æˆä¸¤ä¸ªæ— é‡å çš„æ•°æ®é›†ï¼Œä¸¤ä¸ªæ•°æ®é›†çš„å¤§å°ç”±ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®š</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">return</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span>train_set<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span>valid_set<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"é¢„æµ‹å‡½æ•°\"><a class=\"anchor\" href=\"#é¢„æµ‹å‡½æ•°\">#</a> é¢„æµ‹å‡½æ•°</h3>\n<p>ä¸€ä¸ªé¢„æµ‹å‡½æ•°ï¼Œå½“æˆ‘ä»¬å¸Œæœ›ç”¨æˆ‘ä»¬ä¹‹å‰è®­ç»ƒçš„æ¨¡å‹å»é¢„æµ‹æœªçŸ¥æ•°æ®æ—¶å¯ä»¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå…¶ä¸­ï¼š</p>\n<ul>\n<li><code>model.eval()</code>  å°†æ¨¡å‹è®¾ç½®ä¸º eval æ¨¡å¼ï¼Œæ­¤æ—¶ï¼Œæ¨¡å‹ä¸­çš„æŸäº›å±‚ä¼šä¸èµ·ä½œç”¨ï¼Œæ¥ä¿è¯é¢„æµ‹çš„åŒæ—¶ä¸ä¼šæ”¹å˜è®­ç»ƒå¥½çš„æ¨¡å‹å‚æ•°ã€‚</li>\n<li>tqdm æ˜¯ä¸€ä¸ª<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3RxZG0vdHFkbQ==\"> github é¡¹ç›®</span>ï¼Œç”¨äºå±•ç¤ºè¿›åº¦æ¡ã€‚æ³¨æ„ <code>tqdm(test_loader)</code>  åªä¼šå¯¹è¿›åº¦è®¡æ•°ï¼Œè€Œä¸ä¼šæ”¹å˜è¿­ä»£é€»è¾‘ï¼Œå³ <code>x</code>  æ˜¯ä» <code>test_loader</code>  ä¸­å–å‡ºçš„ <code>tensor</code>  ç±»å‹æ•°æ®ã€‚</li>\n<li><code>model(x)</code> =  <code>model.forward(x)</code> ï¼Œåœ¨ PyTorch ä¸­ç›´æ¥è°ƒç”¨æ¨¡å‹å¹¶ä¼ é€’è¾“å…¥æ•°æ®æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ¨¡å‹çš„ <code>forward</code>  æ–¹æ³•ã€‚å³è¿™ä¸€è¡Œçš„ä»£ç çš„å«ä¹‰æ˜¯ï¼šè°ƒç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹ã€‚</li>\n<li><code>Tensor.detach()</code>  ä»å½“å‰è®¡ç®—å›¾ä¸­åˆ†ç¦»å‡ºæ–°çš„ tensorï¼Œè¯¥ tensor ä¸å…·æœ‰æ¢¯åº¦ï¼Œä¹Ÿä¸ä¼šåå‘ä¼ æ’­ã€‚ç”±äºåœ¨ PyTorch ä¸­ï¼Œå˜é‡ä¸ä»…æ˜¯æ•°å€¼å’Œæ•°æ®ç±»å‹ï¼Œè¿˜åŒ…å«äº†è¯¥å˜é‡çš„è®¡ç®—è¿‡ç¨‹ï¼Œè€Œé€šè¿‡ <code>detach()</code>  å¯ä»¥å°†è®¡ç®—è¿‡ç¨‹å‰¥ç¦»åªå‰©ä¸‹æ•°å€¼ã€‚</li>\n<li><code>.cpu()</code>  å°†å˜é‡æ”¾åœ¨ cpu ä¸Šã€‚</li>\n<li><code>torch.cat()</code>  ç”¨äºå°†ä¸¤ä¸ª <code>tensor</code>  æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œ <code>dim</code>  å‚æ•°æŒ‡å®šäº†æ˜¯æ¨ªç€æ‹¼æ¥è¿˜æ˜¯ç«–ç€æ‹¼æ¥ï¼ˆå¯¹äºçŸ©é˜µï¼‰</li>\n<li><code>.numpy()</code>  ç”¨äºå°† <code>Tensor</code>  ç±»å‹è½¬æˆ <code>Numpy</code>  ç±»å‹ã€‚CUDA åªæ¥å— <code>Tensor</code>  ç±»å‹ï¼Œä¸æ¥å—å…¶ä»–å˜é‡ç±»å‹ã€‚</li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">predict</span><span class=\"token punctuation\">(</span>test_loader<span class=\"token punctuation\">,</span> model<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    model<span class=\"token punctuation\">.</span><span class=\"token builtin\">eval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># Set your model to evaluation mode.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    preds <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> tqdm<span class=\"token punctuation\">(</span>test_loader<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># test_loader æ˜¯æµ‹è¯•æ•°æ®</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span> <span class=\"token comment\"># å°†æ¨¡å‹åŠ è½½åˆ° CPU ä¸Š                    </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">with</span> torch<span class=\"token punctuation\">.</span>no_grad<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># ç¦ç”¨æ¢¯åº¦è®¡ç®—ï¼ŒèŠ‚çœæ—¶é—´               </span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            pred <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token comment\"># è°ƒç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            preds<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>pred<span class=\"token punctuation\">.</span>detach<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># pred å¯ç›´æ¥å½“å‚æ•°ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œè¿™é‡Œæ˜¯æ ‡å‡†åŒ–å¤„ç†</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    preds <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>cat<span class=\"token punctuation\">(</span>preds<span class=\"token punctuation\">,</span> dim<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>numpy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">return</span> preds</pre></td></tr></table></figure><h3 id=\"é¢„æµ‹ç»“æœä¿å­˜\"><a class=\"anchor\" href=\"#é¢„æµ‹ç»“æœä¿å­˜\">#</a> é¢„æµ‹ç»“æœä¿å­˜</h3>\n<p>å°†æ¨¡å‹é¢„æµ‹çš„ç»“æœä¿å­˜æˆ csvï¼Œè¿™ä¸ªå…¶å®æ˜¯å› ä¸ºåŸæœ¬æœ¬ä½œä¸šçš„å®Œæˆæ–¹å¼æ˜¯ä¸Šä¼ ä¿å­˜çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå°±ä¿ç•™ä¸‹æ¥äº†ã€‚ç”±äºåªæ¶‰åŠ csv çš„æ“ä½œæ¯”è¾ƒç®€å•ï¼Œå°±ä¸è¿‡å¤šè§£é‡Šäº†ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">save_pred</span><span class=\"token punctuation\">(</span>preds<span class=\"token punctuation\">,</span> <span class=\"token builtin\">file</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\" Save predictions to specified file \"\"\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">file</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fp<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        writer <span class=\"token operator\">=</span> csv<span class=\"token punctuation\">.</span>writer<span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        writer<span class=\"token punctuation\">.</span>writerow<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tested_positive'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># ä¿å­˜æˆ id, tested_positive ä¸¤åˆ—</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> p <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>preds<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            writer<span class=\"token punctuation\">.</span>writerow<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">,</span> p<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"æ•°æ®é›†-2\"><a class=\"anchor\" href=\"#æ•°æ®é›†-2\">#</a> æ•°æ®é›†</h2>\n<h3 id=\"è‡ªå®šä¹‰æ•°æ®é›†\"><a class=\"anchor\" href=\"#è‡ªå®šä¹‰æ•°æ®é›†\">#</a> è‡ªå®šä¹‰æ•°æ®é›†</h3>\n<p>å½“æˆ‘ä»¬ä¸ä½¿ç”¨ PyTorch å®˜æ–¹æ•´ç†å¥½çš„æ•°æ®é›†ï¼Œè€Œæ˜¯ä½¿ç”¨è‡ªå·±çš„æ•°æ®é›†æ—¶ï¼Œå°±å¿…é¡»æŒ‰ç…§ PyTorch çš„å®šä¹‰ï¼Œè‡ªè¡Œå®ç°ä¸€ä¸ªç»§æ‰¿ <code>torch.utils.data.Dataset</code>  è¿™ä¸ªæŠ½è±¡ç±»çš„å­ç±»ï¼ŒPyTorch æ‰å¯ä»¥æ­£ç¡®å¤„ç†ã€‚</p>\n<p>è‡ªå®šä¹‰æ•°æ®é›†å¿…é¡»ç»§æ‰¿ <code>Dataset</code>  å¹¶è‡³å°‘è¦†ç›–ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•:</p>\n<ul>\n<li><code>__len__</code> ï¼š å®ç°  <code>len(dataset)</code>  è¿”è¿˜æ•°æ®é›†çš„å°ºå¯¸ã€‚</li>\n<li><code>__getitem__</code> ï¼šç”¨æ¥è·å–ç´¢å¼•æ•°æ®ï¼Œä¾‹å¦‚ <code>dataset[i]</code></li>\n</ul>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">COVID19Dataset</span><span class=\"token punctuation\">(</span>Dataset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    x: Features.</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    y: Targets, if none, do prediction.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å®šä¹‰åˆå§‹åŒ–æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">if</span> y <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            self<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> y</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            self<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>FloatTensor<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span> <span class=\"token comment\"># é¢„æµ‹ç›®æ ‡æ˜¯æµ®ç‚¹æ•°</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        self<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>FloatTensor<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token comment\"># ç‰¹å¾ä¹Ÿæ˜¯æµ®ç‚¹æ•°</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__getitem__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å®šä¹‰æ•°æ®é›†ç´¢å¼•æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>y <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>            <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__len__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å®šä¹‰è·å–æ•°æ®é•¿åº¦æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"dataloader\"><a class=\"anchor\" href=\"#dataloader\">#</a> Dataloader</h3>\n<ul>\n<li><code>pd.read_csv()</code> ï¼šä»æŒ‡å®šä½ç½®è¯»å– csv è¡¨æ ¼ï¼Œå¹¶è½¬åŒ–ä¸º <code>DataFrame</code>  çš„ç±»å‹ï¼Œå¯ä»¥é€šè¿‡ <code>.values</code>  å–å‡º <code>DataFrame</code>  ä¸­çš„å€¼å¹¶è½¬æ¢ä¸ºå¤šç»´åˆ—è¡¨ã€‚</li>\n<li><code>select_feat()</code> ï¼šä»æ•°æ®é›†ä¸­æå–ç‰¹å¾ï¼Œè¯¥å‡½æ•°çš„å®ç°ä¼šåœ¨ä¸‹é¢è®²åˆ°ã€‚</li>\n</ul>\n<p>æ•´ä½“è¿‡ç¨‹å…¶å®å°±æ˜¯ï¼š</p>\n<ol>\n<li>è¯»å– csv è¡¨æ ¼ä¸­çš„æ•°æ®</li>\n<li>æå–æ•°æ®ä¸­çš„ç‰¹å¾</li>\n<li>å°†ç‰¹å¾è½¬åŒ–ä¸ºæ•°æ®é›† <code>Dataset</code></li>\n<li>æ ¹æ®é…ç½®ï¼Œå°† <code>Dataset</code>  è½¬åŒ–æˆ <code>DataLoader</code>  ç”¨äºåç»­è®­ç»ƒ</li>\n</ol>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Set seed for reproducibility</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>same_seed<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'seed'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># train_data size: 2699 x 118 (id + 37 states + 16 features x 5 days) </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># test_data size: 1078 x 117 (without last day's positive rate)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>train_data<span class=\"token punctuation\">,</span> test_data <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'./covid.train.csv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">,</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'./covid.test.csv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>values</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>train_data<span class=\"token punctuation\">,</span> valid_data <span class=\"token operator\">=</span> train_valid_split<span class=\"token punctuation\">(</span>train_data<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'valid_ratio'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'seed'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># Print out the data size.</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"\"\"train_data size: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>train_data<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>valid_data size: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>valid_data<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>test_data size: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>test_data<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"\"\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># Select features</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>x_train<span class=\"token punctuation\">,</span> x_valid<span class=\"token punctuation\">,</span> x_test<span class=\"token punctuation\">,</span> y_train<span class=\"token punctuation\">,</span> y_valid <span class=\"token operator\">=</span> select_feat<span class=\"token punctuation\">(</span>train_data<span class=\"token punctuation\">,</span> valid_data<span class=\"token punctuation\">,</span> test_data<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'select_all'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># Print out the number of features.</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'number of features: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>x_train<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\"># initialize datasets with the data</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>train_dataset<span class=\"token punctuation\">,</span> valid_dataset<span class=\"token punctuation\">,</span> test_dataset <span class=\"token operator\">=</span> COVID19Dataset<span class=\"token punctuation\">(</span>x_train<span class=\"token punctuation\">,</span> y_train<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \\</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                                            COVID19Dataset<span class=\"token punctuation\">(</span>x_valid<span class=\"token punctuation\">,</span> y_valid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \\</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>                                            COVID19Dataset<span class=\"token punctuation\">(</span>x_test<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token comment\"># Pytorch data loader loads pytorch dataset into batches.</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>train_loader <span class=\"token operator\">=</span> DataLoader<span class=\"token punctuation\">(</span>train_dataset<span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'batch_size'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pin_memory<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>valid_loader <span class=\"token operator\">=</span> DataLoader<span class=\"token punctuation\">(</span>valid_dataset<span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'batch_size'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pin_memory<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>test_loader <span class=\"token operator\">=</span> DataLoader<span class=\"token punctuation\">(</span>test_dataset<span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'batch_size'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> pin_memory<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h1 id=\"å…¨å±€é…ç½®\"><a class=\"anchor\" href=\"#å…¨å±€é…ç½®\">#</a> å…¨å±€é…ç½®</h1>\n<ul>\n<li><code>device</code> ï¼šè®¾ç½®è®­ç»ƒä½¿ç”¨çš„ç¡¬ä»¶ï¼Œä¼˜å…ˆ CUDAï¼Œå¦‚æœæ²¡æœ‰çš„è¯å°±ä½¿ç”¨ CPUã€‚</li>\n</ul>\n<p><code>config</code>  ä¸­çš„å†…å®¹æ¯”è¾ƒé¡¾åæ€ä¹‰äº†ï¼Œç¨å¾®æœ‰ç‚¹æœºå™¨å­¦ä¹ åŸºç¡€åº”è¯¥éƒ½èƒ½çœ‹æ‡‚ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>device <span class=\"token operator\">=</span> <span class=\"token string\">'cuda'</span> <span class=\"token keyword\">if</span> torch<span class=\"token punctuation\">.</span>cuda<span class=\"token punctuation\">.</span>is_available<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">else</span> <span class=\"token string\">'cpu'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>config <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token string\">'seed'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5201314</span><span class=\"token punctuation\">,</span>      <span class=\"token comment\"># Your seed number, you can pick your lucky number. :)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token string\">'select_all'</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\"># Whether to use all features.</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token string\">'valid_ratio'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\"># validation_size = train_size * valid_ratio</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token string\">'n_epochs'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">,</span>     <span class=\"token comment\"># Number of epochs.            </span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token string\">'batch_size'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">256</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token string\">'learning_rate'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1e-5</span><span class=\"token punctuation\">,</span>              </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token string\">'early_stop'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\"># If model has not improved for this many consecutive epochs, stop training.     </span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token string\">'save_path'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'./models/model.ckpt'</span>  <span class=\"token comment\"># Your model will be saved here.</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"å…³é”®å‡½æ•°ç¼–å†™\"><a class=\"anchor\" href=\"#å…³é”®å‡½æ•°ç¼–å†™\">#</a> å…³é”®å‡½æ•°ç¼–å†™</h1>\n<p>ç”±äºå…³é”®å‡½æ•°çš„ç¼–å†™ä¹Ÿæ­£æ˜¯ä½œä¸šçš„å†…å®¹ï¼Œæ‰€ä»¥å°†è¯¥å†…å®¹æ”¾åœ¨äº†æœ€åï¼Œæˆ‘ä»¬éœ€è¦å®Œæˆ 3 ä¸ªå…³é”®å‡½æ•°çš„ç¼– / æ”¹å†™ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>\n<ol>\n<li>æ¨¡å‹  <code>My_Model()</code></li>\n<li>ç‰¹å¾æå–ç®—æ³•  <code>select_feat()</code></li>\n<li>è®­ç»ƒç®—æ³•  <code>trainer()</code></li>\n</ol>\n<h2 id=\"my_model\"><a class=\"anchor\" href=\"#my_model\">#</a> My_Model()</h2>\n<p>åŸºç¡€æ¨¡å‹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">My_Model</span><span class=\"token punctuation\">(</span>nn<span class=\"token punctuation\">.</span>Module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> input_dim<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å®šä¹‰æ¨¡å‹åˆå§‹åŒ–æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>My_Model<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># è°ƒç”¨çˆ¶ç±»çš„__init__æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token comment\"># TODO: modify model's structure, be aware of dimensions.</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        self<span class=\"token punctuation\">.</span>layers <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Sequential<span class=\"token punctuation\">(</span> <span class=\"token comment\"># Sequential ä¸­å‰ä¸€å±‚è¾“å‡ºå¤§å°å¿…é¡»ä¸ä¸‹ä¸€å±‚çš„è¾“å…¥å¤§å°ä¸€è‡´</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span>input_dim<span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># å®šä¹‰ä¸€ä¸ªå…¨è¿æ¥å±‚</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>ReLU<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># ä½¿ç”¨ ReLU ä½œä¸ºæ¿€æ´»å‡½æ•°</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># è¯¥å±‚è¾“å…¥ tensor ä¸º 16ï¼Œè¾“å‡º tensor ä¸º 8</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>ReLU<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">forward</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># å®šä¹‰å‰å‘ä¼ æ’­ç®—æ³•</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        x <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>layers<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token comment\"># å°† x ä¼ é€’ç»™ layers çš„å„å±‚è¿›è¡Œè¿ç®—ï¼Œé»˜è®¤å†™æ³•ã€‚</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>squeeze<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># (B, 1) -> (B)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">return</span> x</pre></td></tr></table></figure><p>ä½¿ç”¨è¯¥æ¨¡å‹è®­ç»ƒå‡ºçš„ loss ä¸ºï¼š</p>\n<p><code>Epoch [1869/3000]: Train loss: 41.3380, Valid loss: 37.6867</code></p>\n<p>åŒæ—¶ï¼Œä½¿ç”¨æ­¤è®­ç»ƒçš„æ¨¡å‹å»é¢„æµ‹ä¼šå‘ç°é¢„æµ‹å‡ºçš„ <code>tested_positive</code>  éƒ½ä¼šæ˜¯åŒä¸€ä¸ªå€¼ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯¹çš„ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯å› ä¸ºæ¨¡å‹ç¥ç»å…ƒæ•°ç›®å¤ªå°‘ï¼Œè€Œç‰¹å¾åˆå¤ªå¤šï¼Œå¯¼è‡´æ¨¡å‹æ— æ³•å­¦ä¹ åˆ°æœ‰æ•ˆç‰¹å¾ï¼Œloss çš„ä¸‹é™å…¶å®ä¹Ÿåªæ˜¯ç±»ä¼¼æ±‚ä¸€ä¸ªæœ€ä½³å‡å€¼çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å°è¯•é€šè¿‡å¢åŠ å±‚æ•°çš„æ–¹æ³•æ¥ä¼˜åŒ–ä»–ï¼ˆç§°ä¸ºä¼˜åŒ– 1ï¼‰ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>self<span class=\"token punctuation\">.</span>layers <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Sequential<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span>input_dim<span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>ReLU<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>ReLU<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>ReLU<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>loss æœ‰æ˜¾è‘—é™ä½ï¼š</p>\n<p><code>Epoch [3000/3000]: Train loss: 1.5405, Valid loss: 1.5447</code></p>\n<p>ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œæˆ‘ä»¬è·‘ä¸€ä¸‹éªŒè¯é›†è¯•è¯•ï¼Œç»“æœä¸º</p>\n<p><code>Loss:  tensor(3.2558, dtype=torch.float64)</code></p>\n<h2 id=\"select_feat\"><a class=\"anchor\" href=\"#select_feat\">#</a> select_feat()</h2>\n<p>é»˜è®¤çš„ç‰¹å¾æå–å‡½æ•°é»˜è®¤æƒ…å†µä¸‹æ˜¯ä½¿ç”¨å…¨éƒ¨ç‰¹å¾ï¼ˆä¸æå–ç‰¹å¾ï¼‰çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">select_feat</span><span class=\"token punctuation\">(</span>train_data<span class=\"token punctuation\">,</span> valid_data<span class=\"token punctuation\">,</span> test_data<span class=\"token punctuation\">,</span> select_all<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"Selects useful features to perform regression\"\"\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    y_train<span class=\"token punctuation\">,</span> y_valid <span class=\"token operator\">=</span> train_data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> valid_data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    raw_x_train<span class=\"token punctuation\">,</span> raw_x_valid<span class=\"token punctuation\">,</span> raw_x_test <span class=\"token operator\">=</span> train_data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> valid_data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> test_data <span class=\"token comment\"># åˆ†ç¦» tested_positive åˆ—å’Œå…¶ä»–ç‰¹å¾åˆ—</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span> select_all<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        feat_idx <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>raw_x_train<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        feat_idx <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># TODO: Select suitable feature columns.</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">return</span> raw_x_train<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> feat_idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> raw_x_valid<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> feat_idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> raw_x_test<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> feat_idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> y_train<span class=\"token punctuation\">,</span> y_valid</pre></td></tr></table></figure><p>å…¶ä¸­ <code>train_data</code>  å’Œ <code>valid_data</code>  éƒ½æ˜¯å¤šç»´æ•°ç»„ï¼Œ <code>train_data[:, -1]</code>  æ˜¯æŒ‡å°†åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå­åˆ—è¡¨çš„æœ€åä¸€é¡¹æå–å‡ºæ¥ç»„æˆä¸€ä¸ªæ–°çš„åˆ—è¡¨ï¼š</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn><mo separator=\"true\">,</mo><mn>3</mn><mo stretchy=\"false\">]</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">[</mo><mn>4</mn><mo separator=\"true\">,</mo><mn>5</mn><mo separator=\"true\">,</mo><mn>6</mn><mo stretchy=\"false\">]</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">[</mo><mn>7</mn><mo separator=\"true\">,</mo><mn>8</mn><mo separator=\"true\">,</mo><mn>9</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo><mo>â†’</mo><mo stretchy=\"false\">[</mo><mn>3</mn><mo separator=\"true\">,</mo><mn>6</mn><mo separator=\"true\">,</mo><mn>9</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[[1,2,3],[4,5,6],[7,8,9]] \\rightarrow [3,6,9]\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mopen\">[</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">3</span><span class=\"mclose\">]</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">4</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">5</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">6</span><span class=\"mclose\">]</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">7</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">8</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">9</span><span class=\"mclose\">]</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â†’</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\">3</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">6</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\">9</span><span class=\"mclose\">]</span></span></span></span></span></p>\n<p>è§‚å¯Ÿè®­ç»ƒé›†å¯ä»¥å‘ç°ï¼Œæœ€åä¸€åˆ—å°±æ˜¯ <code>tested_positive</code>  åˆ—ï¼Œå³ <code>y_train</code>  ä¸ºè®­ç»ƒé›†çš„ <code>tested_positive</code>  åˆ—è¡¨ï¼Œ <code>y_valid</code>  ä¸ºéªŒè¯é›†çš„ <code>tested_positive</code>  åˆ—è¡¨ï¼›å¦å¤–ï¼Œ <code>raw_x_train</code>  å°±æ˜¯å°† <code>tested_positive</code>  æ’é™¤çš„å…¶ä»–æ•°æ®ç‰¹å¾ï¼Œ <code>raw_x_valid</code>  åŒç†ã€‚</p>\n<p>è‹¥é…ç½® <code>select_all=true</code>  æ—¶ï¼Œä¼šå°†å…¶ä»–ç‰¹å¾å…¨éƒ¨è¿”å›ï¼Œå¦åˆ™åªä¼šè¿”å›æŒ‡å®šçš„ç‰¹å¾åˆ—ã€‚è€ƒè™‘åˆ°åŸæœ¬æ•°æ®é›†ä¸­çš„éƒ¨åˆ†ç‰¹å¾å¯èƒ½å¯¹æˆ‘ä»¬æƒ³è¦çš„é¢„æµ‹çš„å†…å®¹æ²¡ä»€ä¹ˆè´¡çŒ®ï¼Œåå€’å¯èƒ½ä¼šå½±å“æœºå™¨çš„å­¦ä¹ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘äººä¸ºåˆ†æä¸€ä¸‹æ ·æœ¬ä¸­çš„ä¸åŒå­—æ®µå¯¹ç»“æœçš„è´¡çŒ®ä»è€Œä¼˜åŒ–æœºå™¨å­¦ä¹ çš„æ•ˆæœï¼ˆç§°ä¸ºä¼˜åŒ– 2ï¼‰ã€‚</p>\n<p>å…ˆåˆ†æä¸€ä¸‹æ ·æœ¬æ•°æ®ï¼š</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">æ ·æœ¬åˆ—</th>\n<th style=\"text-align:center\">å«ä¹‰</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">ALã€AKã€AZã€ARã€......</td>\n<td style=\"text-align:center\">ç¾å›½ä¸åŒå·çš„ç¼©å†™</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">cliã€ili</td>\n<td style=\"text-align:center\">COVID-like illnessã€influenza-like illness</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">hh_cmnty_cliã€nohh_cmnty_cli</td>\n<td style=\"text-align:center\">ç¤¾åŒºæŠ¥å‘Šç—…ä¾‹ï¼ˆåŒ…æ‹¬ / ä¸åŒ…æ‹¬å®¶åº­ï¼‰</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">wearing_mask</td>\n<td style=\"text-align:center\">æˆ´å£ç½©</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">travel_outside_stateã€work_outside_home</td>\n<td style=\"text-align:center\">å¤–å‡ºæ—…è¡Œã€éå±…å®¶åŠå…¬</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">shopã€restaurant</td>\n<td style=\"text-align:center\">å•†åœºã€é¤å…</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">spent_time</td>\n<td style=\"text-align:center\">è¿‡å» 24 å°æ—¶å†…ä¸å½“å‰ä¸åœ¨èº«è¾¹çš„äººåœ¨ä¸€èµ·</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">large_event</td>\n<td style=\"text-align:center\">å‡ºå¸­ 10 äººä»¥ä¸Šçš„æ´»åŠ¨</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">public_transit</td>\n<td style=\"text-align:center\">è¿‡å» 24 å°æ—¶ä½¿ç”¨å…¬å…±äº¤é€š</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">anxiousã€depressedã€worried_finances</td>\n<td style=\"text-align:center\">ç„¦è™‘ã€å‹åŠ›ã€æ‹…å¿ƒè´¢åŠ¡çŠ¶å†µ</td>\n</tr>\n</tbody>\n</table>\n<p>å¦‚æœçº¯é äººä¸ºç»éªŒæ¥åˆ†æçš„è¯ï¼Œå¯èƒ½ä¼šè§‰å¾—éƒ½æœ‰å…³ç³»ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥å€ŸåŠ© Person ç›¸å…³æ€§åˆ†ææ–¹æ³•ï¼Œæ¥åˆ†æå„ä¸ªå˜é‡ä¸ <code>tested_positive</code>  çš„ç›¸å…³æ€§ï¼Œé€šè¿‡å…·ä½“çš„æ•°å€¼æ¥æ‰¾åˆ°æœ€ç›¸å…³çš„åˆ—ã€‚ <code>pandas</code>  åº“æä¾›äº†å°è£…å¥½çš„ Person ç›¸å…³æ€§åˆ†æç®—æ³•ï¼Œç›´æ¥ä½¿ç”¨å³å¯ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'./data/covid.train.csv'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">.</span>corr<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'tested_positive'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span>ascending<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># é™åºæ’åˆ—</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># ---- Output ----</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>tested_positive      <span class=\"token number\">1.000000</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>tested_positive<span class=\"token punctuation\">.</span><span class=\"token number\">1</span>    <span class=\"token number\">0.985053</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>tested_positive<span class=\"token punctuation\">.</span><span class=\"token number\">2</span>    <span class=\"token number\">0.969467</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>tested_positive<span class=\"token punctuation\">.</span><span class=\"token number\">3</span>    <span class=\"token number\">0.953463</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>tested_positive<span class=\"token punctuation\">.</span><span class=\"token number\">4</span>    <span class=\"token number\">0.935388</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>                       <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   </pre></td></tr><tr><td data-num=\"13\"></td><td><pre>public_transit      <span class=\"token operator\">-</span><span class=\"token number\">0.411916</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>public_transit<span class=\"token punctuation\">.</span><span class=\"token number\">1</span>    <span class=\"token operator\">-</span><span class=\"token number\">0.415510</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>public_transit<span class=\"token punctuation\">.</span><span class=\"token number\">2</span>    <span class=\"token operator\">-</span><span class=\"token number\">0.418523</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>public_transit<span class=\"token punctuation\">.</span><span class=\"token number\">3</span>    <span class=\"token operator\">-</span><span class=\"token number\">0.421868</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>public_transit<span class=\"token punctuation\">.</span><span class=\"token number\">4</span>    <span class=\"token operator\">-</span><span class=\"token number\">0.424169</span></pre></td></tr></table></figure><p>æˆ‘ä»¬æŠŠè¿™äº›å¼ºç›¸å…³çš„åˆ—ä½œä¸ºç‰¹å¾åœ¨ä¼˜åŒ– 1 çš„åŸºç¡€ä¸Šå»ä¼˜åŒ–æ¨¡å‹ï¼ˆç§°ä¸ºä¼˜åŒ– 2ï¼‰ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>feat_idx <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">38</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>            <span class=\"token number\">53</span><span class=\"token punctuation\">,</span> <span class=\"token number\">69</span><span class=\"token punctuation\">,</span> <span class=\"token number\">85</span><span class=\"token punctuation\">,</span> <span class=\"token number\">101</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># tested_positive</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            <span class=\"token number\">49</span><span class=\"token punctuation\">,</span> <span class=\"token number\">65</span><span class=\"token punctuation\">,</span> <span class=\"token number\">81</span><span class=\"token punctuation\">,</span> <span class=\"token number\">97</span><span class=\"token punctuation\">,</span> <span class=\"token number\">113</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># public_transit</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">41</span><span class=\"token punctuation\">,</span> <span class=\"token number\">56</span><span class=\"token punctuation\">,</span> <span class=\"token number\">57</span><span class=\"token punctuation\">,</span> <span class=\"token number\">72</span><span class=\"token punctuation\">,</span> <span class=\"token number\">73</span><span class=\"token punctuation\">,</span> <span class=\"token number\">88</span><span class=\"token punctuation\">,</span> <span class=\"token number\">89</span><span class=\"token punctuation\">,</span> <span class=\"token number\">104</span><span class=\"token punctuation\">,</span> <span class=\"token number\">105</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># hh_cmnty_cli &amp; nohh_cmnty_cli</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>            <span class=\"token number\">38</span><span class=\"token punctuation\">,</span> <span class=\"token number\">39</span><span class=\"token punctuation\">,</span> <span class=\"token number\">54</span><span class=\"token punctuation\">,</span> <span class=\"token number\">55</span><span class=\"token punctuation\">,</span> <span class=\"token number\">70</span><span class=\"token punctuation\">,</span> <span class=\"token number\">71</span><span class=\"token punctuation\">,</span> <span class=\"token number\">86</span><span class=\"token punctuation\">,</span> <span class=\"token number\">87</span><span class=\"token punctuation\">,</span> <span class=\"token number\">102</span><span class=\"token punctuation\">,</span> <span class=\"token number\">103</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># cli &amp; ili</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">66</span><span class=\"token punctuation\">,</span> <span class=\"token number\">82</span><span class=\"token punctuation\">,</span> <span class=\"token number\">98</span><span class=\"token punctuation\">,</span> <span class=\"token number\">114</span> <span class=\"token comment\"># anxious</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token punctuation\">]</span>  <span class=\"token comment\"># TODO: Select suitable feature columns.</span></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šçš„ loss æœ‰æ‰€ä¸Šå‡ï¼Œä½†æ˜¯åœ¨éªŒè¯é›†ä¸Šæœ‰æ‰€ä¸‹é™ã€‚</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># --- æµ‹è¯•é›† ---</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Epoch <span class=\"token punctuation\">[</span><span class=\"token number\">2547</span><span class=\"token operator\">/</span><span class=\"token number\">3000</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> Train loss<span class=\"token punctuation\">:</span> <span class=\"token number\">1.8915</span><span class=\"token punctuation\">,</span> Valid loss<span class=\"token punctuation\">:</span> <span class=\"token number\">1.6332</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># --- éªŒè¯é›† ---</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Loss<span class=\"token punctuation\">:</span>  tensor<span class=\"token punctuation\">(</span><span class=\"token number\">3.1981</span><span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span>torch<span class=\"token punctuation\">.</span>float64<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h2 id=\"trainer\"><a class=\"anchor\" href=\"#trainer\">#</a> trainer()</h2>\n<p>æºç ä¸­ç»™å‡ºåŸºæœ¬çš„ <code>trainer()</code>  å‡½æ•°ï¼Œæ³¨é‡Šå·²ç»éå¸¸æ¸…æ¥šäº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">trainer</span><span class=\"token punctuation\">(</span>train_loader<span class=\"token punctuation\">,</span> valid_loader<span class=\"token punctuation\">,</span> model<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    criterion <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>MSELoss<span class=\"token punctuation\">(</span>reduction<span class=\"token operator\">=</span><span class=\"token string\">'mean'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Define your loss function, do not modify this.</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\"># Define your optimization algorithm.</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\"># TODO: Please check https://pytorch.org/docs/stable/optim.html to get more available algorithms.</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token comment\"># TODO: L2 regularization (optimizer(weight decay...) or implement by your self).</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    optimizer <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>optim<span class=\"token punctuation\">.</span>SGD<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">.</span>parameters<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> lr<span class=\"token operator\">=</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'learning_rate'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> momentum<span class=\"token operator\">=</span><span class=\"token number\">0.9</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    writer <span class=\"token operator\">=</span> SummaryWriter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Writer of tensoboard.</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>isdir<span class=\"token punctuation\">(</span><span class=\"token string\">'./models'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        os<span class=\"token punctuation\">.</span>mkdir<span class=\"token punctuation\">(</span><span class=\"token string\">'./models'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Create directory of saving models.</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    n_epochs<span class=\"token punctuation\">,</span> best_loss<span class=\"token punctuation\">,</span> step<span class=\"token punctuation\">,</span> early_stop_count <span class=\"token operator\">=</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'n_epochs'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> math<span class=\"token punctuation\">.</span>inf<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token comment\"># initialize some variables</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">for</span> epoch <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>n_epochs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        model<span class=\"token punctuation\">.</span>train<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Set your model to train mode.</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        loss_record <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\"># tqdm is a package to visualize your training progress.</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        train_pbar <span class=\"token operator\">=</span> tqdm<span class=\"token punctuation\">(</span>train_loader<span class=\"token punctuation\">,</span> position<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> leave<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">for</span> x<span class=\"token punctuation\">,</span> y <span class=\"token keyword\">in</span> train_pbar<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            optimizer<span class=\"token punctuation\">.</span>zero_grad<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Set gradient to zero.</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            x<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Move your data to device.</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>            pred <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            loss <span class=\"token operator\">=</span> criterion<span class=\"token punctuation\">(</span>pred<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            loss<span class=\"token punctuation\">.</span>backward<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Compute gradient(backpropagation).</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            optimizer<span class=\"token punctuation\">.</span>step<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Update parameters.</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            step <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            loss_record<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>loss<span class=\"token punctuation\">.</span>detach<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token comment\"># Display current epoch number and loss on tqdm progress bar.</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            train_pbar<span class=\"token punctuation\">.</span>set_description<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'Epoch [</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>epoch <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>n_epochs<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">]'</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            train_pbar<span class=\"token punctuation\">.</span>set_postfix<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">'loss'</span><span class=\"token punctuation\">:</span> loss<span class=\"token punctuation\">.</span>detach<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        mean_train_loss <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>loss_record<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>loss_record<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        writer<span class=\"token punctuation\">.</span>add_scalar<span class=\"token punctuation\">(</span><span class=\"token string\">'Loss/train'</span><span class=\"token punctuation\">,</span> mean_train_loss<span class=\"token punctuation\">,</span> step<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        model<span class=\"token punctuation\">.</span><span class=\"token builtin\">eval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Set your model to evaluation mode.</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        loss_record <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token keyword\">for</span> x<span class=\"token punctuation\">,</span> y <span class=\"token keyword\">in</span> valid_loader<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            x<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>            <span class=\"token keyword\">with</span> torch<span class=\"token punctuation\">.</span>no_grad<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>                pred <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>                loss <span class=\"token operator\">=</span> criterion<span class=\"token punctuation\">(</span>pred<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>            loss_record<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>loss<span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        mean_valid_loss <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>loss_record<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>loss_record<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        tqdm<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'Epoch [</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>epoch <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>n_epochs<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">]: Train loss: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>mean_train_loss<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.4f</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">, Valid loss: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>mean_valid_loss<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.4f</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        writer<span class=\"token punctuation\">.</span>add_scalar<span class=\"token punctuation\">(</span><span class=\"token string\">'Loss/valid'</span><span class=\"token punctuation\">,</span> mean_valid_loss<span class=\"token punctuation\">,</span> step<span class=\"token punctuation\">)</span> <span class=\"token comment\"># å‘ tensoboard æ·»åŠ å›¾è¡¨</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>        <span class=\"token keyword\">if</span> mean_valid_loss <span class=\"token operator\">&lt;</span> best_loss<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>            best_loss <span class=\"token operator\">=</span> mean_valid_loss</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>            torch<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">.</span>state_dict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'save_path'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Save your best model</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>            tqdm<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">'Saving model with loss &#123;:.3f&#125;...'</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>best_loss<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>            early_stop_count <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>            early_stop_count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>        <span class=\"token keyword\">if</span> early_stop_count <span class=\"token operator\">>=</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'early_stop'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>            tqdm<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">'\\nModel is not improving, so we halt the training session.'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>            <span class=\"token keyword\">return</span></pre></td></tr></table></figure><p>æç¤ºä¸­ç»™å‡ºäº†ä¸¤ä¸ªä¼˜åŒ–æ–¹å‘ï¼Œå¼•å…¥ L2 æ­£åˆ™åŒ–å’Œå¯»æ‰¾æ›´å¥½çš„ <code>optimizer</code> ï¼Œç»è¿‡å®é™…æµ‹è¯•ï¼Œå¦‚æœä¸å¼•å…¥ L2 æ­£åˆ™åŒ–å°±ç›´æ¥æ¢ç”¨åˆ«çš„ <code>optimizer</code>  ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆçš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆå¼•å…¥ L2 æ­£åˆ™åŒ–ã€‚</p>\n<h3 id=\"l2-regularization-dropout\"><a class=\"anchor\" href=\"#l2-regularization-dropout\">#</a> L2 regularization &amp; Dropout</h3>\n<p>ç®€å•æ¥è¯´ï¼ŒL2 æ­£åˆ™åŒ–å¯ä»¥ç›´è§‚ç†è§£ä¸ºå®ƒ<strong>å¯¹äºå¤§æ•°å€¼çš„æƒé‡å‘é‡è¿›è¡Œä¸¥å‰æƒ©ç½š</strong>ï¼Œå€¾å‘äºæ›´åŠ åˆ†æ•£çš„æƒé‡å‘é‡ã€‚ç”±äºè¾“å…¥å’Œæƒé‡ä¹‹é—´çš„ä¹˜æ³•æ“ä½œï¼Œè¿™æ ·å°±æœ‰äº†ä¸€ä¸ªä¼˜è‰¯çš„<strong>ç‰¹æ€§</strong>ï¼š<strong>ä½¿ç½‘ç»œæ›´å€¾å‘äºä½¿ç”¨æ‰€æœ‰è¾“å…¥ç‰¹å¾ï¼Œè€Œä¸æ˜¯ä¸¥é‡ä¾èµ–è¾“å…¥ç‰¹å¾ä¸­æŸäº›å°éƒ¨åˆ†ç‰¹å¾</strong>ã€‚ L2 æƒ©ç½šå€¾å‘äºæ›´å°æ›´åˆ†æ•£çš„æƒé‡å‘é‡ï¼Œè¿™å°±ä¼šé¼“åŠ±åˆ†ç±»å™¨æœ€ç»ˆå°†æ‰€æœ‰ç»´åº¦ä¸Šçš„ç‰¹å¾éƒ½ç”¨èµ·æ¥ï¼Œè€Œä¸æ˜¯å¼ºçƒˆä¾èµ–å…¶ä¸­å°‘æ•°å‡ ä¸ªç»´åº¦ã€‚è¿™æ ·åšå¯ä»¥æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œ<strong>é™ä½è¿‡æ‹Ÿåˆçš„é£é™©</strong>ã€‚</p>\n<p>ä¸ L2 æ­£åˆ™åŒ–ç±»ä¼¼çš„æ˜¯ L1 æ­£åˆ™åŒ–ï¼Œä¹Ÿæ˜¯å¼•å…¥æƒ©ç½šæªæ–½æ¥é™ä½è¿‡æ‹Ÿåˆçš„é£é™©ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒL2 æ­£åˆ™åŒ–æ¨¡å‹æ•ˆæœä¼šæ›´å¥½ä¸€äº›ã€‚</p>\n<p>ğŸ‘†ç†è®ºæ¥è¯´æ˜¯è¿™æ ·çš„ï¼Œä½†æ˜¯åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œå¼•å…¥ L2 æ­£åˆ™åŒ–ä¹‹åä»ç„¶ä¼šæœ‰è¿‡æ‹Ÿåˆçš„é—®é¢˜ï¼Œæ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Dropout</code>  çš„æ–¹æ³•æ¥ç¼“è§£è¿‡æ‹Ÿåˆé—®é¢˜ã€‚</p>\n<p><code>Dropout</code>  çš„æ€æƒ³æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­éšæœºè®©éƒ¨åˆ†ç¥ç»å…ƒ â€œå¤±æ´»â€ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ä¸¢å¤±éƒ¨åˆ†ç‰¹å¾ï¼Œé™åˆ¶æ¨¡å‹çš„å­¦ä¹ èƒ½åŠ›ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç¥ç»ç½‘ç»œæ›´åŠ å…³æ³¨äº â€œé€šç”¨çš„â€ ç‰¹å¾ï¼Œè€Œä¸æ˜¯è®­ç»ƒé›†ä¸­çš„ç‰¹åŒ–ç‰¹å¾ã€‚ä½¿ç”¨ <code>Dropout</code>  éœ€è¦å¯¹æ¨¡å‹åšå‡ºå˜åŒ–ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">My_Model</span><span class=\"token punctuation\">(</span>nn<span class=\"token punctuation\">.</span>Module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> input_dim<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>My_Model<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token comment\"># TODO: modify model's structure, be aware of dimensions.</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        self<span class=\"token punctuation\">.</span>layers <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Sequential<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span>input_dim<span class=\"token punctuation\">,</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>LeakyReLU<span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Dropout<span class=\"token punctuation\">(</span>p<span class=\"token operator\">=</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># æ·»åŠ  Dropoutï¼ŒæŒ‡å®šä¸¢å¼ƒæ¦‚ç‡</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>LeakyReLU<span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>LeakyReLU<span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œå°†æ¿€æ´»å‡½æ•°ä» <code>ReLU</code>  æ›¿æ¢æˆäº† <code>LeakyReLU</code>  å¹¶å¢åŠ æ¨¡å‹ç¥ç»å…ƒæ•°ï¼Œå–å¾—äº†æ›´å¥½çš„æ•ˆæœï¼ˆå…³äºæ¿€æ´»å‡½æ•°åé¢å•ç‹¬æ‹¿ä¸€ç« è®²ï¼‰ã€‚</p>\n<h3 id=\"optimizer\"><a class=\"anchor\" href=\"#optimizer\">#</a> optimizer</h3>\n<p>ç»è¿‡æµ‹è¯•ï¼Œé€‰ç”¨ <code>Adam</code>  ä½œä¸º <code>optimizer</code>  ä¼šæœ‰æ›´å¥½çš„æ•ˆæœï¼Œ <code>Adam</code>  æ˜¯ä¸€ä¸ªè‡ªé€‚åº”çš„æ¢¯åº¦ä¸‹é™ç®—æ³•ï¼Œè‡ªåŠ¨çš„è°ƒæ•´ <code>learning-rate</code> ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œè®¾ç½®åˆé€‚çš„è¶…å‚æ•° <code>learning-rate</code>  æ˜¯éå¸¸å›°éš¾çš„ï¼Œè‹¥ <code>lr</code>  è¿‡å¤§ï¼Œä¼šå¯¼è‡´ loss åœ¨æœ€ä½ç‚¹å‡ºéœ‡è¡ï¼›è‹¥ <code>lr</code>  è¿‡å°ï¼Œåˆ™ä¼šå¯¼è‡´è®­ç»ƒé€Ÿåº¦è¿‡æ…¢ã€‚ç›´æ¥ä½¿ç”¨ <code>Adam</code>  å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸ªçƒ¦æ¼ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å­¦ä¹ çš„å¼€å§‹è®¾ç½®ä¸€ä¸ªè¾ƒå¤§çš„ <code>lr</code> ï¼Œ <code>Adam</code>  ä¼šè‡ªåŠ¨éšç€è®¡ç®—è°ƒæ•´åˆé€‚çš„ <code>lr</code> ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>optimizer <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>optim<span class=\"token punctuation\">.</span>Adam<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">.</span>parameters<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> lr<span class=\"token operator\">=</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'learning_rate'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># è°ƒæ•´ è¶…å‚æ•°</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>config <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token string\">'seed'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">194343431</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token string\">'select_all'</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token string\">'valid_ratio'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token string\">'n_epochs'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token string\">'batch_size'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">256</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token string\">'learning_rate'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1e-3</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># è¿™é‡Œä» 1e-5 æ”¹æˆäº† 1e-3</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token string\">'early_stop'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token string\">'save_path'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'./models/model.ckpt'</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¿™æ ·çš„ä¼˜åŒ–ï¼ˆç§°ä¸ºä¼˜åŒ– 3ï¼‰çš„ç»“æœä¸ºï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># --- æµ‹è¯•é›† ---</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Epoch <span class=\"token punctuation\">[</span><span class=\"token number\">498</span><span class=\"token operator\">/</span><span class=\"token number\">15000</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> Train loss<span class=\"token punctuation\">:</span> <span class=\"token number\">1.3171</span><span class=\"token punctuation\">,</span> Valid loss<span class=\"token punctuation\">:</span> <span class=\"token number\">5.3677</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># --- éªŒè¯é›† ---</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Loss<span class=\"token punctuation\">:</span>  tensor<span class=\"token punctuation\">(</span><span class=\"token number\">2.2407</span><span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span>torch<span class=\"token punctuation\">.</span>float64<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>é€šè¿‡é€‰å–åˆé€‚çš„ç‰¹å¾ï¼Œloss å¯ä»¥è¿›ä¸€æ­¥ä¸‹é™ï¼š</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># ä¿®æ”¹ feat é€‰å–</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>feat_idx <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">38</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>            <span class=\"token number\">53</span><span class=\"token punctuation\">,</span> <span class=\"token number\">69</span><span class=\"token punctuation\">,</span> <span class=\"token number\">85</span><span class=\"token punctuation\">,</span> <span class=\"token number\">101</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># tested_positive</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>            <span class=\"token number\">49</span><span class=\"token punctuation\">,</span> <span class=\"token number\">65</span><span class=\"token punctuation\">,</span> <span class=\"token number\">81</span><span class=\"token punctuation\">,</span> <span class=\"token number\">97</span><span class=\"token punctuation\">,</span> <span class=\"token number\">113</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># public_transit</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token punctuation\">]</span>  <span class=\"token comment\"># TODO: Select suitable feature columns.</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># --- æµ‹è¯•é›† ---</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Epoch <span class=\"token punctuation\">[</span><span class=\"token number\">447</span><span class=\"token operator\">/</span><span class=\"token number\">3000</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> Train loss<span class=\"token punctuation\">:</span> <span class=\"token number\">1.6422</span><span class=\"token punctuation\">,</span> Valid loss<span class=\"token punctuation\">:</span> <span class=\"token number\">2.8130</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># --- éªŒè¯é›† ---</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Loss<span class=\"token punctuation\">:</span>  tensor<span class=\"token punctuation\">(</span><span class=\"token number\">1.4970</span><span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span>torch<span class=\"token punctuation\">.</span>float64<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><div class=\"note warning\">\n<p>åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œå¦‚æœä¸åŠ ä¸Šå·çš„ç‰¹å¾ï¼ˆå‰ 38 ä¸ªï¼‰çš„è¯ï¼ŒLoss ä¼šæ¯”è¾ƒé«˜ï¼ŒåŠ ä¸Šä¹‹åï¼Œåœ¨æµ‹è¯•é›†ä¸Šçš„ loss ä¼šä½ä¸€äº›ã€‚ç†è®ºæ¥è¯´ï¼Œå·çš„ç‰¹å¾ä¸ <code>tested_positive</code>  çš„ç›¸å…³æ€§å¹¶ä¸é«˜ï¼Œå¦‚æœåªæ˜¯è§£é‡Šä¸ºè¿‡æ‹Ÿåˆçš„è¯æˆ‘è§‰å¾—ä¸æ˜¯å¾ˆåˆç†ï¼Œæ‰€ä»¥è¿™é‡Œçš„ç‰¹å¾é€‰æ‹©å°±æ²¡æœ‰ä»€ä¹ˆç†è®ºæŒ‡å¯¼äº†ï¼Œçº¯ç²¹æ˜¯è¯•å‡ºæ¥çš„ï¼Œå¦‚æœæœ‰å¤§ä½¬èƒ½è§£é‡Šä¸ºä»€ä¹ˆæ±‚æ±‚è§£é‡Šä¸€ä¸‹ Orz</p>\n</div>\n<h1 id=\"æ€»ç»“\"><a class=\"anchor\" href=\"#æ€»ç»“\">#</a> æ€»ç»“</h1>\n<p><img data-src=\"http://imgcdn.gality.cn/blog/jvocmh.png\" alt=\"æ‹Ÿåˆå‡½æ•°\" /></p>\n<p>å¯ä»¥çœ‹åˆ°éšç€é¢„æµ‹çš„å‡†ç¡®ç‡æå‡ï¼Œé¢„æµ‹ç»“æœå’Œå®é™…ç»“æœçš„æ‹Ÿåˆæ˜¯è¶Šæ¥è¶Šå¥½çš„ã€‚æ•´ä¸ªé¡¹ç›®è‡³æ­¤å…ˆå‘Šä¸€æ®µè½äº†ï¼Œæ¥æ¥å›å›æµ‹è¯•äº†ä¸ä¸‹ 100 å¤šç§ä¼˜åŒ–çš„ç»„åˆï¼Œæ„Ÿè§‰ç»§ç»­èƒ¡ä¹±å°è¯•æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œé€šè¿‡è¿™ä¸ªä½œä¸šç†Ÿæ‚‰ PyTorchã€å­¦ä¹ ç¥ç»ç½‘ç»œçŸ¥è¯†çš„ç›®æ ‡ä¹Ÿå·²ç»è¾¾åˆ°äº†ï¼Œæ¥ä¸‹æ¥å°†ä¼šç»§ç»­å¾€åå­¦ä¹ ï¼Œè¿›ä¸€æ­¥æé«˜èƒ½åŠ›æ‰æ˜¯ç‹é“ã€‚</p>\n<h2 id=\"æ•´ä½“ä»£ç \"><a class=\"anchor\" href=\"#æ•´ä½“ä»£ç \">#</a> æ•´ä½“ä»£ç </h2>\n<details class=\"primary\"><summary>main.py</summary><div>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Numerical Operations</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> math</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># Reading/Writing Data</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> os</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> csv</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># For Progress Bar</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">from</span> tqdm <span class=\"token keyword\">import</span> tqdm</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># Pytorch</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">import</span> torch</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">import</span> torch<span class=\"token punctuation\">.</span>nn <span class=\"token keyword\">as</span> nn</pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">from</span> torch<span class=\"token punctuation\">.</span>utils<span class=\"token punctuation\">.</span>data <span class=\"token keyword\">import</span> Dataset<span class=\"token punctuation\">,</span> DataLoader<span class=\"token punctuation\">,</span> random_split</pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># For plotting learning curve</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">from</span> torch<span class=\"token punctuation\">.</span>utils<span class=\"token punctuation\">.</span>tensorboard <span class=\"token keyword\">import</span> SummaryWriter</pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\"># For plot</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt</pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token keyword\">import</span> seaborn <span class=\"token keyword\">as</span> sns</pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>device <span class=\"token operator\">=</span> <span class=\"token string\">'cuda'</span> <span class=\"token keyword\">if</span> torch<span class=\"token punctuation\">.</span>cuda<span class=\"token punctuation\">.</span>is_available<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">else</span> <span class=\"token string\">'cpu'</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>config <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token string\">'seed'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">7777777</span><span class=\"token punctuation\">,</span>      <span class=\"token comment\"># Your seed number, you can pick your lucky number. :)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token string\">'select_all'</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\"># Whether to use all features.</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token string\">'valid_ratio'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\"># validation_size = train_size * valid_ratio</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token string\">'n_epochs'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">,</span>     <span class=\"token comment\"># Number of epochs.</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token string\">'batch_size'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">256</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token string\">'learning_rate'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1e-3</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token string\">'early_stop'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\"># If model has not improved for this many consecutive epochs, stop training.</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token string\">'save_path'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'./models/model.ckpt'</span>  <span class=\"token comment\"># Your model will be saved here.</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td><pre></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">same_seed</span><span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"Fixes random number generator seeds for reproducibility.\"\"\"</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    torch<span class=\"token punctuation\">.</span>backends<span class=\"token punctuation\">.</span>cudnn<span class=\"token punctuation\">.</span>deterministic <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    torch<span class=\"token punctuation\">.</span>backends<span class=\"token punctuation\">.</span>cudnn<span class=\"token punctuation\">.</span>benchmark <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    np<span class=\"token punctuation\">.</span>random<span class=\"token punctuation\">.</span>seed<span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    torch<span class=\"token punctuation\">.</span>manual_seed<span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token keyword\">if</span> torch<span class=\"token punctuation\">.</span>cuda<span class=\"token punctuation\">.</span>is_available<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>        torch<span class=\"token punctuation\">.</span>cuda<span class=\"token punctuation\">.</span>manual_seed_all<span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token comment\"># Set seed for reproducibility</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>same_seed<span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'seed'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre></pre></td></tr><tr><td data-num=\"52\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">train_valid_split</span><span class=\"token punctuation\">(</span>data_set<span class=\"token punctuation\">,</span> valid_ratio<span class=\"token punctuation\">,</span> seed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"Split provided training data into training set and validation set\"\"\"</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    valid_set_size <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>valid_ratio <span class=\"token operator\">*</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>data_set<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>    train_set_size <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>data_set<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> valid_set_size</pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    train_set<span class=\"token punctuation\">,</span> valid_set <span class=\"token operator\">=</span> random_split<span class=\"token punctuation\">(</span>data_set<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>train_set_size<span class=\"token punctuation\">,</span> valid_set_size<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>                                        generator<span class=\"token operator\">=</span>torch<span class=\"token punctuation\">.</span>Generator<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>manual_seed<span class=\"token punctuation\">(</span>seed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token keyword\">return</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span>train_set<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span>valid_set<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre></pre></td></tr><tr><td data-num=\"60\"></td><td><pre></pre></td></tr><tr><td data-num=\"61\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">predict</span><span class=\"token punctuation\">(</span>test_loader<span class=\"token punctuation\">,</span> model<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>    model<span class=\"token punctuation\">.</span><span class=\"token builtin\">eval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Set your model to evaluation mode.</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    preds <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> tqdm<span class=\"token punctuation\">(</span>test_loader<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>        <span class=\"token keyword\">with</span> torch<span class=\"token punctuation\">.</span>no_grad<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>            pred <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>            preds<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>pred<span class=\"token punctuation\">.</span>detach<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>    preds <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>cat<span class=\"token punctuation\">(</span>preds<span class=\"token punctuation\">,</span> dim<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>numpy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>    <span class=\"token keyword\">return</span> preds</pre></td></tr><tr><td data-num=\"71\"></td><td><pre></pre></td></tr><tr><td data-num=\"72\"></td><td><pre></pre></td></tr><tr><td data-num=\"73\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">save_pred</span><span class=\"token punctuation\">(</span>preds<span class=\"token punctuation\">,</span> <span class=\"token builtin\">file</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\" Save predictions to specified file \"\"\"</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">file</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> fp<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>        writer <span class=\"token operator\">=</span> csv<span class=\"token punctuation\">.</span>writer<span class=\"token punctuation\">(</span>fp<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        writer<span class=\"token punctuation\">.</span>writerow<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'tested_positive'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>        <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> p <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>preds<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>            writer<span class=\"token punctuation\">.</span>writerow<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">,</span> p<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre></pre></td></tr><tr><td data-num=\"81\"></td><td><pre></pre></td></tr><tr><td data-num=\"82\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">COVID19Dataset</span><span class=\"token punctuation\">(</span>Dataset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"</pre></td></tr><tr><td data-num=\"84\"></td><td><pre>    x: Features.</pre></td></tr><tr><td data-num=\"85\"></td><td><pre>    y: Targets, if none, do prediction.</pre></td></tr><tr><td data-num=\"86\"></td><td><pre>    \"\"\"</span></pre></td></tr><tr><td data-num=\"87\"></td><td><pre></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token keyword\">if</span> y <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>            self<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> y</pre></td></tr><tr><td data-num=\"91\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>            self<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>FloatTensor<span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"93\"></td><td><pre>        self<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>FloatTensor<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__getitem__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>        <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>y <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"97\"></td><td><pre>            <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"99\"></td><td><pre>            <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__len__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre></pre></td></tr><tr><td data-num=\"104\"></td><td><pre></pre></td></tr><tr><td data-num=\"105\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">My_Model</span><span class=\"token punctuation\">(</span>nn<span class=\"token punctuation\">.</span>Module<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> input_dim<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>My_Model<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>        <span class=\"token comment\"># TODO: modify model's structure, be aware of dimensions.</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>        self<span class=\"token punctuation\">.</span>layers <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>Sequential<span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span>input_dim<span class=\"token punctuation\">,</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>LeakyReLU<span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Dropout<span class=\"token punctuation\">(</span>p<span class=\"token operator\">=</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># æ·»åŠ  Dropoutï¼ŒæŒ‡å®šä¸¢å¼ƒæ¦‚ç‡</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>LeakyReLU<span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>LeakyReLU<span class=\"token punctuation\">(</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>            nn<span class=\"token punctuation\">.</span>Linear<span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>        <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">forward</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>        x <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>layers<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>        x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>squeeze<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># (B, 1) -> (B)</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>        <span class=\"token keyword\">return</span> x</pre></td></tr><tr><td data-num=\"124\"></td><td><pre></pre></td></tr><tr><td data-num=\"125\"></td><td><pre></pre></td></tr><tr><td data-num=\"126\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">select_feat</span><span class=\"token punctuation\">(</span>train_data<span class=\"token punctuation\">,</span> valid_data<span class=\"token punctuation\">,</span> test_data<span class=\"token punctuation\">,</span> select_all<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>    <span class=\"token triple-quoted-string string\">\"\"\"Selects useful features to perform regression\"\"\"</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>    y_train<span class=\"token punctuation\">,</span> y_valid <span class=\"token operator\">=</span> train_data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> valid_data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>    raw_x_train<span class=\"token punctuation\">,</span> raw_x_valid<span class=\"token punctuation\">,</span> raw_x_test <span class=\"token operator\">=</span> train_data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> valid_data<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> test_data</pre></td></tr><tr><td data-num=\"130\"></td><td><pre></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>    <span class=\"token keyword\">if</span> select_all<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>        feat_idx <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>raw_x_train<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre>        feat_idx <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">38</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre>            <span class=\"token number\">53</span><span class=\"token punctuation\">,</span> <span class=\"token number\">69</span><span class=\"token punctuation\">,</span> <span class=\"token number\">85</span><span class=\"token punctuation\">,</span> <span class=\"token number\">101</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># tested_positive</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>            <span class=\"token number\">49</span><span class=\"token punctuation\">,</span> <span class=\"token number\">65</span><span class=\"token punctuation\">,</span> <span class=\"token number\">81</span><span class=\"token punctuation\">,</span> <span class=\"token number\">97</span><span class=\"token punctuation\">,</span> <span class=\"token number\">113</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># public_transit</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre>        <span class=\"token punctuation\">]</span>  <span class=\"token comment\"># TODO: Select suitable feature columns.</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>    <span class=\"token keyword\">return</span> raw_x_train<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> feat_idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> raw_x_valid<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> feat_idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> raw_x_test<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> feat_idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> y_train<span class=\"token punctuation\">,</span> y_valid</pre></td></tr><tr><td data-num=\"140\"></td><td><pre></pre></td></tr><tr><td data-num=\"141\"></td><td><pre></pre></td></tr><tr><td data-num=\"142\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">trainer</span><span class=\"token punctuation\">(</span>train_loader<span class=\"token punctuation\">,</span> valid_loader<span class=\"token punctuation\">,</span> model<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>    criterion <span class=\"token operator\">=</span> nn<span class=\"token punctuation\">.</span>MSELoss<span class=\"token punctuation\">(</span>reduction<span class=\"token operator\">=</span><span class=\"token string\">'mean'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Define your loss function, do not modify this.</span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>    <span class=\"token comment\"># Define your optimization algorithm.</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>    <span class=\"token comment\"># TODO: Please check https://pytorch.org/docs/stable/optim.html to get more available algorithms.</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>    <span class=\"token comment\"># TODO: L2 regularization (optimizer(weight decay...) or implement by your self).</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>    optimizer <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>optim<span class=\"token punctuation\">.</span>Adam<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">.</span>parameters<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> lr<span class=\"token operator\">=</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'learning_rate'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>    writer <span class=\"token operator\">=</span> SummaryWriter<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Writer of tensoboard.</span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre></pre></td></tr><tr><td data-num=\"152\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>isdir<span class=\"token punctuation\">(</span><span class=\"token string\">'./models'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"153\"></td><td><pre>        os<span class=\"token punctuation\">.</span>mkdir<span class=\"token punctuation\">(</span><span class=\"token string\">'./models'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Create directory of saving models.</span></pre></td></tr><tr><td data-num=\"154\"></td><td><pre></pre></td></tr><tr><td data-num=\"155\"></td><td><pre>    n_epochs<span class=\"token punctuation\">,</span> best_loss<span class=\"token punctuation\">,</span> step<span class=\"token punctuation\">,</span> early_stop_count <span class=\"token operator\">=</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'n_epochs'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> math<span class=\"token punctuation\">.</span>inf<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"156\"></td><td><pre></pre></td></tr><tr><td data-num=\"157\"></td><td><pre>    <span class=\"token keyword\">for</span> epoch <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>n_epochs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"158\"></td><td><pre>        model<span class=\"token punctuation\">.</span>train<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Set your model to train mode.</span></pre></td></tr><tr><td data-num=\"159\"></td><td><pre>        loss_record <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"160\"></td><td><pre></pre></td></tr><tr><td data-num=\"161\"></td><td><pre>        <span class=\"token comment\"># tqdm is a package to visualize your training progress.</span></pre></td></tr><tr><td data-num=\"162\"></td><td><pre>        train_pbar <span class=\"token operator\">=</span> tqdm<span class=\"token punctuation\">(</span>train_loader<span class=\"token punctuation\">,</span> position<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> leave<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"163\"></td><td><pre></pre></td></tr><tr><td data-num=\"164\"></td><td><pre>        <span class=\"token keyword\">for</span> x<span class=\"token punctuation\">,</span> y <span class=\"token keyword\">in</span> train_pbar<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"165\"></td><td><pre>            optimizer<span class=\"token punctuation\">.</span>zero_grad<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Set gradient to zero.</span></pre></td></tr><tr><td data-num=\"166\"></td><td><pre>            x<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Move your data to device.</span></pre></td></tr><tr><td data-num=\"167\"></td><td><pre>            pred <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"168\"></td><td><pre>            loss <span class=\"token operator\">=</span> criterion<span class=\"token punctuation\">(</span>pred<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"169\"></td><td><pre>            loss<span class=\"token punctuation\">.</span>backward<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Compute gradient(backpropagation).</span></pre></td></tr><tr><td data-num=\"170\"></td><td><pre>            optimizer<span class=\"token punctuation\">.</span>step<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Update parameters.</span></pre></td></tr><tr><td data-num=\"171\"></td><td><pre>            step <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"172\"></td><td><pre>            loss_record<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>loss<span class=\"token punctuation\">.</span>detach<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"173\"></td><td><pre></pre></td></tr><tr><td data-num=\"174\"></td><td><pre>            <span class=\"token comment\"># Display current epoch number and loss on tqdm progress bar.</span></pre></td></tr><tr><td data-num=\"175\"></td><td><pre>            train_pbar<span class=\"token punctuation\">.</span>set_description<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'Epoch [</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>epoch <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>n_epochs<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">]'</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"176\"></td><td><pre>            train_pbar<span class=\"token punctuation\">.</span>set_postfix<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">'loss'</span><span class=\"token punctuation\">:</span> loss<span class=\"token punctuation\">.</span>detach<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"177\"></td><td><pre></pre></td></tr><tr><td data-num=\"178\"></td><td><pre>        mean_train_loss <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>loss_record<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>loss_record<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"179\"></td><td><pre>        writer<span class=\"token punctuation\">.</span>add_scalar<span class=\"token punctuation\">(</span><span class=\"token string\">'Loss/train'</span><span class=\"token punctuation\">,</span> mean_train_loss<span class=\"token punctuation\">,</span> step<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"180\"></td><td><pre></pre></td></tr><tr><td data-num=\"181\"></td><td><pre>        <span class=\"token comment\"># åœ¨éªŒè¯é›†ä¸Šè¿›è¡Œæ¨¡å‹å‡†ç¡®ç‡çš„åˆ†æéªŒè¯ã€‚</span></pre></td></tr><tr><td data-num=\"182\"></td><td><pre>        model<span class=\"token punctuation\">.</span><span class=\"token builtin\">eval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Set your model to evaluation mode.</span></pre></td></tr><tr><td data-num=\"183\"></td><td><pre>        loss_record <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"184\"></td><td><pre>        <span class=\"token keyword\">for</span> x<span class=\"token punctuation\">,</span> y <span class=\"token keyword\">in</span> valid_loader<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"185\"></td><td><pre>            x<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"186\"></td><td><pre>            <span class=\"token keyword\">with</span> torch<span class=\"token punctuation\">.</span>no_grad<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"187\"></td><td><pre>                pred <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"188\"></td><td><pre>                loss <span class=\"token operator\">=</span> criterion<span class=\"token punctuation\">(</span>pred<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"189\"></td><td><pre></pre></td></tr><tr><td data-num=\"190\"></td><td><pre>            loss_record<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>loss<span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"191\"></td><td><pre></pre></td></tr><tr><td data-num=\"192\"></td><td><pre>        mean_valid_loss <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>loss_record<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>loss_record<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"193\"></td><td><pre>        tqdm<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'Epoch [</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>epoch <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>n_epochs<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">]: Train loss: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>mean_train_loss<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.4f</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">, '</span></span></pre></td></tr><tr><td data-num=\"194\"></td><td><pre>                   <span class=\"token string-interpolation\"><span class=\"token string\">f'Valid loss: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>mean_valid_loss<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.4f</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"195\"></td><td><pre>        writer<span class=\"token punctuation\">.</span>add_scalar<span class=\"token punctuation\">(</span><span class=\"token string\">'Loss/valid'</span><span class=\"token punctuation\">,</span> mean_valid_loss<span class=\"token punctuation\">,</span> step<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"196\"></td><td><pre></pre></td></tr><tr><td data-num=\"197\"></td><td><pre>        <span class=\"token keyword\">if</span> mean_valid_loss <span class=\"token operator\">&lt;</span> best_loss<span class=\"token punctuation\">:</span>  <span class=\"token comment\"># å¦‚æœå½“å‰ loss ä½äºè¿‡å»æœ€ä½çš„ lossï¼Œåˆ™è®°å½• lossï¼Œå¹¶ä¿å­˜å½“å‰æœ€å¥½çš„æ¨¡å‹ã€‚</span></pre></td></tr><tr><td data-num=\"198\"></td><td><pre>            best_loss <span class=\"token operator\">=</span> mean_valid_loss</pre></td></tr><tr><td data-num=\"199\"></td><td><pre>            torch<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>model<span class=\"token punctuation\">.</span>state_dict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'save_path'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Save your best model</span></pre></td></tr><tr><td data-num=\"200\"></td><td><pre>            tqdm<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">'Saving model with loss &#123;:.3f&#125;...'</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>best_loss<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"201\"></td><td><pre>            early_stop_count <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"202\"></td><td><pre>        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"203\"></td><td><pre>            early_stop_count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"204\"></td><td><pre></pre></td></tr><tr><td data-num=\"205\"></td><td><pre>        <span class=\"token keyword\">if</span> early_stop_count <span class=\"token operator\">>=</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'early_stop'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"206\"></td><td><pre>            tqdm<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">'\\nModel is not improving, so we halt the training session.'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"207\"></td><td><pre>            <span class=\"token keyword\">return</span></pre></td></tr><tr><td data-num=\"208\"></td><td><pre></pre></td></tr><tr><td data-num=\"209\"></td><td><pre></pre></td></tr><tr><td data-num=\"210\"></td><td><pre><span class=\"token comment\"># train_data size: 2699 x 118 (id + 37 states + 16 features x 5 days)</span></pre></td></tr><tr><td data-num=\"211\"></td><td><pre><span class=\"token comment\"># test_data size: 1078 x 117 (without last day's positive rate)</span></pre></td></tr><tr><td data-num=\"212\"></td><td><pre>train_data<span class=\"token punctuation\">,</span> test_data <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'./data/covid.train.csv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">,</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'./data/covid.test.csv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>values</pre></td></tr><tr><td data-num=\"213\"></td><td><pre>train_data<span class=\"token punctuation\">,</span> valid_data <span class=\"token operator\">=</span> train_valid_split<span class=\"token punctuation\">(</span>train_data<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'valid_ratio'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'seed'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"214\"></td><td><pre></pre></td></tr><tr><td data-num=\"215\"></td><td><pre><span class=\"token comment\"># Print out the data size.</span></pre></td></tr><tr><td data-num=\"216\"></td><td><pre>tqdm<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"\"\"</pre></td></tr><tr><td data-num=\"217\"></td><td><pre>train_data size: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>train_data<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> </pre></td></tr><tr><td data-num=\"218\"></td><td><pre>valid_data size: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>valid_data<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\"> </pre></td></tr><tr><td data-num=\"219\"></td><td><pre>test_data size: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>test_data<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">\"\"\"</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"220\"></td><td><pre></pre></td></tr><tr><td data-num=\"221\"></td><td><pre><span class=\"token comment\"># Select features</span></pre></td></tr><tr><td data-num=\"222\"></td><td><pre>x_train<span class=\"token punctuation\">,</span> x_valid<span class=\"token punctuation\">,</span> x_test<span class=\"token punctuation\">,</span> y_train<span class=\"token punctuation\">,</span> y_valid <span class=\"token operator\">=</span> select_feat<span class=\"token punctuation\">(</span>train_data<span class=\"token punctuation\">,</span> valid_data<span class=\"token punctuation\">,</span> test_data<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">[</span><span class=\"token string\">'select_all'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"223\"></td><td><pre></pre></td></tr><tr><td data-num=\"224\"></td><td><pre><span class=\"token comment\"># Print out the number of features.</span></pre></td></tr><tr><td data-num=\"225\"></td><td><pre>tqdm<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'number of features: </span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>x_train<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"226\"></td><td><pre></pre></td></tr><tr><td data-num=\"227\"></td><td><pre>train_dataset<span class=\"token punctuation\">,</span> valid_dataset<span class=\"token punctuation\">,</span> test_dataset <span class=\"token operator\">=</span> COVID19Dataset<span class=\"token punctuation\">(</span>x_train<span class=\"token punctuation\">,</span> y_train<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \\</pre></td></tr><tr><td data-num=\"228\"></td><td><pre>                                            COVID19Dataset<span class=\"token punctuation\">(</span>x_valid<span class=\"token punctuation\">,</span> y_valid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \\</pre></td></tr><tr><td data-num=\"229\"></td><td><pre>                                            COVID19Dataset<span class=\"token punctuation\">(</span>x_test<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"230\"></td><td><pre></pre></td></tr><tr><td data-num=\"231\"></td><td><pre><span class=\"token comment\"># Pytorch data loader loads pytorch dataset into batches.</span></pre></td></tr><tr><td data-num=\"232\"></td><td><pre>train_loader <span class=\"token operator\">=</span> DataLoader<span class=\"token punctuation\">(</span>train_dataset<span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'batch_size'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pin_memory<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"233\"></td><td><pre>valid_loader <span class=\"token operator\">=</span> DataLoader<span class=\"token punctuation\">(</span>valid_dataset<span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'batch_size'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pin_memory<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"234\"></td><td><pre>test_loader <span class=\"token operator\">=</span> DataLoader<span class=\"token punctuation\">(</span>test_dataset<span class=\"token punctuation\">,</span> batch_size<span class=\"token operator\">=</span>config<span class=\"token punctuation\">[</span><span class=\"token string\">'batch_size'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> shuffle<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> pin_memory<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"235\"></td><td><pre></pre></td></tr><tr><td data-num=\"236\"></td><td><pre>model <span class=\"token operator\">=</span> My_Model<span class=\"token punctuation\">(</span>input_dim<span class=\"token operator\">=</span>x_train<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># put your model and data on the same computation device.</span></pre></td></tr><tr><td data-num=\"237\"></td><td><pre><span class=\"token comment\"># å¼€å§‹è®­ç»ƒæ¨¡å‹</span></pre></td></tr><tr><td data-num=\"238\"></td><td><pre>trainer<span class=\"token punctuation\">(</span>train_loader<span class=\"token punctuation\">,</span> valid_loader<span class=\"token punctuation\">,</span> model<span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"239\"></td><td><pre></pre></td></tr><tr><td data-num=\"240\"></td><td><pre><span class=\"token comment\"># ä½¿ç”¨è¿›è¡Œæ¨¡å‹é¢„æµ‹</span></pre></td></tr><tr><td data-num=\"241\"></td><td><pre><span class=\"token comment\"># model.load_state_dict(torch.load(config['save_path']))</span></pre></td></tr><tr><td data-num=\"242\"></td><td><pre><span class=\"token comment\"># preds = predict(test_loader, model, device)</span></pre></td></tr><tr><td data-num=\"243\"></td><td><pre><span class=\"token comment\"># save_pred(preds, 'pred.csv')</span></pre></td></tr><tr><td data-num=\"244\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"245\"></td><td><pre><span class=\"token comment\"># predict_data, real_data = pd.read_csv('./pred.csv'), pd.read_csv('./data/covid.test.csv')</span></pre></td></tr><tr><td data-num=\"246\"></td><td><pre><span class=\"token comment\"># # è®¡ç®—é¢„æµ‹å€¼å’Œå®é™…å€¼çš„ MSE</span></pre></td></tr><tr><td data-num=\"247\"></td><td><pre><span class=\"token comment\"># loss = nn.MSELoss()</span></pre></td></tr><tr><td data-num=\"248\"></td><td><pre><span class=\"token comment\"># out = loss(torch.tensor(predict_data['tested_positive'].values), torch.tensor(real_data['tested_positive'].values))</span></pre></td></tr><tr><td data-num=\"249\"></td><td><pre><span class=\"token comment\"># print('Loss: ', out)</span></pre></td></tr><tr><td data-num=\"250\"></td><td><pre><span class=\"token comment\"># df = pd.concat ([predict_data ['tested_positive'], real_data ['tested_positive']], axis=1)  # æ‹¼æ¥ä¸¤ä¸ª Series</span></pre></td></tr><tr><td data-num=\"251\"></td><td><pre><span class=\"token comment\"># df.columns = ['predicted', 'ground truth']  # é‡å‘½ååˆ—å</span></pre></td></tr><tr><td data-num=\"252\"></td><td><pre><span class=\"token comment\"># sns.lmplot (x='predicted', y='ground truth', data=df)  # ç»˜åˆ¶æ‹Ÿåˆçº¿æ€§å›å½’å›¾</span></pre></td></tr><tr><td data-num=\"253\"></td><td><pre><span class=\"token comment\"># plt.show()</span></pre></td></tr></table></figure></div></details>\n<h1 id=\"å‚è€ƒ\"><a class=\"anchor\" href=\"#å‚è€ƒ\">#</a> å‚è€ƒ</h1>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zcGVlY2guZWUubnR1LmVkdS50dy9+aHlsZWUvbWwvbWwyMDIyLWNvdXJzZS1kYXRhL0hXMDEucGRm\">https://speech.ee.ntu.edu.tw/~hylee/ml/ml2022-course-data/HW01.pdf</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMW0zNDExcDd3RD9wPTE=\">https://www.bilibili.com/video/BV1m3411p7wD?p=1</span></li>\n</ul>\n",
            "tags": [
                "æœºå™¨å­¦ä¹ ",
                "ä½œä¸š",
                "æœºå™¨å­¦ä¹ ",
                "æ·±åº¦å­¦ä¹ ",
                "ç¥ç»ç½‘ç»œ",
                "å¤§ä½œä¸š"
            ]
        }
    ]
}